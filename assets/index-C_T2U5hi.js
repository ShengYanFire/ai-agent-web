const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/combine_docs_chain-DLC0-S5l.js","assets/llm_chain-CZXYZFuA.js","assets/vector_db_qa-DltBhFZb.js","assets/api_chain-DxXFv819.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Is(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Am={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function uk(){if(s1)return Il;s1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var o1;function lk(){return o1||(o1=1,Am.exports=uk()),Am.exports}var tt=lk(),Om={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function ck(){if(u1)return dt;u1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function b(v){return v===null||typeof v!="object"?null:(v=m&&v[m]||v["@@iterator"],typeof v=="function"?v:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function A(v,G,re){this.props=v,this.context=G,this.refs=w,this.updater=re||E}A.prototype.isReactComponent={},A.prototype.setState=function(v,G){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,G,"setState")},A.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function O(){}O.prototype=A.prototype;function k(v,G,re){this.props=v,this.context=G,this.refs=w,this.updater=re||E}var C=k.prototype=new O;C.constructor=k,T(C,A.prototype),C.isPureReactComponent=!0;var $=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function se(v,G,re,x,ge,be){return re=be.ref,{$$typeof:t,type:v,key:G,ref:re!==void 0?re:null,props:be}}function q(v,G){return se(v.type,G,void 0,void 0,void 0,v.props)}function me(v){return typeof v=="object"&&v!==null&&v.$$typeof===t}function V(v){var G={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(re){return G[re]})}var ce=/\/+/g;function he(v,G){return typeof v=="object"&&v!==null&&v.key!=null?V(""+v.key):G.toString(36)}function ve(){}function X(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(ve,ve):(v.status="pending",v.then(function(G){v.status==="pending"&&(v.status="fulfilled",v.value=G)},function(G){v.status==="pending"&&(v.status="rejected",v.reason=G)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function K(v,G,re,x,ge){var be=typeof v;(be==="undefined"||be==="boolean")&&(v=null);var Se=!1;if(v===null)Se=!0;else switch(be){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(v.$$typeof){case t:case e:Se=!0;break;case p:return Se=v._init,K(Se(v._payload),G,re,x,ge)}}if(Se)return ge=ge(v),Se=x===""?"."+he(v,0):x,$(ge)?(re="",Se!=null&&(re=Se.replace(ce,"$&/")+"/"),K(ge,G,re,"",function(Ft){return Ft})):ge!=null&&(me(ge)&&(ge=q(ge,re+(ge.key==null||v&&v.key===ge.key?"":(""+ge.key).replace(ce,"$&/")+"/")+Se)),G.push(ge)),1;Se=0;var We=x===""?".":x+":";if($(v))for(var nt=0;nt<v.length;nt++)x=v[nt],be=We+he(x,nt),Se+=K(x,G,re,be,ge);else if(nt=b(v),typeof nt=="function")for(v=nt.call(v),nt=0;!(x=v.next()).done;)x=x.value,be=We+he(x,nt++),Se+=K(x,G,re,be,ge);else if(be==="object"){if(typeof v.then=="function")return K(X(v),G,re,x,ge);throw G=String(v),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Se}function U(v,G,re){if(v==null)return v;var x=[],ge=0;return K(v,x,"","",function(be){return G.call(re,be,ge++)}),x}function Z(v){if(v._status===-1){var G=v._result;G=G(),G.then(function(re){(v._status===0||v._status===-1)&&(v._status=1,v._result=re)},function(re){(v._status===0||v._status===-1)&&(v._status=2,v._result=re)}),v._status===-1&&(v._status=0,v._result=G)}if(v._status===1)return v._result.default;throw v._result}var z=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)};function ue(){}return dt.Children={map:U,forEach:function(v,G,re){U(v,function(){G.apply(this,arguments)},re)},count:function(v){var G=0;return U(v,function(){G++}),G},toArray:function(v){return U(v,function(G){return G})||[]},only:function(v){if(!me(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},dt.Component=A,dt.Fragment=n,dt.Profiler=a,dt.PureComponent=k,dt.StrictMode=r,dt.Suspense=d,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,dt.__COMPILER_RUNTIME={__proto__:null,c:function(v){return P.H.useMemoCache(v)}},dt.cache=function(v){return function(){return v.apply(null,arguments)}},dt.cloneElement=function(v,G,re){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var x=T({},v.props),ge=v.key,be=void 0;if(G!=null)for(Se in G.ref!==void 0&&(be=void 0),G.key!==void 0&&(ge=""+G.key),G)!M.call(G,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&G.ref===void 0||(x[Se]=G[Se]);var Se=arguments.length-2;if(Se===1)x.children=re;else if(1<Se){for(var We=Array(Se),nt=0;nt<Se;nt++)We[nt]=arguments[nt+2];x.children=We}return se(v.type,ge,void 0,void 0,be,x)},dt.createContext=function(v){return v={$$typeof:u,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:o,_context:v},v},dt.createElement=function(v,G,re){var x,ge={},be=null;if(G!=null)for(x in G.key!==void 0&&(be=""+G.key),G)M.call(G,x)&&x!=="key"&&x!=="__self"&&x!=="__source"&&(ge[x]=G[x]);var Se=arguments.length-2;if(Se===1)ge.children=re;else if(1<Se){for(var We=Array(Se),nt=0;nt<Se;nt++)We[nt]=arguments[nt+2];ge.children=We}if(v&&v.defaultProps)for(x in Se=v.defaultProps,Se)ge[x]===void 0&&(ge[x]=Se[x]);return se(v,be,void 0,void 0,null,ge)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(v){return{$$typeof:c,render:v}},dt.isValidElement=me,dt.lazy=function(v){return{$$typeof:p,_payload:{_status:-1,_result:v},_init:Z}},dt.memo=function(v,G){return{$$typeof:f,type:v,compare:G===void 0?null:G}},dt.startTransition=function(v){var G=P.T,re={};P.T=re;try{var x=v(),ge=P.S;ge!==null&&ge(re,x),typeof x=="object"&&x!==null&&typeof x.then=="function"&&x.then(ue,z)}catch(be){z(be)}finally{P.T=G}},dt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},dt.use=function(v){return P.H.use(v)},dt.useActionState=function(v,G,re){return P.H.useActionState(v,G,re)},dt.useCallback=function(v,G){return P.H.useCallback(v,G)},dt.useContext=function(v){return P.H.useContext(v)},dt.useDebugValue=function(){},dt.useDeferredValue=function(v,G){return P.H.useDeferredValue(v,G)},dt.useEffect=function(v,G,re){var x=P.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return x.useEffect(v,G)},dt.useId=function(){return P.H.useId()},dt.useImperativeHandle=function(v,G,re){return P.H.useImperativeHandle(v,G,re)},dt.useInsertionEffect=function(v,G){return P.H.useInsertionEffect(v,G)},dt.useLayoutEffect=function(v,G){return P.H.useLayoutEffect(v,G)},dt.useMemo=function(v,G){return P.H.useMemo(v,G)},dt.useOptimistic=function(v,G){return P.H.useOptimistic(v,G)},dt.useReducer=function(v,G,re){return P.H.useReducer(v,G,re)},dt.useRef=function(v){return P.H.useRef(v)},dt.useState=function(v){return P.H.useState(v)},dt.useSyncExternalStore=function(v,G,re){return P.H.useSyncExternalStore(v,G,re)},dt.useTransition=function(){return P.H.useTransition()},dt.version="19.1.1",dt}var l1;function O0(){return l1||(l1=1,Om.exports=ck()),Om.exports}var Hr=O0(),Nm={exports:{}},Ml={},xm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function dk(){return c1||(c1=1,(function(t){function e(U,Z){var z=U.length;U.push(Z);e:for(;0<z;){var ue=z-1>>>1,v=U[ue];if(0<a(v,Z))U[ue]=Z,U[z]=v,z=ue;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],z=U.pop();if(z!==Z){U[0]=z;e:for(var ue=0,v=U.length,G=v>>>1;ue<G;){var re=2*(ue+1)-1,x=U[re],ge=re+1,be=U[ge];if(0>a(x,z))ge<v&&0>a(be,x)?(U[ue]=be,U[ge]=z,ue=ge):(U[ue]=x,U[re]=z,ue=re);else if(ge<v&&0>a(be,z))U[ue]=be,U[ge]=z,ue=ge;else break e}}return Z}function a(U,Z){var z=U.sortIndex-Z.sortIndex;return z!==0?z:U.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],f=[],p=1,m=null,b=3,E=!1,T=!1,w=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function $(U){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=U)r(f),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(f)}}function P(U){if(w=!1,$(U),!T)if(n(d)!==null)T=!0,M||(M=!0,he());else{var Z=n(f);Z!==null&&K(P,Z.startTime-U)}}var M=!1,se=-1,q=5,me=-1;function V(){return A?!0:!(t.unstable_now()-me<q)}function ce(){if(A=!1,M){var U=t.unstable_now();me=U;var Z=!0;try{e:{T=!1,w&&(w=!1,k(se),se=-1),E=!0;var z=b;try{t:{for($(U),m=n(d);m!==null&&!(m.expirationTime>U&&V());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,b=m.priorityLevel;var v=ue(m.expirationTime<=U);if(U=t.unstable_now(),typeof v=="function"){m.callback=v,$(U),Z=!0;break t}m===n(d)&&r(d),$(U)}else r(d);m=n(d)}if(m!==null)Z=!0;else{var G=n(f);G!==null&&K(P,G.startTime-U),Z=!1}}break e}finally{m=null,b=z,E=!1}Z=void 0}}finally{Z?he():M=!1}}}var he;if(typeof C=="function")he=function(){C(ce)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,X=ve.port2;ve.port1.onmessage=ce,he=function(){X.postMessage(null)}}else he=function(){O(ce,0)};function K(U,Z){se=O(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var z=b;b=Z;try{return U()}finally{b=z}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var z=b;b=U;try{return Z()}finally{b=z}},t.unstable_scheduleCallback=function(U,Z,z){var ue=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ue+z:ue):z=ue,U){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=z+v,U={id:p++,callback:Z,priorityLevel:U,startTime:z,expirationTime:v,sortIndex:-1},z>ue?(U.sortIndex=z,e(f,U),n(d)===null&&U===n(f)&&(w?(k(se),se=-1):w=!0,K(P,z-ue))):(U.sortIndex=v,e(d,U),T||E||(T=!0,M||(M=!0,he()))),U},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(U){var Z=b;return function(){var z=b;b=Z;try{return U.apply(this,arguments)}finally{b=z}}}})(Cm)),Cm}var d1;function fk(){return d1||(d1=1,xm.exports=dk()),xm.exports}var Rm={exports:{}},fr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function hk(){if(f1)return fr;f1=1;var t=O0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,p)},fr.flushSync=function(d){var f=u.T,p=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=p,r.d.f()}},fr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},fr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:E}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},fr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},fr.requestFormReset=function(d){r.d.r(d)},fr.unstable_batchedUpdates=function(d,f){return d(f)},fr.useFormState=function(d,f,p){return u.H.useFormState(d,f,p)},fr.useFormStatus=function(){return u.H.useHostTransitionStatus()},fr.version="19.1.1",fr}var h1;function pk(){if(h1)return Rm.exports;h1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rm.exports=hk(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function mk(){if(p1)return Ml;p1=1;var t=fk(),e=O0(),n=pk();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return c(g),i;if(_===h)return c(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=_;else{for(var S=!1,N=g.child;N;){if(N===l){S=!0,l=g,h=_;break}if(N===h){S=!0,h=g,l=_;break}N=N.sibling}if(!S){for(N=_.child;N;){if(N===l){S=!0,l=_,h=g;break}if(N===h){S=!0,h=_,l=g;break}N=N.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function f(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=f(i),s!==null)return s;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=ce&&i[ce]||i["@@iterator"],typeof i=="function"?i:null)}var ve=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ve?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList";case me:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case C:return(i.displayName||"Context")+".Provider";case k:return(i._context.displayName||"Context")+".Consumer";case $:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case se:return s=i.displayName||null,s!==null?s:X(i.type)||"Memo";case q:s=i._payload,i=i._init;try{return X(i(s))}catch{}}return null}var K=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},ue=[],v=-1;function G(i){return{current:i}}function re(i){0>v||(i.current=ue[v],ue[v]=null,v--)}function x(i,s){v++,ue[v]=i.current,i.current=s}var ge=G(null),be=G(null),Se=G(null),We=G(null);function nt(i,s){switch(x(Se,s),x(be,i),x(ge,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?LT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=LT(s),i=DT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ge),x(ge,i)}function Ft(){re(ge),re(be),re(Se)}function Nt(i){i.memoizedState!==null&&x(We,i);var s=ge.current,l=DT(s,i.type);s!==l&&(x(be,i),x(ge,l))}function qt(i){be.current===i&&(re(ge),re(be)),We.current===i&&(re(We),Nl._currentValue=z)}var Zt=Object.prototype.hasOwnProperty,On=t.unstable_scheduleCallback,hn=t.unstable_cancelCallback,Xn=t.unstable_shouldYield,lt=t.unstable_requestPaint,Dt=t.unstable_now,yn=t.unstable_getCurrentPriorityLevel,sr=t.unstable_ImmediatePriority,Ce=t.unstable_UserBlockingPriority,or=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,He=t.log,Re=t.unstable_setDisableYieldValue,F=null,te=null;function pe(i){if(typeof He=="function"&&Re(i),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(F,i)}catch{}}var De=Math.clz32?Math.clz32:ur,gt=Math.log,En=Math.LN2;function ur(i){return i>>>=0,i===0?32:31-(gt(i)/En|0)|0}var Tn=256,ln=4194304;function pn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function an(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,_=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var N=h&134217727;return N!==0?(h=N&~_,h!==0?g=pn(h):(S&=N,S!==0?g=pn(S):l||(l=N&~i,l!==0&&(g=pn(l))))):(N=h&~_,N!==0?g=pn(N):S!==0?g=pn(S):l||(l=h&~i,l!==0&&(g=pn(l)))),g===0?0:s!==0&&s!==g&&(s&_)===0&&(_=g&-g,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:g}function Hn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Qn(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qa(){var i=Tn;return Tn<<=1,(Tn&4194048)===0&&(Tn=256),i}function Ga(){var i=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),i}function Ps(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Rr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ya(i,s,l,h,g,_){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var N=i.entanglements,D=i.expirationTimes,J=i.hiddenUpdates;for(l=S&~l;0<l;){var oe=31-De(l),de=1<<oe;N[oe]=0,D[oe]=-1;var ee=J[oe];if(ee!==null)for(J[oe]=null,oe=0;oe<ee.length;oe++){var ne=ee[oe];ne!==null&&(ne.lane&=-536870913)}l&=~de}h!==0&&B(i,h,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(S&~s))}function B(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-De(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function ae(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-De(l),g=1<<h;g&s|i[h]&s&&(i[h]|=s),l&=~g}}function Oe(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Je(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Xt(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:e1(i.type))}function Qt(i,s){var l=Z.p;try{return Z.p=i,s()}finally{Z.p=l}}var Me=Math.random().toString(36).slice(2),xe="__reactFiber$"+Me,ze="__reactProps$"+Me,St="__reactContainer$"+Me,Mt="__reactEvents$"+Me,Va="__reactListeners$"+Me,$i="__reactHandles$"+Me,Ka="__reactResources$"+Me,Za="__reactMarker$"+Me;function Wn(i){delete i[xe],delete i[ze],delete i[Mt],delete i[Va],delete i[$i]}function Sa(i){var s=i[xe];if(s)return s;for(var l=i.parentNode;l;){if(s=l[St]||l[xe]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=FT(i);i!==null;){if(l=i[xe])return l;i=FT(i)}return s}i=l,l=i.parentNode}return null}function Aa(i){if(i=i[xe]||i[St]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Xa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function sa(i){var s=i[Ka];return s||(s=i[Ka]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function rn(i){i[Za]=!0}var qe=new Set,j={};function ye(i,s){Ie(i,s),Ie(i+"Capture",s)}function Ie(i,s){for(j[i]=s,i=0;i<s.length;i++)qe.add(s[i])}var $t=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mn={},sn={};function zn(i){return Zt.call(sn,i)?!0:Zt.call(mn,i)?!1:$t.test(i)?sn[i]=!0:(mn[i]=!0,!1)}function lr(i,s,l){if(zn(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function br(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function _r(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}var fe,Ge;function it(i){if(fe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);fe=s&&s[1]||"",Ge=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+i+Ge}var Pt=!1;function cn(i,s){if(!i||Pt)return"";Pt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var ee=ne}Reflect.construct(i,[],de)}else{try{de.call()}catch(ne){ee=ne}i.call(de.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(de=i())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),S=_[0],N=_[1];if(S&&N){var D=S.split(`
`),J=N.split(`
`);for(g=h=0;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(h===D.length||g===J.length)for(h=D.length-1,g=J.length-1;1<=h&&0<=g&&D[h]!==J[g];)g--;for(;1<=h&&0<=g;h--,g--)if(D[h]!==J[g]){if(h!==1||g!==1)do if(h--,g--,0>g||D[h]!==J[g]){var oe=`
`+D[h].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=h&&0<=g);break}}}finally{Pt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?it(l):""}function qr(i){switch(i.tag){case 26:case 27:case 5:return it(i.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return cn(i.type,!1);case 11:return cn(i.type.render,!1);case 1:return cn(i.type,!0);case 31:return it("Activity");default:return""}}function Oa(i){try{var s="";do s+=qr(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function oa(i){var s=cr(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,_.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Us(i){i._valueTracker||(i._valueTracker=oa(i))}function Bu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=cr(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Bs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nh=/[\n"\\]/g;function kr(i){return i.replace(Nh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fu(i,s,l,h,g,_,S,N){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Jn(s)):i.value!==""+Jn(s)&&(i.value=""+Jn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Hi(i,S,Jn(s)):l!=null?Hi(i,S,Jn(l)):h!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+Jn(N):i.removeAttribute("name")}function Vc(i,s,l,h,g,_,S,N){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;l=l!=null?""+Jn(l):"",s=s!=null?""+Jn(s):l,N||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=N?i.checked:!!h,i.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Hi(i,s,l){s==="number"&&Bs(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function _i(i,s,l,h){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Jn(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Gr(i,s,l){if(s!=null&&(s=""+Jn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Jn(l):""}function Kc(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(K(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=Jn(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Qa(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var st=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||st.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Nn(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&$u(i,g,h)}else for(var _ in s)s.hasOwnProperty(_)&&$u(i,_,s[_])}function Ut(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zi(i){return yi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Fs=null;function ke(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ue=null,at=null;function Ct(i){var s=Aa(i);if(s&&(i=s.stateNode)){var l=i[ze]||null;e:switch(i=s.stateNode,s.type){case"input":if(Fu(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var g=h[ze]||null;if(!g)throw Error(r(90));Fu(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&Bu(h)}break e;case"textarea":Gr(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&_i(i,!!l.multiple,s,!1)}}}var xn=!1;function ua(i,s,l){if(xn)return i(s,l);xn=!0;try{var h=i(s);return h}finally{if(xn=!1,(Ue!==null||at!==null)&&(Md(),Ue&&(s=Ue,i=at,at=Ue=null,Ct(s),i)))for(s=0;s<i.length;s++)Ct(i[s])}}function $s(i,s){var l=i.stateNode;if(l===null)return null;var h=l[ze]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=!1;if(Na)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){xh=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{xh=!1}var ji=null,Ch=null,Zc=null;function B_(){if(Zc)return Zc;var i,s=Ch,l=s.length,h,g="value"in ji?ji.value:ji.textContent,_=g.length;for(i=0;i<l&&s[i]===g[i];i++);var S=l-i;for(h=1;h<=S&&s[l-h]===g[_-h];h++);return Zc=g.slice(i,1<h?1-h:void 0)}function Xc(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Qc(){return!0}function F_(){return!1}function Ir(i){function s(l,h,g,_,S){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(l=i[N],this[N]=l?l(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Qc:F_,this.isPropagationStopped=F_,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),s}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=Ir(Hs),zu=p({},Hs,{view:0,detail:0}),uC=Ir(zu),Rh,kh,ju,Jc=p({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ju&&(ju&&i.type==="mousemove"?(Rh=i.screenX-ju.screenX,kh=i.screenY-ju.screenY):kh=Rh=0,ju=i),Rh)},movementY:function(i){return"movementY"in i?i.movementY:kh}}),$_=Ir(Jc),lC=p({},Jc,{dataTransfer:0}),cC=Ir(lC),dC=p({},zu,{relatedTarget:0}),Ih=Ir(dC),fC=p({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),hC=Ir(fC),pC=p({},Hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mC=Ir(pC),gC=p({},Hs,{data:0}),H_=Ir(gC),bC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EC(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=yC[i])?!!s[i]:!1}function Mh(){return EC}var TC=p({},zu,{key:function(i){if(i.key){var s=bC[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Xc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_C[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(i){return i.type==="keypress"?Xc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wC=Ir(TC),vC=p({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z_=Ir(vC),SC=p({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),AC=Ir(SC),OC=p({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),NC=Ir(OC),xC=p({},Jc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),CC=Ir(xC),RC=p({},Hs,{newState:0,oldState:0}),kC=Ir(RC),IC=[9,13,27,32],Lh=Na&&"CompositionEvent"in window,qu=null;Na&&"documentMode"in document&&(qu=document.documentMode);var MC=Na&&"TextEvent"in window&&!qu,j_=Na&&(!Lh||qu&&8<qu&&11>=qu),q_=" ",G_=!1;function Y_(i,s){switch(i){case"keyup":return IC.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yo=!1;function LC(i,s){switch(i){case"compositionend":return V_(s);case"keypress":return s.which!==32?null:(G_=!0,q_);case"textInput":return i=s.data,i===q_&&G_?null:i;default:return null}}function DC(i,s){if(yo)return i==="compositionend"||!Lh&&Y_(i,s)?(i=B_(),Zc=Ch=ji=null,yo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return j_&&s.locale!=="ko"?null:s.data;default:return null}}var PC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!PC[i.type]:s==="textarea"}function Z_(i,s,l,h){Ue?at?at.push(h):at=[h]:Ue=h,s=Fd(s,"onChange"),0<s.length&&(l=new Wc("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Gu=null,Yu=null;function UC(i){CT(i,0)}function ed(i){var s=Xa(i);if(Bu(s))return i}function X_(i,s){if(i==="change")return s}var Q_=!1;if(Na){var Dh;if(Na){var Ph="oninput"in document;if(!Ph){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),Ph=typeof W_.oninput=="function"}Dh=Ph}else Dh=!1;Q_=Dh&&(!document.documentMode||9<document.documentMode)}function J_(){Gu&&(Gu.detachEvent("onpropertychange",ey),Yu=Gu=null)}function ey(i){if(i.propertyName==="value"&&ed(Yu)){var s=[];Z_(s,Yu,i,ke(i)),ua(UC,s)}}function BC(i,s,l){i==="focusin"?(J_(),Gu=s,Yu=l,Gu.attachEvent("onpropertychange",ey)):i==="focusout"&&J_()}function FC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ed(Yu)}function $C(i,s){if(i==="click")return ed(s)}function HC(i,s){if(i==="input"||i==="change")return ed(s)}function zC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Yr=typeof Object.is=="function"?Object.is:zC;function Vu(i,s){if(Yr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Zt.call(s,g)||!Yr(i[g],s[g]))return!1}return!0}function ty(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ny(i,s){var l=ty(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ty(l)}}function ry(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ry(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ay(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bs(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Bs(i.document)}return s}function Uh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var jC=Na&&"documentMode"in document&&11>=document.documentMode,Eo=null,Bh=null,Ku=null,Fh=!1;function iy(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fh||Eo==null||Eo!==Bs(h)||(h=Eo,"selectionStart"in h&&Uh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ku&&Vu(Ku,h)||(Ku=h,h=Fd(Bh,"onSelect"),0<h.length&&(s=new Wc("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Eo)))}function zs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var To={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},$h={},sy={};Na&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function js(i){if($h[i])return $h[i];if(!To[i])return i;var s=To[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in sy)return $h[i]=s[l];return i}var oy=js("animationend"),uy=js("animationiteration"),ly=js("animationstart"),qC=js("transitionrun"),GC=js("transitionstart"),YC=js("transitioncancel"),cy=js("transitionend"),dy=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function xa(i,s){dy.set(i,s),ye(s,[i])}var fy=new WeakMap;function la(i,s){if(typeof i=="object"&&i!==null){var l=fy.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Oa(s)},fy.set(i,s),s)}return{value:i,source:s,stack:Oa(s)}}var ca=[],wo=0,zh=0;function td(){for(var i=wo,s=zh=wo=0;s<i;){var l=ca[s];ca[s++]=null;var h=ca[s];ca[s++]=null;var g=ca[s];ca[s++]=null;var _=ca[s];if(ca[s++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}_!==0&&hy(l,g,_)}}function nd(i,s,l,h){ca[wo++]=i,ca[wo++]=s,ca[wo++]=l,ca[wo++]=h,zh|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function jh(i,s,l,h){return nd(i,s,l,h),rd(i)}function vo(i,s){return nd(i,null,null,s),rd(i)}function hy(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&s!==null&&(g=31-De(l),i=_.hiddenUpdates,h=i[g],h===null?i[g]=[s]:h.push(s),s.lane=l|536870912),_):null}function rd(i){if(50<yl)throw yl=0,Zp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var So={};function VC(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(i,s,l,h){return new VC(i,s,l,h)}function qh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ei(i,s){var l=i.alternate;return l===null?(l=Vr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function py(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ad(i,s,l,h,g,_){var S=0;if(h=i,typeof i=="function")qh(i)&&(S=1);else if(typeof i=="string")S=ZR(i,l,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case me:return i=Vr(31,l,s,g),i.elementType=me,i.lanes=_,i;case T:return qs(l.children,g,_,s);case w:S=8,g|=24;break;case A:return i=Vr(12,l,s,g|2),i.elementType=A,i.lanes=_,i;case P:return i=Vr(13,l,s,g),i.elementType=P,i.lanes=_,i;case M:return i=Vr(19,l,s,g),i.elementType=M,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case C:S=10;break e;case k:S=9;break e;case $:S=11;break e;case se:S=14;break e;case q:S=16,h=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Vr(S,l,s,g),s.elementType=i,s.type=h,s.lanes=_,s}function qs(i,s,l,h){return i=Vr(7,i,h,s),i.lanes=l,i}function Gh(i,s,l){return i=Vr(6,i,null,s),i.lanes=l,i}function Yh(i,s,l){return s=Vr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ao=[],Oo=0,id=null,sd=0,da=[],fa=0,Gs=null,Ti=1,wi="";function Ys(i,s){Ao[Oo++]=sd,Ao[Oo++]=id,id=i,sd=s}function my(i,s,l){da[fa++]=Ti,da[fa++]=wi,da[fa++]=Gs,Gs=i;var h=Ti;i=wi;var g=32-De(h)-1;h&=~(1<<g),l+=1;var _=32-De(s)+g;if(30<_){var S=g-g%5;_=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Ti=1<<32-De(s)+g|l<<g|h,wi=_+i}else Ti=1<<_|l<<g|h,wi=i}function Vh(i){i.return!==null&&(Ys(i,1),my(i,1,0))}function Kh(i){for(;i===id;)id=Ao[--Oo],Ao[Oo]=null,sd=Ao[--Oo],Ao[Oo]=null;for(;i===Gs;)Gs=da[--fa],da[fa]=null,wi=da[--fa],da[fa]=null,Ti=da[--fa],da[fa]=null}var yr=null,gn=null,Lt=!1,Vs=null,Wa=!1,Zh=Error(r(519));function Ks(i){var s=Error(r(418,""));throw Qu(la(s,i)),Zh}function gy(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[xe]=i,s[ze]=h,l){case"dialog":Tt("cancel",s),Tt("close",s);break;case"iframe":case"object":case"embed":Tt("load",s);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Tt(Tl[l],s);break;case"source":Tt("error",s);break;case"img":case"image":case"link":Tt("error",s),Tt("load",s);break;case"details":Tt("toggle",s);break;case"input":Tt("invalid",s),Vc(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Us(s);break;case"select":Tt("invalid",s);break;case"textarea":Tt("invalid",s),Kc(s,h.value,h.defaultValue,h.children),Us(s)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||MT(s.textContent,l)?(h.popover!=null&&(Tt("beforetoggle",s),Tt("toggle",s)),h.onScroll!=null&&Tt("scroll",s),h.onScrollEnd!=null&&Tt("scrollend",s),h.onClick!=null&&(s.onclick=$d),s=!0):s=!1,s||Ks(i)}function by(i){for(yr=i.return;yr;)switch(yr.tag){case 5:case 13:Wa=!1;return;case 27:case 3:Wa=!0;return;default:yr=yr.return}}function Zu(i){if(i!==yr)return!1;if(!Lt)return by(i),Lt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||dm(i.type,i.memoizedProps)),l=!l),l&&gn&&Ks(i),by(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){gn=Ra(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}gn=null}}else s===27?(s=gn,is(i.type)?(i=mm,mm=null,gn=i):gn=s):gn=yr?Ra(i.stateNode.nextSibling):null;return!0}function Xu(){gn=yr=null,Lt=!1}function _y(){var i=Vs;return i!==null&&(Dr===null?Dr=i:Dr.push.apply(Dr,i),Vs=null),i}function Qu(i){Vs===null?Vs=[i]:Vs.push(i)}var Xh=G(null),Zs=null,vi=null;function qi(i,s,l){x(Xh,s._currentValue),s._currentValue=l}function Si(i){i._currentValue=Xh.current,re(Xh)}function Qh(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Wh(i,s,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var S=g.child;_=_.firstContext;e:for(;_!==null;){var N=_;_=g;for(var D=0;D<s.length;D++)if(N.context===s[D]){_.lanes|=l,N=_.alternate,N!==null&&(N.lanes|=l),Qh(_.return,l,i),h||(S=null);break e}_=N.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(r(341));S.lanes|=l,_=S.alternate,_!==null&&(_.lanes|=l),Qh(S,l,i),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Wu(i,s,l,h){i=null;for(var g=s,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var N=g.type;Yr(g.pendingProps.value,S.value)||(i!==null?i.push(N):i=[N])}}else if(g===We.current){if(S=g.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Nl):i=[Nl])}g=g.return}i!==null&&Wh(s,i,l,h),s.flags|=262144}function od(i){for(i=i.firstContext;i!==null;){if(!Yr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xs(i){Zs=i,vi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function dr(i){return yy(Zs,i)}function ud(i,s){return Zs===null&&Xs(i),yy(i,s)}function yy(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},vi===null){if(i===null)throw Error(r(308));vi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else vi=vi.next=s;return l}var KC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},ZC=t.unstable_scheduleCallback,XC=t.unstable_NormalPriority,Dn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new KC,data:new Map,refCount:0}}function Ju(i){i.refCount--,i.refCount===0&&ZC(XC,function(){i.controller.abort()})}var el=null,ep=0,No=0,xo=null;function QC(i,s){if(el===null){var l=el=[];ep=0,No=nm(),xo={status:"pending",value:void 0,then:function(h){l.push(h)}}}return ep++,s.then(Ey,Ey),s}function Ey(){if(--ep===0&&el!==null){xo!==null&&(xo.status="fulfilled");var i=el;el=null,No=0,xo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function WC(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var Ty=U.S;U.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&QC(i,s),Ty!==null&&Ty(i,s)};var Qs=G(null);function tp(){var i=Qs.current;return i!==null?i:en.pooledCache}function ld(i,s){s===null?x(Qs,Qs.current):x(Qs,s.pool)}function wy(){var i=tp();return i===null?null:{parent:Dn._currentValue,pool:i}}var tl=Error(r(460)),vy=Error(r(474)),cd=Error(r(542)),np={then:function(){}};function Sy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function dd(){}function Ay(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(dd,dd),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ny(i),i;default:if(typeof s.status=="string")s.then(dd,dd);else{if(i=en,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ny(i),i}throw nl=s,tl}}var nl=null;function Oy(){if(nl===null)throw Error(r(459));var i=nl;return nl=null,i}function Ny(i){if(i===tl||i===cd)throw Error(r(483))}var Gi=!1;function rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Yi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vi(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ht&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=rd(i),hy(i,null,l),s}return nd(i,h,s,l),rd(i)}function rl(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ae(i,l)}}function ip(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=S:_=_.next=S,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var sp=!1;function al(){if(sp){var i=xo;if(i!==null)throw i}}function il(i,s,l,h){sp=!1;var g=i.updateQueue;Gi=!1;var _=g.firstBaseUpdate,S=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var D=N,J=D.next;D.next=null,S===null?_=J:S.next=J,S=D;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,N=oe.lastBaseUpdate,N!==S&&(N===null?oe.firstBaseUpdate=J:N.next=J,oe.lastBaseUpdate=D))}if(_!==null){var de=g.baseState;S=0,oe=J=D=null,N=_;do{var ee=N.lane&-536870913,ne=ee!==N.lane;if(ne?(At&ee)===ee:(h&ee)===ee){ee!==0&&ee===No&&(sp=!0),oe!==null&&(oe=oe.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var rt=i,Qe=N;ee=s;var Vt=l;switch(Qe.tag){case 1:if(rt=Qe.payload,typeof rt=="function"){de=rt.call(Vt,de,ee);break e}de=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=Qe.payload,ee=typeof rt=="function"?rt.call(Vt,de,ee):rt,ee==null)break e;de=p({},de,ee);break e;case 2:Gi=!0}}ee=N.callback,ee!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},oe===null?(J=oe=ne,D=de):oe=oe.next=ne,S|=ee;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);oe===null&&(D=de),g.baseState=D,g.firstBaseUpdate=J,g.lastBaseUpdate=oe,_===null&&(g.shared.lanes=0),ts|=S,i.lanes=S,i.memoizedState=de}}function xy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Cy(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)xy(l[i],s)}var Co=G(null),fd=G(0);function Ry(i,s){i=ki,x(fd,i),x(Co,s),ki=i|s.baseLanes}function op(){x(fd,ki),x(Co,Co.current)}function up(){ki=fd.current,re(Co),re(fd)}var Ki=0,pt=null,Gt=null,Cn=null,hd=!1,Ro=!1,Ws=!1,pd=0,sl=0,ko=null,JC=0;function wn(){throw Error(r(321))}function lp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Yr(i[l],s[l]))return!1;return!0}function cp(i,s,l,h,g,_){return Ki=_,pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=i===null||i.memoizedState===null?hE:pE,Ws=!1,_=l(h,g),Ws=!1,Ro&&(_=Iy(s,l,h,g)),ky(i),_}function ky(i){U.H=Ed;var s=Gt!==null&&Gt.next!==null;if(Ki=0,Cn=Gt=pt=null,hd=!1,sl=0,ko=null,s)throw Error(r(300));i===null||jn||(i=i.dependencies,i!==null&&od(i)&&(jn=!0))}function Iy(i,s,l,h){pt=i;var g=0;do{if(Ro&&(ko=null),sl=0,Ro=!1,25<=g)throw Error(r(301));if(g+=1,Cn=Gt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}U.H=sR,_=s(l,h)}while(Ro);return _}function eR(){var i=U.H,s=i.useState()[0];return s=typeof s.then=="function"?ol(s):s,i=i.useState()[0],(Gt!==null?Gt.memoizedState:null)!==i&&(pt.flags|=1024),s}function dp(){var i=pd!==0;return pd=0,i}function fp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function hp(i){if(hd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}hd=!1}Ki=0,Cn=Gt=pt=null,Ro=!1,sl=pd=0,ko=null}function Mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?pt.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function Rn(){if(Gt===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=Gt.next;var s=Cn===null?pt.memoizedState:Cn.next;if(s!==null)Cn=s,Gt=i;else{if(i===null)throw pt.alternate===null?Error(r(467)):Error(r(310));Gt=i,i={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Cn===null?pt.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function pp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(i){var s=sl;return sl+=1,ko===null&&(ko=[]),i=Ay(ko,i,s),s=pt,(Cn===null?s.memoizedState:Cn.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?hE:pE),i}function md(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ol(i);if(i.$$typeof===C)return dr(i)}throw Error(r(438,String(i)))}function mp(i){var s=null,l=pt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=pp(),pt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=V;return s.index++,l}function Ai(i,s){return typeof s=="function"?s(i):s}function gd(i){var s=Rn();return gp(s,Gt,i)}function gp(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,_=h.pending;if(_!==null){if(g!==null){var S=g.next;g.next=_.next,_.next=S}s.baseQueue=g=_,h.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{s=g.next;var N=S=null,D=null,J=s,oe=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(At&de)===de:(Ki&de)===de){var ee=J.revertLane;if(ee===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===No&&(oe=!0);else if((Ki&ee)===ee){J=J.next,ee===No&&(oe=!0);continue}else de={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(N=D=de,S=_):D=D.next=de,pt.lanes|=ee,ts|=ee;de=J.action,Ws&&l(_,de),_=J.hasEagerState?J.eagerState:l(_,de)}else ee={lane:de,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(N=D=ee,S=_):D=D.next=ee,pt.lanes|=de,ts|=de;J=J.next}while(J!==null&&J!==s);if(D===null?S=_:D.next=N,!Yr(_,i.memoizedState)&&(jn=!0,oe&&(l=xo,l!==null)))throw l;i.memoizedState=_,i.baseState=S,i.baseQueue=D,h.lastRenderedState=_}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function bp(i){var s=Rn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do _=i(_,S.action),S=S.next;while(S!==g);Yr(_,s.memoizedState)||(jn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function My(i,s,l){var h=pt,g=Rn(),_=Lt;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!Yr((Gt||g).memoizedState,l);S&&(g.memoizedState=l,jn=!0),g=g.queue;var N=Py.bind(null,h,g,i);if(ul(2048,8,N,[i]),g.getSnapshot!==s||S||Cn!==null&&Cn.memoizedState.tag&1){if(h.flags|=2048,Io(9,bd(),Dy.bind(null,h,g,l,s),null),en===null)throw Error(r(349));_||(Ki&124)!==0||Ly(h,s,l)}return l}function Ly(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=pt.updateQueue,s===null?(s=pp(),pt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Dy(i,s,l,h){s.value=l,s.getSnapshot=h,Uy(s)&&By(i)}function Py(i,s,l){return l(function(){Uy(s)&&By(i)})}function Uy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Yr(i,l)}catch{return!0}}function By(i){var s=vo(i,2);s!==null&&Wr(s,i,2)}function _p(i){var s=Mr();if(typeof i=="function"){var l=i;if(i=l(),Ws){pe(!0);try{l()}finally{pe(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:i},s}function Fy(i,s,l,h){return i.baseState=l,gp(i,Gt,typeof h=="function"?h:Ai)}function tR(i,s,l,h,g){if(yd(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};U.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,$y(s,_)):(_.next=l.next,s.pending=l.next=_)}}function $y(i,s){var l=s.action,h=s.payload,g=i.state;if(s.isTransition){var _=U.T,S={};U.T=S;try{var N=l(g,h),D=U.S;D!==null&&D(S,N),Hy(i,s,N)}catch(J){yp(i,s,J)}finally{U.T=_}}else try{_=l(g,h),Hy(i,s,_)}catch(J){yp(i,s,J)}}function Hy(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){zy(i,s,h)},function(h){return yp(i,s,h)}):zy(i,s,l)}function zy(i,s,l){s.status="fulfilled",s.value=l,jy(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,$y(i,l)))}function yp(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,jy(s),s=s.next;while(s!==h)}i.action=null}function jy(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function qy(i,s){return s}function Gy(i,s){if(Lt){var l=en.formState;if(l!==null){e:{var h=pt;if(Lt){if(gn){t:{for(var g=gn,_=Wa;g.nodeType!==8;){if(!_){g=null;break t}if(g=Ra(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){gn=Ra(g.nextSibling),h=g.data==="F!";break e}}Ks(h)}h=!1}h&&(s=l[0])}}return l=Mr(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:s},l.queue=h,l=cE.bind(null,pt,h),h.dispatch=l,h=_p(!1),_=Sp.bind(null,pt,!1,h.queue),h=Mr(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,l=tR.bind(null,pt,g,_,l),g.dispatch=l,h.memoizedState=i,[s,l,!1]}function Yy(i){var s=Rn();return Vy(s,Gt,i)}function Vy(i,s,l){if(s=gp(i,s,qy)[0],i=gd(Ai)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=ol(s)}catch(S){throw S===tl?cd:S}else h=s;s=Rn();var g=s.queue,_=g.dispatch;return l!==s.memoizedState&&(pt.flags|=2048,Io(9,bd(),nR.bind(null,g,l),null)),[h,_,i]}function nR(i,s){i.action=s}function Ky(i){var s=Rn(),l=Gt;if(l!==null)return Vy(s,l,i);Rn(),s=s.memoizedState,l=Rn();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function Io(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=pt.updateQueue,s===null&&(s=pp(),pt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function bd(){return{destroy:void 0,resource:void 0}}function Zy(){return Rn().memoizedState}function _d(i,s,l,h){var g=Mr();h=h===void 0?null:h,pt.flags|=i,g.memoizedState=Io(1|s,bd(),l,h)}function ul(i,s,l,h){var g=Rn();h=h===void 0?null:h;var _=g.memoizedState.inst;Gt!==null&&h!==null&&lp(h,Gt.memoizedState.deps)?g.memoizedState=Io(s,_,l,h):(pt.flags|=i,g.memoizedState=Io(1|s,_,l,h))}function Xy(i,s){_d(8390656,8,i,s)}function Qy(i,s){ul(2048,8,i,s)}function Wy(i,s){return ul(4,2,i,s)}function Jy(i,s){return ul(4,4,i,s)}function eE(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function tE(i,s,l){l=l!=null?l.concat([i]):null,ul(4,4,eE.bind(null,s,i),l)}function Ep(){}function nE(i,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&lp(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function rE(i,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&lp(s,h[1]))return h[0];if(h=i(),Ws){pe(!0);try{i()}finally{pe(!1)}}return l.memoizedState=[h,s],h}function Tp(i,s,l){return l===void 0||(Ki&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=sT(),pt.lanes|=i,ts|=i,l)}function aE(i,s,l,h){return Yr(l,s)?l:Co.current!==null?(i=Tp(i,l,h),Yr(i,s)||(jn=!0),i):(Ki&42)===0?(jn=!0,i.memoizedState=l):(i=sT(),pt.lanes|=i,ts|=i,s)}function iE(i,s,l,h,g){var _=Z.p;Z.p=_!==0&&8>_?_:8;var S=U.T,N={};U.T=N,Sp(i,!1,s,l);try{var D=g(),J=U.S;if(J!==null&&J(N,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var oe=WC(D,h);ll(i,s,oe,Qr(i))}else ll(i,s,h,Qr(i))}catch(de){ll(i,s,{then:function(){},status:"rejected",reason:de},Qr())}finally{Z.p=_,U.T=S}}function rR(){}function wp(i,s,l,h){if(i.tag!==5)throw Error(r(476));var g=sE(i).queue;iE(i,g,s,z,l===null?rR:function(){return oE(i),l(h)})}function sE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:z},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function oE(i){var s=sE(i).next.queue;ll(i,s,{},Qr())}function vp(){return dr(Nl)}function uE(){return Rn().memoizedState}function lE(){return Rn().memoizedState}function aR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Qr();i=Yi(l);var h=Vi(s,i,l);h!==null&&(Wr(h,s,l),rl(h,s,l)),s={cache:Jh()},i.payload=s;return}s=s.return}}function iR(i,s,l){var h=Qr();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},yd(i)?dE(s,l):(l=jh(i,s,l,h),l!==null&&(Wr(l,i,h),fE(l,s,h)))}function cE(i,s,l){var h=Qr();ll(i,s,l,h)}function ll(i,s,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(yd(i))dE(s,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var S=s.lastRenderedState,N=_(S,l);if(g.hasEagerState=!0,g.eagerState=N,Yr(N,S))return nd(i,s,g,0),en===null&&td(),!1}catch{}finally{}if(l=jh(i,s,g,h),l!==null)return Wr(l,i,h),fE(l,s,h),!0}return!1}function Sp(i,s,l,h){if(h={lane:2,revertLane:nm(),action:h,hasEagerState:!1,eagerState:null,next:null},yd(i)){if(s)throw Error(r(479))}else s=jh(i,l,h,2),s!==null&&Wr(s,i,2)}function yd(i){var s=i.alternate;return i===pt||s!==null&&s===pt}function dE(i,s){Ro=hd=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function fE(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ae(i,l)}}var Ed={readContext:dr,use:md,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn},hE={readContext:dr,use:md,useCallback:function(i,s){return Mr().memoizedState=[i,s===void 0?null:s],i},useContext:dr,useEffect:Xy,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,_d(4194308,4,eE.bind(null,s,i),l)},useLayoutEffect:function(i,s){return _d(4194308,4,i,s)},useInsertionEffect:function(i,s){_d(4,2,i,s)},useMemo:function(i,s){var l=Mr();s=s===void 0?null:s;var h=i();if(Ws){pe(!0);try{i()}finally{pe(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=Mr();if(l!==void 0){var g=l(s);if(Ws){pe(!0);try{l(s)}finally{pe(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=iR.bind(null,pt,i),[h.memoizedState,i]},useRef:function(i){var s=Mr();return i={current:i},s.memoizedState=i},useState:function(i){i=_p(i);var s=i.queue,l=cE.bind(null,pt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Ep,useDeferredValue:function(i,s){var l=Mr();return Tp(l,i,s)},useTransition:function(){var i=_p(!1);return i=iE.bind(null,pt,i.queue,!0,!1),Mr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=pt,g=Mr();if(Lt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),en===null)throw Error(r(349));(At&124)!==0||Ly(h,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,Xy(Py.bind(null,h,_,i),[i]),h.flags|=2048,Io(9,bd(),Dy.bind(null,h,_,l,s),null),l},useId:function(){var i=Mr(),s=en.identifierPrefix;if(Lt){var l=wi,h=Ti;l=(h&~(1<<32-De(h)-1)).toString(32)+l,s=""+s+"R"+l,l=pd++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=JC++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:vp,useFormState:Gy,useActionState:Gy,useOptimistic:function(i){var s=Mr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Sp.bind(null,pt,!0,l),l.dispatch=s,[i,s]},useMemoCache:mp,useCacheRefresh:function(){return Mr().memoizedState=aR.bind(null,pt)}},pE={readContext:dr,use:md,useCallback:nE,useContext:dr,useEffect:Qy,useImperativeHandle:tE,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:rE,useReducer:gd,useRef:Zy,useState:function(){return gd(Ai)},useDebugValue:Ep,useDeferredValue:function(i,s){var l=Rn();return aE(l,Gt.memoizedState,i,s)},useTransition:function(){var i=gd(Ai)[0],s=Rn().memoizedState;return[typeof i=="boolean"?i:ol(i),s]},useSyncExternalStore:My,useId:uE,useHostTransitionStatus:vp,useFormState:Yy,useActionState:Yy,useOptimistic:function(i,s){var l=Rn();return Fy(l,Gt,i,s)},useMemoCache:mp,useCacheRefresh:lE},sR={readContext:dr,use:md,useCallback:nE,useContext:dr,useEffect:Qy,useImperativeHandle:tE,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:rE,useReducer:bp,useRef:Zy,useState:function(){return bp(Ai)},useDebugValue:Ep,useDeferredValue:function(i,s){var l=Rn();return Gt===null?Tp(l,i,s):aE(l,Gt.memoizedState,i,s)},useTransition:function(){var i=bp(Ai)[0],s=Rn().memoizedState;return[typeof i=="boolean"?i:ol(i),s]},useSyncExternalStore:My,useId:uE,useHostTransitionStatus:vp,useFormState:Ky,useActionState:Ky,useOptimistic:function(i,s){var l=Rn();return Gt!==null?Fy(l,Gt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:mp,useCacheRefresh:lE},Mo=null,cl=0;function Td(i){var s=cl;return cl+=1,Mo===null&&(Mo=[]),Ay(Mo,i,s)}function dl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function wd(i,s){throw s.$$typeof===m?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function mE(i){var s=i._init;return s(i._payload)}function gE(i){function s(Y,H){if(i){var Q=Y.deletions;Q===null?(Y.deletions=[H],Y.flags|=16):Q.push(H)}}function l(Y,H){if(!i)return null;for(;H!==null;)s(Y,H),H=H.sibling;return null}function h(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function g(Y,H){return Y=Ei(Y,H),Y.index=0,Y.sibling=null,Y}function _(Y,H,Q){return Y.index=Q,i?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<H?(Y.flags|=67108866,H):Q):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function S(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,H,Q,le){return H===null||H.tag!==6?(H=Gh(Q,Y.mode,le),H.return=Y,H):(H=g(H,Q),H.return=Y,H)}function D(Y,H,Q,le){var Be=Q.type;return Be===T?oe(Y,H,Q.props.children,le,Q.key):H!==null&&(H.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===q&&mE(Be)===H.type)?(H=g(H,Q.props),dl(H,Q),H.return=Y,H):(H=ad(Q.type,Q.key,Q.props,null,Y.mode,le),dl(H,Q),H.return=Y,H)}function J(Y,H,Q,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Yh(Q,Y.mode,le),H.return=Y,H):(H=g(H,Q.children||[]),H.return=Y,H)}function oe(Y,H,Q,le,Be){return H===null||H.tag!==7?(H=qs(Q,Y.mode,le,Be),H.return=Y,H):(H=g(H,Q),H.return=Y,H)}function de(Y,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Gh(""+H,Y.mode,Q),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return Q=ad(H.type,H.key,H.props,null,Y.mode,Q),dl(Q,H),Q.return=Y,Q;case E:return H=Yh(H,Y.mode,Q),H.return=Y,H;case q:var le=H._init;return H=le(H._payload),de(Y,H,Q)}if(K(H)||he(H))return H=qs(H,Y.mode,Q,null),H.return=Y,H;if(typeof H.then=="function")return de(Y,Td(H),Q);if(H.$$typeof===C)return de(Y,ud(Y,H),Q);wd(Y,H)}return null}function ee(Y,H,Q,le){var Be=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Be!==null?null:N(Y,H,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Be?D(Y,H,Q,le):null;case E:return Q.key===Be?J(Y,H,Q,le):null;case q:return Be=Q._init,Q=Be(Q._payload),ee(Y,H,Q,le)}if(K(Q)||he(Q))return Be!==null?null:oe(Y,H,Q,le,null);if(typeof Q.then=="function")return ee(Y,H,Td(Q),le);if(Q.$$typeof===C)return ee(Y,H,ud(Y,Q),le);wd(Y,Q)}return null}function ne(Y,H,Q,le,Be){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(Q)||null,N(H,Y,""+le,Be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return Y=Y.get(le.key===null?Q:le.key)||null,D(H,Y,le,Be);case E:return Y=Y.get(le.key===null?Q:le.key)||null,J(H,Y,le,Be);case q:var bt=le._init;return le=bt(le._payload),ne(Y,H,Q,le,Be)}if(K(le)||he(le))return Y=Y.get(Q)||null,oe(H,Y,le,Be,null);if(typeof le.then=="function")return ne(Y,H,Q,Td(le),Be);if(le.$$typeof===C)return ne(Y,H,Q,ud(H,le),Be);wd(H,le)}return null}function rt(Y,H,Q,le){for(var Be=null,bt=null,Ve=H,et=H=0,Gn=null;Ve!==null&&et<Q.length;et++){Ve.index>et?(Gn=Ve,Ve=null):Gn=Ve.sibling;var Rt=ee(Y,Ve,Q[et],le);if(Rt===null){Ve===null&&(Ve=Gn);break}i&&Ve&&Rt.alternate===null&&s(Y,Ve),H=_(Rt,H,et),bt===null?Be=Rt:bt.sibling=Rt,bt=Rt,Ve=Gn}if(et===Q.length)return l(Y,Ve),Lt&&Ys(Y,et),Be;if(Ve===null){for(;et<Q.length;et++)Ve=de(Y,Q[et],le),Ve!==null&&(H=_(Ve,H,et),bt===null?Be=Ve:bt.sibling=Ve,bt=Ve);return Lt&&Ys(Y,et),Be}for(Ve=h(Ve);et<Q.length;et++)Gn=ne(Ve,Y,et,Q[et],le),Gn!==null&&(i&&Gn.alternate!==null&&Ve.delete(Gn.key===null?et:Gn.key),H=_(Gn,H,et),bt===null?Be=Gn:bt.sibling=Gn,bt=Gn);return i&&Ve.forEach(function(cs){return s(Y,cs)}),Lt&&Ys(Y,et),Be}function Qe(Y,H,Q,le){if(Q==null)throw Error(r(151));for(var Be=null,bt=null,Ve=H,et=H=0,Gn=null,Rt=Q.next();Ve!==null&&!Rt.done;et++,Rt=Q.next()){Ve.index>et?(Gn=Ve,Ve=null):Gn=Ve.sibling;var cs=ee(Y,Ve,Rt.value,le);if(cs===null){Ve===null&&(Ve=Gn);break}i&&Ve&&cs.alternate===null&&s(Y,Ve),H=_(cs,H,et),bt===null?Be=cs:bt.sibling=cs,bt=cs,Ve=Gn}if(Rt.done)return l(Y,Ve),Lt&&Ys(Y,et),Be;if(Ve===null){for(;!Rt.done;et++,Rt=Q.next())Rt=de(Y,Rt.value,le),Rt!==null&&(H=_(Rt,H,et),bt===null?Be=Rt:bt.sibling=Rt,bt=Rt);return Lt&&Ys(Y,et),Be}for(Ve=h(Ve);!Rt.done;et++,Rt=Q.next())Rt=ne(Ve,Y,et,Rt.value,le),Rt!==null&&(i&&Rt.alternate!==null&&Ve.delete(Rt.key===null?et:Rt.key),H=_(Rt,H,et),bt===null?Be=Rt:bt.sibling=Rt,bt=Rt);return i&&Ve.forEach(function(ok){return s(Y,ok)}),Lt&&Ys(Y,et),Be}function Vt(Y,H,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Be=Q.key;H!==null;){if(H.key===Be){if(Be=Q.type,Be===T){if(H.tag===7){l(Y,H.sibling),le=g(H,Q.props.children),le.return=Y,Y=le;break e}}else if(H.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===q&&mE(Be)===H.type){l(Y,H.sibling),le=g(H,Q.props),dl(le,Q),le.return=Y,Y=le;break e}l(Y,H);break}else s(Y,H);H=H.sibling}Q.type===T?(le=qs(Q.props.children,Y.mode,le,Q.key),le.return=Y,Y=le):(le=ad(Q.type,Q.key,Q.props,null,Y.mode,le),dl(le,Q),le.return=Y,Y=le)}return S(Y);case E:e:{for(Be=Q.key;H!==null;){if(H.key===Be)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){l(Y,H.sibling),le=g(H,Q.children||[]),le.return=Y,Y=le;break e}else{l(Y,H);break}else s(Y,H);H=H.sibling}le=Yh(Q,Y.mode,le),le.return=Y,Y=le}return S(Y);case q:return Be=Q._init,Q=Be(Q._payload),Vt(Y,H,Q,le)}if(K(Q))return rt(Y,H,Q,le);if(he(Q)){if(Be=he(Q),typeof Be!="function")throw Error(r(150));return Q=Be.call(Q),Qe(Y,H,Q,le)}if(typeof Q.then=="function")return Vt(Y,H,Td(Q),le);if(Q.$$typeof===C)return Vt(Y,H,ud(Y,Q),le);wd(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(l(Y,H.sibling),le=g(H,Q),le.return=Y,Y=le):(l(Y,H),le=Gh(Q,Y.mode,le),le.return=Y,Y=le),S(Y)):l(Y,H)}return function(Y,H,Q,le){try{cl=0;var Be=Vt(Y,H,Q,le);return Mo=null,Be}catch(Ve){if(Ve===tl||Ve===cd)throw Ve;var bt=Vr(29,Ve,null,Y.mode);return bt.lanes=le,bt.return=Y,bt}finally{}}}var Lo=gE(!0),bE=gE(!1),ha=G(null),Ja=null;function Zi(i){var s=i.alternate;x(Pn,Pn.current&1),x(ha,i),Ja===null&&(s===null||Co.current!==null||s.memoizedState!==null)&&(Ja=i)}function _E(i){if(i.tag===22){if(x(Pn,Pn.current),x(ha,i),Ja===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ja=i)}}else Xi()}function Xi(){x(Pn,Pn.current),x(ha,ha.current)}function Oi(i){re(ha),Ja===i&&(Ja=null),re(Pn)}var Pn=G(0);function vd(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||pm(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ap(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:p({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Op={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=Qr(),g=Yi(h);g.payload=s,l!=null&&(g.callback=l),s=Vi(i,g,h),s!==null&&(Wr(s,i,h),rl(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=Qr(),g=Yi(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Vi(i,g,h),s!==null&&(Wr(s,i,h),rl(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Qr(),h=Yi(l);h.tag=2,s!=null&&(h.callback=s),s=Vi(i,h,l),s!==null&&(Wr(s,i,l),rl(s,i,l))}};function yE(i,s,l,h,g,_,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,S):s.prototype&&s.prototype.isPureReactComponent?!Vu(l,h)||!Vu(g,_):!0}function EE(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Op.enqueueReplaceState(s,s.state,null)}function Js(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=p({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Sd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function TE(i){Sd(i)}function wE(i){console.error(i)}function vE(i){Sd(i)}function Ad(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function SE(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Np(i,s,l){return l=Yi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ad(i,s)},l}function AE(i){return i=Yi(i),i.tag=3,i}function OE(i,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;i.payload=function(){return g(_)},i.callback=function(){SE(s,l,h)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){SE(s,l,h),typeof g!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var N=h.stack;this.componentDidCatch(h.value,{componentStack:N!==null?N:""})})}function oR(i,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Wu(s,l,g,!0),l=ha.current,l!==null){switch(l.tag){case 13:return Ja===null?Qp():l.alternate===null&&bn===0&&(bn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===np?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Jp(i,h,g)),!1;case 22:return l.flags|=65536,h===np?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Jp(i,h,g)),!1}throw Error(r(435,l.tag))}return Jp(i,h,g),Qp(),!1}if(Lt)return s=ha.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==Zh&&(i=Error(r(422),{cause:h}),Qu(la(i,l)))):(h!==Zh&&(s=Error(r(423),{cause:h}),Qu(la(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=la(h,l),g=Np(i.stateNode,h,g),ip(i,g),bn!==4&&(bn=2)),!1;var _=Error(r(520),{cause:h});if(_=la(_,l),_l===null?_l=[_]:_l.push(_),bn!==4&&(bn=2),s===null)return!0;h=la(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Np(l.stateNode,h,i),ip(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ns===null||!ns.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=AE(g),OE(g,i,l,h),ip(l,g),!1}l=l.return}while(l!==null);return!1}var NE=Error(r(461)),jn=!1;function er(i,s,l,h){s.child=i===null?bE(s,null,l,h):Lo(s,i.child,l,h)}function xE(i,s,l,h,g){l=l.render;var _=s.ref;if("ref"in h){var S={};for(var N in h)N!=="ref"&&(S[N]=h[N])}else S=h;return Xs(s),h=cp(i,s,l,S,_,g),N=dp(),i!==null&&!jn?(fp(i,s,g),Ni(i,s,g)):(Lt&&N&&Vh(s),s.flags|=1,er(i,s,h,g),s.child)}function CE(i,s,l,h,g){if(i===null){var _=l.type;return typeof _=="function"&&!qh(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,RE(i,s,_,h,g)):(i=ad(l.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!Dp(i,g)){var S=_.memoizedProps;if(l=l.compare,l=l!==null?l:Vu,l(S,h)&&i.ref===s.ref)return Ni(i,s,g)}return s.flags|=1,i=Ei(_,h),i.ref=s.ref,i.return=s,s.child=i}function RE(i,s,l,h,g){if(i!==null){var _=i.memoizedProps;if(Vu(_,h)&&i.ref===s.ref)if(jn=!1,s.pendingProps=h=_,Dp(i,g))(i.flags&131072)!==0&&(jn=!0);else return s.lanes=i.lanes,Ni(i,s,g)}return xp(i,s,l,h,g)}function kE(i,s,l){var h=s.pendingProps,g=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,i!==null){for(g=s.child=i.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;s.childLanes=_&~h}else s.childLanes=0,s.child=null;return IE(i,s,h,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ld(s,_!==null?_.cachePool:null),_!==null?Ry(s,_):op(),_E(s);else return s.lanes=s.childLanes=536870912,IE(i,s,_!==null?_.baseLanes|l:l,l)}else _!==null?(ld(s,_.cachePool),Ry(s,_),Xi(),s.memoizedState=null):(i!==null&&ld(s,null),op(),Xi());return er(i,s,g,l),s.child}function IE(i,s,l,h){var g=tp();return g=g===null?null:{parent:Dn._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&ld(s,null),op(),_E(s),i!==null&&Wu(i,s,h,!0),null}function Od(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function xp(i,s,l,h,g){return Xs(s),l=cp(i,s,l,h,void 0,g),h=dp(),i!==null&&!jn?(fp(i,s,g),Ni(i,s,g)):(Lt&&h&&Vh(s),s.flags|=1,er(i,s,l,g),s.child)}function ME(i,s,l,h,g,_){return Xs(s),s.updateQueue=null,l=Iy(s,h,l,g),ky(i),h=dp(),i!==null&&!jn?(fp(i,s,_),Ni(i,s,_)):(Lt&&h&&Vh(s),s.flags|=1,er(i,s,l,_),s.child)}function LE(i,s,l,h,g){if(Xs(s),s.stateNode===null){var _=So,S=l.contextType;typeof S=="object"&&S!==null&&(_=dr(S)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Op,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},rp(s),S=l.contextType,_.context=typeof S=="object"&&S!==null?dr(S):So,_.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Ap(s,l,S,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&Op.enqueueReplaceState(_,_.state,null),il(s,h,_,g),al(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var N=s.memoizedProps,D=Js(l,N);_.props=D;var J=_.context,oe=l.contextType;S=So,typeof oe=="object"&&oe!==null&&(S=dr(oe));var de=l.getDerivedStateFromProps;oe=typeof de=="function"||typeof _.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N||J!==S)&&EE(s,_,h,S),Gi=!1;var ee=s.memoizedState;_.state=ee,il(s,h,_,g),al(),J=s.memoizedState,N||ee!==J||Gi?(typeof de=="function"&&(Ap(s,l,de,h),J=s.memoizedState),(D=Gi||yE(s,l,D,h,ee,J,S))?(oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=J),_.props=h,_.state=J,_.context=S,h=D):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,ap(i,s),S=s.memoizedProps,oe=Js(l,S),_.props=oe,de=s.pendingProps,ee=_.context,J=l.contextType,D=So,typeof J=="object"&&J!==null&&(D=dr(J)),N=l.getDerivedStateFromProps,(J=typeof N=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==de||ee!==D)&&EE(s,_,h,D),Gi=!1,ee=s.memoizedState,_.state=ee,il(s,h,_,g),al();var ne=s.memoizedState;S!==de||ee!==ne||Gi||i!==null&&i.dependencies!==null&&od(i.dependencies)?(typeof N=="function"&&(Ap(s,l,N,h),ne=s.memoizedState),(oe=Gi||yE(s,l,oe,h,ee,ne,D)||i!==null&&i.dependencies!==null&&od(i.dependencies))?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ne,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ne,D)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ne),_.props=h,_.state=ne,_.context=D,h=oe):(typeof _.componentDidUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,Od(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=Lo(s,i.child,null,g),s.child=Lo(s,null,l,g)):er(i,s,l,g),s.memoizedState=_.state,i=s.child):i=Ni(i,s,g),i}function DE(i,s,l,h){return Xu(),s.flags|=256,er(i,s,l,h),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rp(i){return{baseLanes:i,cachePool:wy()}}function kp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=pa),i}function PE(i,s,l){var h=s.pendingProps,g=!1,_=(s.flags&128)!==0,S;if((S=_)||(S=i!==null&&i.memoizedState===null?!1:(Pn.current&2)!==0),S&&(g=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(Lt){if(g?Zi(s):Xi(),Lt){var N=gn,D;if(D=N){e:{for(D=N,N=Wa;D.nodeType!==8;){if(!N){N=null;break e}if(D=Ra(D.nextSibling),D===null){N=null;break e}}N=D}N!==null?(s.memoizedState={dehydrated:N,treeContext:Gs!==null?{id:Ti,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},D=Vr(18,null,null,0),D.stateNode=N,D.return=s,s.child=D,yr=s,gn=null,D=!0):D=!1}D||Ks(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return pm(N)?s.lanes=32:s.lanes=536870912,null;Oi(s)}return N=h.children,h=h.fallback,g?(Xi(),g=s.mode,N=Nd({mode:"hidden",children:N},g),h=qs(h,g,l,null),N.return=s,h.return=s,N.sibling=h,s.child=N,g=s.child,g.memoizedState=Rp(l),g.childLanes=kp(i,S,l),s.memoizedState=Cp,h):(Zi(s),Ip(s,N))}if(D=i.memoizedState,D!==null&&(N=D.dehydrated,N!==null)){if(_)s.flags&256?(Zi(s),s.flags&=-257,s=Mp(i,s,l)):s.memoizedState!==null?(Xi(),s.child=i.child,s.flags|=128,s=null):(Xi(),g=h.fallback,N=s.mode,h=Nd({mode:"visible",children:h.children},N),g=qs(g,N,l,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,Lo(s,i.child,null,l),h=s.child,h.memoizedState=Rp(l),h.childLanes=kp(i,S,l),s.memoizedState=Cp,s=g);else if(Zi(s),pm(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var J=S.dgst;S=J,h=Error(r(419)),h.stack="",h.digest=S,Qu({value:h,source:null,stack:null}),s=Mp(i,s,l)}else if(jn||Wu(i,s,l,!1),S=(l&i.childLanes)!==0,jn||S){if(S=en,S!==null&&(h=l&-l,h=(h&42)!==0?1:Oe(h),h=(h&(S.suspendedLanes|l))!==0?0:h,h!==0&&h!==D.retryLane))throw D.retryLane=h,vo(i,h),Wr(S,i,h),NE;N.data==="$?"||Qp(),s=Mp(i,s,l)}else N.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,gn=Ra(N.nextSibling),yr=s,Lt=!0,Vs=null,Wa=!1,i!==null&&(da[fa++]=Ti,da[fa++]=wi,da[fa++]=Gs,Ti=i.id,wi=i.overflow,Gs=s),s=Ip(s,h.children),s.flags|=4096);return s}return g?(Xi(),g=h.fallback,N=s.mode,D=i.child,J=D.sibling,h=Ei(D,{mode:"hidden",children:h.children}),h.subtreeFlags=D.subtreeFlags&65011712,J!==null?g=Ei(J,g):(g=qs(g,N,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,N=i.child.memoizedState,N===null?N=Rp(l):(D=N.cachePool,D!==null?(J=Dn._currentValue,D=D.parent!==J?{parent:J,pool:J}:D):D=wy(),N={baseLanes:N.baseLanes|l,cachePool:D}),g.memoizedState=N,g.childLanes=kp(i,S,l),s.memoizedState=Cp,h):(Zi(s),l=i.child,i=l.sibling,l=Ei(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function Ip(i,s){return s=Nd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Nd(i,s){return i=Vr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Mp(i,s,l){return Lo(s,i.child,null,l),i=Ip(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function UE(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Qh(i.return,s,l)}function Lp(i,s,l,h,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function BE(i,s,l){var h=s.pendingProps,g=h.revealOrder,_=h.tail;if(er(i,s,h.children,l),h=Pn.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&UE(i,l,s);else if(i.tag===19)UE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(x(Pn,h),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&vd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Lp(s,!1,g,l,_);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&vd(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Lp(s,!0,l,null,_);break;case"together":Lp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ni(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ts|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Wu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ei(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ei(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Dp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&od(i)))}function uR(i,s,l){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),qi(s,Dn,i.memoizedState.cache),Xu();break;case 27:case 5:Nt(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:qi(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Zi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?PE(i,s,l):(Zi(s),i=Ni(i,s,l),i!==null?i.sibling:null);Zi(s);break;case 19:var g=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Wu(i,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return BE(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),x(Pn,Pn.current),h)break;return null;case 22:case 23:return s.lanes=0,kE(i,s,l);case 24:qi(s,Dn,i.memoizedState.cache)}return Ni(i,s,l)}function FE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)jn=!0;else{if(!Dp(i,l)&&(s.flags&128)===0)return jn=!1,uR(i,s,l);jn=(i.flags&131072)!==0}else jn=!1,Lt&&(s.flags&1048576)!==0&&my(s,sd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")qh(h)?(i=Js(h,i),s.tag=1,s=LE(null,s,h,i,l)):(s.tag=0,s=xp(null,s,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===$){s.tag=11,s=xE(null,s,h,i,l);break e}else if(g===se){s.tag=14,s=CE(null,s,h,i,l);break e}}throw s=X(h)||h,Error(r(306,s,""))}}return s;case 0:return xp(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=Js(h,s.pendingProps),LE(i,s,h,g,l);case 3:e:{if(nt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;g=_.element,ap(i,s),il(s,h,null,l);var S=s.memoizedState;if(h=S.cache,qi(s,Dn,h),h!==_.cache&&Wh(s,[Dn],l,!0),al(),h=S.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=DE(i,s,h,l);break e}else if(h!==g){g=la(Error(r(424)),s),Qu(g),s=DE(i,s,h,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gn=Ra(i.firstChild),yr=s,Lt=!0,Vs=null,Wa=!0,l=bE(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xu(),h===g){s=Ni(i,s,l);break e}er(i,s,h,l)}s=s.child}return s;case 26:return Od(i,s),i===null?(l=jT(s.type,null,s.pendingProps,null))?s.memoizedState=l:Lt||(l=s.type,i=s.pendingProps,h=Hd(Se.current).createElement(l),h[xe]=s,h[ze]=i,nr(h,l,i),rn(h),s.stateNode=h):s.memoizedState=jT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Nt(s),i===null&&Lt&&(h=s.stateNode=$T(s.type,s.pendingProps,Se.current),yr=s,Wa=!0,g=gn,is(s.type)?(mm=g,gn=Ra(h.firstChild)):gn=g),er(i,s,s.pendingProps.children,l),Od(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Lt&&((g=h=gn)&&(h=PR(h,s.type,s.pendingProps,Wa),h!==null?(s.stateNode=h,yr=s,gn=Ra(h.firstChild),Wa=!1,g=!0):g=!1),g||Ks(s)),Nt(s),g=s.type,_=s.pendingProps,S=i!==null?i.memoizedProps:null,h=_.children,dm(g,_)?h=null:S!==null&&dm(g,S)&&(s.flags|=32),s.memoizedState!==null&&(g=cp(i,s,eR,null,null,l),Nl._currentValue=g),Od(i,s),er(i,s,h,l),s.child;case 6:return i===null&&Lt&&((i=l=gn)&&(l=UR(l,s.pendingProps,Wa),l!==null?(s.stateNode=l,yr=s,gn=null,i=!0):i=!1),i||Ks(s)),null;case 13:return PE(i,s,l);case 4:return nt(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Lo(s,null,h,l):er(i,s,h,l),s.child;case 11:return xE(i,s,s.type,s.pendingProps,l);case 7:return er(i,s,s.pendingProps,l),s.child;case 8:return er(i,s,s.pendingProps.children,l),s.child;case 12:return er(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,qi(s,s.type,h.value),er(i,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,Xs(s),g=dr(g),h=h(g),s.flags|=1,er(i,s,h,l),s.child;case 14:return CE(i,s,s.type,s.pendingProps,l);case 15:return RE(i,s,s.type,s.pendingProps,l);case 19:return BE(i,s,l);case 31:return h=s.pendingProps,l=s.mode,h={mode:h.mode,children:h.children},i===null?(l=Nd(h,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Ei(i.child,h),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return kE(i,s,l);case 24:return Xs(s),h=dr(Dn),i===null?(g=tp(),g===null&&(g=en,_=Jh(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),s.memoizedState={parent:h,cache:g},rp(s),qi(s,Dn,g)):((i.lanes&l)!==0&&(ap(i,s),il(s,null,null,l),al()),g=i.memoizedState,_=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),qi(s,Dn,h)):(h=_.cache,qi(s,Dn,h),h!==g.cache&&Wh(s,[Dn],l,!0))),er(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function xi(i){i.flags|=4}function $E(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!KT(s)){if(s=ha.current,s!==null&&((At&4194048)===At?Ja!==null:(At&62914560)!==At&&(At&536870912)===0||s!==Ja))throw nl=np,vy;i.flags|=8192}}function xd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ga():536870912,i.lanes|=s,Bo|=s)}function fl(i,s){if(!Lt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function dn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function lR(i,s,l){var h=s.pendingProps;switch(Kh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return dn(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Si(Dn),Ft(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Zu(s)?xi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_y())),dn(s),null;case 26:return l=s.memoizedState,i===null?(xi(s),l!==null?(dn(s),$E(s,l)):(dn(s),s.flags&=-16777217)):l?l!==i.memoizedState?(xi(s),dn(s),$E(s,l)):(dn(s),s.flags&=-16777217):(i.memoizedProps!==h&&xi(s),dn(s),s.flags&=-16777217),null;case 27:qt(s),l=Se.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&xi(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return dn(s),null}i=ge.current,Zu(s)?gy(s):(i=$T(g,h,l),s.stateNode=i,xi(s))}return dn(s),null;case 5:if(qt(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&xi(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return dn(s),null}if(i=ge.current,Zu(s))gy(s);else{switch(g=Hd(Se.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[xe]=s,i[ze]=h;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(nr(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&xi(s)}}return dn(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&xi(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=Se.current,Zu(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,g=yr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[xe]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||MT(i.nodeValue,l)),i||Ks(s)}else i=Hd(i).createTextNode(h),i[xe]=s,s.stateNode=i}return dn(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Zu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[xe]=s}else Xu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),g=!1}else g=_y(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Oi(s),s):(Oi(s),null)}if(Oi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),xd(s,s.updateQueue),dn(s),null;case 4:return Ft(),i===null&&sm(s.stateNode.containerInfo),dn(s),null;case 10:return Si(s.type),dn(s),null;case 19:if(re(Pn),g=s.memoizedState,g===null)return dn(s),null;if(h=(s.flags&128)!==0,_=g.rendering,_===null)if(h)fl(g,!1);else{if(bn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=vd(i),_!==null){for(s.flags|=128,fl(g,!1),i=_.updateQueue,s.updateQueue=i,xd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)py(l,i),l=l.sibling;return x(Pn,Pn.current&1|2),s.child}i=i.sibling}g.tail!==null&&Dt()>kd&&(s.flags|=128,h=!0,fl(g,!1),s.lanes=4194304)}else{if(!h)if(i=vd(_),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,xd(s,i),fl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Lt)return dn(s),null}else 2*Dt()-g.renderingStartTime>kd&&l!==536870912&&(s.flags|=128,h=!0,fl(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(i=g.last,i!==null?i.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Dt(),s.sibling=null,i=Pn.current,x(Pn,h?i&1|2:i&1),s):(dn(s),null);case 22:case 23:return Oi(s),up(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),l=s.updateQueue,l!==null&&xd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&re(Qs),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Si(Dn),dn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function cR(i,s){switch(Kh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Si(Dn),Ft(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return qt(s),null;case 13:if(Oi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return re(Pn),null;case 4:return Ft(),null;case 10:return Si(s.type),null;case 22:case 23:return Oi(s),up(),i!==null&&re(Qs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Si(Dn),null;case 25:return null;default:return null}}function HE(i,s){switch(Kh(s),s.tag){case 3:Si(Dn),Ft();break;case 26:case 27:case 5:qt(s);break;case 4:Ft();break;case 13:Oi(s);break;case 19:re(Pn);break;case 10:Si(s.type);break;case 22:case 23:Oi(s),up(),i!==null&&re(Qs);break;case 24:Si(Dn)}}function hl(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var _=l.create,S=l.inst;h=_(),S.destroy=h}l=l.next}while(l!==g)}}catch(N){Wt(s,s.return,N)}}function Qi(i,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&i)===i){var S=h.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,g=s;var D=l,J=N;try{J()}catch(oe){Wt(g,D,oe)}}}h=h.next}while(h!==_)}}catch(oe){Wt(s,s.return,oe)}}function zE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Cy(s,l)}catch(h){Wt(i,i.return,h)}}}function jE(i,s,l){l.props=Js(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Wt(i,s,h)}}function pl(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Wt(i,s,g)}}function ei(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Wt(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wt(i,s,g)}else l.current=null}function qE(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Wt(i,i.return,g)}}function Pp(i,s,l){try{var h=i.stateNode;kR(h,i.type,l,s),h[ze]=s}catch(g){Wt(i,i.return,g)}}function GE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&is(i.type)||i.tag===4}function Up(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||GE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&is(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bp(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=$d));else if(h!==4&&(h===27&&is(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Bp(i,s,l),i=i.sibling;i!==null;)Bp(i,s,l),i=i.sibling}function Cd(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&is(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Cd(i,s,l),i=i.sibling;i!==null;)Cd(i,s,l),i=i.sibling}function YE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);nr(s,h,l),s[xe]=i,s[ze]=l}catch(_){Wt(i,i.return,_)}}var Ci=!1,vn=!1,Fp=!1,VE=typeof WeakSet=="function"?WeakSet:Set,qn=null;function dR(i,s){if(i=i.containerInfo,lm=Vd,i=ay(i),Uh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var S=0,N=-1,D=-1,J=0,oe=0,de=i,ee=null;t:for(;;){for(var ne;de!==l||g!==0&&de.nodeType!==3||(N=S+g),de!==_||h!==0&&de.nodeType!==3||(D=S+h),de.nodeType===3&&(S+=de.nodeValue.length),(ne=de.firstChild)!==null;)ee=de,de=ne;for(;;){if(de===i)break t;if(ee===l&&++J===g&&(N=S),ee===_&&++oe===h&&(D=S),(ne=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=ne}l=N===-1||D===-1?null:{start:N,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(cm={focusedElem:i,selectionRange:l},Vd=!1,qn=s;qn!==null;)if(s=qn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,qn=i;else for(;qn!==null;){switch(s=qn,_=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,g=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var rt=Js(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(rt,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Qe){Wt(l,l.return,Qe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)hm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qn=i;break}qn=s.return}}function KE(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Wi(i,l),h&4&&hl(5,l);break;case 1:if(Wi(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(S){Wt(l,l.return,S)}else{var g=Js(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Wt(l,l.return,S)}}h&64&&zE(l),h&512&&pl(l,l.return);break;case 3:if(Wi(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Cy(i,s)}catch(S){Wt(l,l.return,S)}}break;case 27:s===null&&h&4&&YE(l);case 26:case 5:Wi(i,l),s===null&&h&4&&qE(l),h&512&&pl(l,l.return);break;case 12:Wi(i,l);break;case 13:Wi(i,l),h&4&&QE(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=ER.bind(null,l),BR(i,l))));break;case 22:if(h=l.memoizedState!==null||Ci,!h){s=s!==null&&s.memoizedState!==null||vn,g=Ci;var _=vn;Ci=h,(vn=s)&&!_?Ji(i,l,(l.subtreeFlags&8772)!==0):Wi(i,l),Ci=g,vn=_}break;case 30:break;default:Wi(i,l)}}function ZE(i){var s=i.alternate;s!==null&&(i.alternate=null,ZE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Wn(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var on=null,Lr=!1;function Ri(i,s,l){for(l=l.child;l!==null;)XE(i,s,l),l=l.sibling}function XE(i,s,l){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(F,l)}catch{}switch(l.tag){case 26:vn||ei(l,s),Ri(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:vn||ei(l,s);var h=on,g=Lr;is(l.type)&&(on=l.stateNode,Lr=!1),Ri(i,s,l),vl(l.stateNode),on=h,Lr=g;break;case 5:vn||ei(l,s);case 6:if(h=on,g=Lr,on=null,Ri(i,s,l),on=h,Lr=g,on!==null)if(Lr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(l.stateNode)}catch(_){Wt(l,s,_)}else try{on.removeChild(l.stateNode)}catch(_){Wt(l,s,_)}break;case 18:on!==null&&(Lr?(i=on,BT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),kl(i)):BT(on,l.stateNode));break;case 4:h=on,g=Lr,on=l.stateNode.containerInfo,Lr=!0,Ri(i,s,l),on=h,Lr=g;break;case 0:case 11:case 14:case 15:vn||Qi(2,l,s),vn||Qi(4,l,s),Ri(i,s,l);break;case 1:vn||(ei(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&jE(l,s,h)),Ri(i,s,l);break;case 21:Ri(i,s,l);break;case 22:vn=(h=vn)||l.memoizedState!==null,Ri(i,s,l),vn=h;break;default:Ri(i,s,l)}}function QE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{kl(i)}catch(l){Wt(s,s.return,l)}}function fR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new VE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new VE),s;default:throw Error(r(435,i.tag))}}function $p(i,s){var l=fR(i);s.forEach(function(h){var g=TR.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function Kr(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],_=i,S=s,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(is(N.type)){on=N.stateNode,Lr=!1;break e}break;case 5:on=N.stateNode,Lr=!1;break e;case 3:case 4:on=N.stateNode.containerInfo,Lr=!0;break e}N=N.return}if(on===null)throw Error(r(160));XE(_,S,g),on=null,Lr=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)WE(s,i),s=s.sibling}var Ca=null;function WE(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Kr(s,i),Zr(i),h&4&&(Qi(3,i,i.return),hl(3,i),Qi(5,i,i.return));break;case 1:Kr(s,i),Zr(i),h&512&&(vn||l===null||ei(l,l.return)),h&64&&Ci&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Ca;if(Kr(s,i),Zr(i),h&512&&(vn||l===null||ei(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Za]||_[xe]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),nr(_,h,l),_[xe]=i,rn(_),h=_;break e;case"link":var S=YT("link","href",g).get(h+(l.href||""));if(S){for(var N=0;N<S.length;N++)if(_=S[N],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(N,1);break t}}_=g.createElement(h),nr(_,h,l),g.head.appendChild(_);break;case"meta":if(S=YT("meta","content",g).get(h+(l.content||""))){for(N=0;N<S.length;N++)if(_=S[N],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(N,1);break t}}_=g.createElement(h),nr(_,h,l),g.head.appendChild(_);break;default:throw Error(r(468,h))}_[xe]=i,rn(_),h=_}i.stateNode=h}else VT(g,i.type,i.stateNode);else i.stateNode=GT(g,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?VT(g,i.type,i.stateNode):GT(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Pp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Kr(s,i),Zr(i),h&512&&(vn||l===null||ei(l,l.return)),l!==null&&h&4&&Pp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Kr(s,i),Zr(i),h&512&&(vn||l===null||ei(l,l.return)),i.flags&32){g=i.stateNode;try{Qa(g,"")}catch(ne){Wt(i,i.return,ne)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Pp(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Fp=!0);break;case 6:if(Kr(s,i),Zr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(ne){Wt(i,i.return,ne)}}break;case 3:if(qd=null,g=Ca,Ca=zd(s.containerInfo),Kr(s,i),Ca=g,Zr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{kl(s.containerInfo)}catch(ne){Wt(i,i.return,ne)}Fp&&(Fp=!1,JE(i));break;case 4:h=Ca,Ca=zd(i.stateNode.containerInfo),Kr(s,i),Zr(i),Ca=h;break;case 12:Kr(s,i),Zr(i);break;case 13:Kr(s,i),Zr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yp=Dt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,$p(i,h)));break;case 22:g=i.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,J=Ci,oe=vn;if(Ci=J||g,vn=oe||D,Kr(s,i),vn=oe,Ci=J,Zr(i),h&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||D||Ci||vn||eo(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){D=l=s;try{if(_=D.stateNode,g)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=D.stateNode;var de=D.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ne){Wt(D,D.return,ne)}}}else if(s.tag===6){if(l===null){D=s;try{D.stateNode.nodeValue=g?"":D.memoizedProps}catch(ne){Wt(D,D.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,$p(i,l))));break;case 19:Kr(s,i),Zr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,$p(i,h)));break;case 30:break;case 21:break;default:Kr(s,i),Zr(i)}}function Zr(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(GE(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=Up(i);Cd(i,_,g);break;case 5:var S=l.stateNode;l.flags&32&&(Qa(S,""),l.flags&=-33);var N=Up(i);Cd(i,N,S);break;case 3:case 4:var D=l.stateNode.containerInfo,J=Up(i);Bp(i,J,D);break;default:throw Error(r(161))}}catch(oe){Wt(i,i.return,oe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function JE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;JE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Wi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)KE(i,s.alternate,s),s=s.sibling}function eo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Qi(4,s,s.return),eo(s);break;case 1:ei(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&jE(s,s.return,l),eo(s);break;case 27:vl(s.stateNode);case 26:case 5:ei(s,s.return),eo(s);break;case 22:s.memoizedState===null&&eo(s);break;case 30:eo(s);break;default:eo(s)}i=i.sibling}}function Ji(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,_=s,S=_.flags;switch(_.tag){case 0:case 11:case 15:Ji(g,_,l),hl(4,_);break;case 1:if(Ji(g,_,l),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){Wt(h,h.return,J)}if(h=_,g=h.updateQueue,g!==null){var N=h.stateNode;try{var D=g.shared.hiddenCallbacks;if(D!==null)for(g.shared.hiddenCallbacks=null,g=0;g<D.length;g++)xy(D[g],N)}catch(J){Wt(h,h.return,J)}}l&&S&64&&zE(_),pl(_,_.return);break;case 27:YE(_);case 26:case 5:Ji(g,_,l),l&&h===null&&S&4&&qE(_),pl(_,_.return);break;case 12:Ji(g,_,l);break;case 13:Ji(g,_,l),l&&S&4&&QE(g,_);break;case 22:_.memoizedState===null&&Ji(g,_,l),pl(_,_.return);break;case 30:break;default:Ji(g,_,l)}s=s.sibling}}function Hp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ju(l))}function zp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ju(i))}function ti(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)eT(i,s,l,h),s=s.sibling}function eT(i,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ti(i,s,l,h),g&2048&&hl(9,s);break;case 1:ti(i,s,l,h);break;case 3:ti(i,s,l,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ju(i)));break;case 12:if(g&2048){ti(i,s,l,h),i=s.stateNode;try{var _=s.memoizedProps,S=_.id,N=_.onPostCommit;typeof N=="function"&&N(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Wt(s,s.return,D)}}else ti(i,s,l,h);break;case 13:ti(i,s,l,h);break;case 23:break;case 22:_=s.stateNode,S=s.alternate,s.memoizedState!==null?_._visibility&2?ti(i,s,l,h):ml(i,s):_._visibility&2?ti(i,s,l,h):(_._visibility|=2,Do(i,s,l,h,(s.subtreeFlags&10256)!==0)),g&2048&&Hp(S,s);break;case 24:ti(i,s,l,h),g&2048&&zp(s.alternate,s);break;default:ti(i,s,l,h)}}function Do(i,s,l,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=i,S=s,N=l,D=h,J=S.flags;switch(S.tag){case 0:case 11:case 15:Do(_,S,N,D,g),hl(8,S);break;case 23:break;case 22:var oe=S.stateNode;S.memoizedState!==null?oe._visibility&2?Do(_,S,N,D,g):ml(_,S):(oe._visibility|=2,Do(_,S,N,D,g)),g&&J&2048&&Hp(S.alternate,S);break;case 24:Do(_,S,N,D,g),g&&J&2048&&zp(S.alternate,S);break;default:Do(_,S,N,D,g)}s=s.sibling}}function ml(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,g=h.flags;switch(h.tag){case 22:ml(l,h),g&2048&&Hp(h.alternate,h);break;case 24:ml(l,h),g&2048&&zp(h.alternate,h);break;default:ml(l,h)}s=s.sibling}}var gl=8192;function Po(i){if(i.subtreeFlags&gl)for(i=i.child;i!==null;)tT(i),i=i.sibling}function tT(i){switch(i.tag){case 26:Po(i),i.flags&gl&&i.memoizedState!==null&&QR(Ca,i.memoizedState,i.memoizedProps);break;case 5:Po(i);break;case 3:case 4:var s=Ca;Ca=zd(i.stateNode.containerInfo),Po(i),Ca=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=gl,gl=16777216,Po(i),gl=s):Po(i));break;default:Po(i)}}function nT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function bl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];qn=h,aT(h,i)}nT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rT(i),i=i.sibling}function rT(i){switch(i.tag){case 0:case 11:case 15:bl(i),i.flags&2048&&Qi(9,i,i.return);break;case 3:bl(i);break;case 12:bl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Rd(i)):bl(i);break;default:bl(i)}}function Rd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];qn=h,aT(h,i)}nT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Qi(8,s,s.return),Rd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Rd(s));break;default:Rd(s)}i=i.sibling}}function aT(i,s){for(;qn!==null;){var l=qn;switch(l.tag){case 0:case 11:case 15:Qi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ju(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,qn=h;else e:for(l=i;qn!==null;){h=qn;var g=h.sibling,_=h.return;if(ZE(h),h===l){qn=null;break e}if(g!==null){g.return=_,qn=g;break e}qn=_}}}var hR={getCacheForType:function(i){var s=dr(Dn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},pR=typeof WeakMap=="function"?WeakMap:Map,Ht=0,en=null,Et=null,At=0,zt=0,Xr=null,es=!1,Uo=!1,jp=!1,ki=0,bn=0,ts=0,to=0,qp=0,pa=0,Bo=0,_l=null,Dr=null,Gp=!1,Yp=0,kd=1/0,Id=null,ns=null,tr=0,rs=null,Fo=null,$o=0,Vp=0,Kp=null,iT=null,yl=0,Zp=null;function Qr(){if((Ht&2)!==0&&At!==0)return At&-At;if(U.T!==null){var i=No;return i!==0?i:nm()}return Xt()}function sT(){pa===0&&(pa=(At&536870912)===0||Lt?qa():536870912);var i=ha.current;return i!==null&&(i.flags|=32),pa}function Wr(i,s,l){(i===en&&(zt===2||zt===9)||i.cancelPendingCommit!==null)&&(Ho(i,0),as(i,At,pa,!1)),Rr(i,l),((Ht&2)===0||i!==en)&&(i===en&&((Ht&2)===0&&(to|=l),bn===4&&as(i,At,pa,!1)),ni(i))}function oT(i,s,l){if((Ht&6)!==0)throw Error(r(327));var h=!l&&(s&124)===0&&(s&i.expiredLanes)===0||Hn(i,s),g=h?bR(i,s):Wp(i,s,!0),_=h;do{if(g===0){Uo&&!h&&as(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!mR(l)){g=Wp(i,s,!1),_=!1;continue}if(g===2){if(_=s,i.errorRecoveryDisabledLanes&_)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var N=i;g=_l;var D=N.current.memoizedState.isDehydrated;if(D&&(Ho(N,S).flags|=256),S=Wp(N,S,!1),S!==2){if(jp&&!D){N.errorRecoveryDisabledLanes|=_,to|=_,g=4;break e}_=Dr,Dr=g,_!==null&&(Dr===null?Dr=_:Dr.push.apply(Dr,_))}g=S}if(_=!1,g!==2)continue}}if(g===1){Ho(i,0),as(i,s,0,!0);break}e:{switch(h=i,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:as(h,s,pa,!es);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Yp+300-Dt(),10<g)){if(as(h,s,pa,!es),an(h,0,!0)!==0)break e;h.timeoutHandle=PT(uT.bind(null,h,l,Dr,Id,Gp,s,pa,to,Bo,es,_,2,-0,0),g);break e}uT(h,l,Dr,Id,Gp,s,pa,to,Bo,es,_,0,-0,0)}}break}while(!0);ni(i)}function uT(i,s,l,h,g,_,S,N,D,J,oe,de,ee,ne){if(i.timeoutHandle=-1,de=s.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:XR},tT(s),de=WR(),de!==null)){i.cancelPendingCommit=de(mT.bind(null,i,s,_,l,h,g,S,N,D,oe,1,ee,ne)),as(i,_,S,!J);return}mT(i,s,_,l,h,g,S,N,D)}function mR(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!Yr(_(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function as(i,s,l,h){s&=~qp,s&=~to,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var _=31-De(g),S=1<<_;h[_]=-1,g&=~S}l!==0&&B(i,l,s)}function Md(){return(Ht&6)===0?(El(0),!1):!0}function Xp(){if(Et!==null){if(zt===0)var i=Et.return;else i=Et,vi=Zs=null,hp(i),Mo=null,cl=0,i=Et;for(;i!==null;)HE(i.alternate,i),i=i.return;Et=null}}function Ho(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,MR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Xp(),en=i,Et=l=Ei(i.current,null),At=s,zt=0,Xr=null,es=!1,Uo=Hn(i,s),jp=!1,Bo=pa=qp=to=ts=bn=0,Dr=_l=null,Gp=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-De(h),_=1<<g;s|=i[g],h&=~_}return ki=s,td(),l}function lT(i,s){pt=null,U.H=Ed,s===tl||s===cd?(s=Oy(),zt=3):s===vy?(s=Oy(),zt=4):zt=s===NE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xr=s,Et===null&&(bn=1,Ad(i,la(s,i.current)))}function cT(){var i=U.H;return U.H=Ed,i===null?Ed:i}function dT(){var i=U.A;return U.A=hR,i}function Qp(){bn=4,es||(At&4194048)!==At&&ha.current!==null||(Uo=!0),(ts&134217727)===0&&(to&134217727)===0||en===null||as(en,At,pa,!1)}function Wp(i,s,l){var h=Ht;Ht|=2;var g=cT(),_=dT();(en!==i||At!==s)&&(Id=null,Ho(i,s)),s=!1;var S=bn;e:do try{if(zt!==0&&Et!==null){var N=Et,D=Xr;switch(zt){case 8:Xp(),S=6;break e;case 3:case 2:case 9:case 6:ha.current===null&&(s=!0);var J=zt;if(zt=0,Xr=null,zo(i,N,D,J),l&&Uo){S=0;break e}break;default:J=zt,zt=0,Xr=null,zo(i,N,D,J)}}gR(),S=bn;break}catch(oe){lT(i,oe)}while(!0);return s&&i.shellSuspendCounter++,vi=Zs=null,Ht=h,U.H=g,U.A=_,Et===null&&(en=null,At=0,td()),S}function gR(){for(;Et!==null;)fT(Et)}function bR(i,s){var l=Ht;Ht|=2;var h=cT(),g=dT();en!==i||At!==s?(Id=null,kd=Dt()+500,Ho(i,s)):Uo=Hn(i,s);e:do try{if(zt!==0&&Et!==null){s=Et;var _=Xr;t:switch(zt){case 1:zt=0,Xr=null,zo(i,s,_,1);break;case 2:case 9:if(Sy(_)){zt=0,Xr=null,hT(s);break}s=function(){zt!==2&&zt!==9||en!==i||(zt=7),ni(i)},_.then(s,s);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Sy(_)?(zt=0,Xr=null,hT(s)):(zt=0,Xr=null,zo(i,s,_,7));break;case 5:var S=null;switch(Et.tag){case 26:S=Et.memoizedState;case 5:case 27:var N=Et;if(!S||KT(S)){zt=0,Xr=null;var D=N.sibling;if(D!==null)Et=D;else{var J=N.return;J!==null?(Et=J,Ld(J)):Et=null}break t}}zt=0,Xr=null,zo(i,s,_,5);break;case 6:zt=0,Xr=null,zo(i,s,_,6);break;case 8:Xp(),bn=6;break e;default:throw Error(r(462))}}_R();break}catch(oe){lT(i,oe)}while(!0);return vi=Zs=null,U.H=h,U.A=g,Ht=l,Et!==null?0:(en=null,At=0,td(),bn)}function _R(){for(;Et!==null&&!Xn();)fT(Et)}function fT(i){var s=FE(i.alternate,i,ki);i.memoizedProps=i.pendingProps,s===null?Ld(i):Et=s}function hT(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=ME(l,s,s.pendingProps,s.type,void 0,At);break;case 11:s=ME(l,s,s.pendingProps,s.type.render,s.ref,At);break;case 5:hp(s);default:HE(l,s),s=Et=py(s,ki),s=FE(l,s,ki)}i.memoizedProps=i.pendingProps,s===null?Ld(i):Et=s}function zo(i,s,l,h){vi=Zs=null,hp(s),Mo=null,cl=0;var g=s.return;try{if(oR(i,g,s,l,At)){bn=1,Ad(i,la(l,i.current)),Et=null;return}}catch(_){if(g!==null)throw Et=g,_;bn=1,Ad(i,la(l,i.current)),Et=null;return}s.flags&32768?(Lt||h===1?i=!0:Uo||(At&536870912)!==0?i=!1:(es=i=!0,(h===2||h===9||h===3||h===6)&&(h=ha.current,h!==null&&h.tag===13&&(h.flags|=16384))),pT(s,i)):Ld(s)}function Ld(i){var s=i;do{if((s.flags&32768)!==0){pT(s,es);return}i=s.return;var l=lR(s.alternate,s,ki);if(l!==null){Et=l;return}if(s=s.sibling,s!==null){Et=s;return}Et=s=i}while(s!==null);bn===0&&(bn=5)}function pT(i,s){do{var l=cR(i.alternate,i);if(l!==null){l.flags&=32767,Et=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Et=i;return}Et=i=l}while(i!==null);bn=6,Et=null}function mT(i,s,l,h,g,_,S,N,D){i.cancelPendingCommit=null;do Dd();while(tr!==0);if((Ht&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=zh,Ya(i,l,_,S,N,D),i===en&&(Et=en=null,At=0),Fo=s,rs=i,$o=l,Vp=_,Kp=g,iT=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wR(or,function(){return ET(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,g=Z.p,Z.p=2,S=Ht,Ht|=4;try{dR(i,s,l)}finally{Ht=S,Z.p=g,U.T=h}}tr=1,gT(),bT(),_T()}}function gT(){if(tr===1){tr=0;var i=rs,s=Fo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var h=Z.p;Z.p=2;var g=Ht;Ht|=4;try{WE(s,i);var _=cm,S=ay(i.containerInfo),N=_.focusedElem,D=_.selectionRange;if(S!==N&&N&&N.ownerDocument&&ry(N.ownerDocument.documentElement,N)){if(D!==null&&Uh(N)){var J=D.start,oe=D.end;if(oe===void 0&&(oe=J),"selectionStart"in N)N.selectionStart=J,N.selectionEnd=Math.min(oe,N.value.length);else{var de=N.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),rt=N.textContent.length,Qe=Math.min(D.start,rt),Vt=D.end===void 0?Qe:Math.min(D.end,rt);!ne.extend&&Qe>Vt&&(S=Vt,Vt=Qe,Qe=S);var Y=ny(N,Qe),H=ny(N,Vt);if(Y&&H&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==H.node||ne.focusOffset!==H.offset)){var Q=de.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),Qe>Vt?(ne.addRange(Q),ne.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),ne.addRange(Q))}}}}for(de=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var le=de[N];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Vd=!!lm,cm=lm=null}finally{Ht=g,Z.p=h,U.T=l}}i.current=s,tr=2}}function bT(){if(tr===2){tr=0;var i=rs,s=Fo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var h=Z.p;Z.p=2;var g=Ht;Ht|=4;try{KE(i,s.alternate,s)}finally{Ht=g,Z.p=h,U.T=l}}tr=3}}function _T(){if(tr===4||tr===3){tr=0,lt();var i=rs,s=Fo,l=$o,h=iT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tr=5:(tr=0,Fo=rs=null,yT(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ns=null),Je(l),s=s.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(F,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=U.T,g=Z.p,Z.p=2,U.T=null;try{for(var _=i.onRecoverableError,S=0;S<h.length;S++){var N=h[S];_(N.value,{componentStack:N.stack})}}finally{U.T=s,Z.p=g}}($o&3)!==0&&Dd(),ni(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Zp?yl++:(yl=0,Zp=i):yl=0,El(0)}}function yT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ju(s)))}function Dd(i){return gT(),bT(),_T(),ET()}function ET(){if(tr!==5)return!1;var i=rs,s=Vp;Vp=0;var l=Je($o),h=U.T,g=Z.p;try{Z.p=32>l?32:l,U.T=null,l=Kp,Kp=null;var _=rs,S=$o;if(tr=0,Fo=rs=null,$o=0,(Ht&6)!==0)throw Error(r(331));var N=Ht;if(Ht|=4,rT(_.current),eT(_,_.current,S,l),Ht=N,El(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(F,_)}catch{}return!0}finally{Z.p=g,U.T=h,yT(i,s)}}function TT(i,s,l){s=la(l,s),s=Np(i.stateNode,s,2),i=Vi(i,s,2),i!==null&&(Rr(i,2),ni(i))}function Wt(i,s,l){if(i.tag===3)TT(i,i,l);else for(;s!==null;){if(s.tag===3){TT(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ns===null||!ns.has(h))){i=la(l,i),l=AE(2),h=Vi(s,l,2),h!==null&&(OE(l,h,s,i),Rr(h,2),ni(h));break}}s=s.return}}function Jp(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new pR;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(jp=!0,g.add(l),i=yR.bind(null,i,s,l),s.then(i,i))}function yR(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,en===i&&(At&l)===l&&(bn===4||bn===3&&(At&62914560)===At&&300>Dt()-Yp?(Ht&2)===0&&Ho(i,0):qp|=l,Bo===At&&(Bo=0)),ni(i)}function wT(i,s){s===0&&(s=Ga()),i=vo(i,s),i!==null&&(Rr(i,s),ni(i))}function ER(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),wT(i,l)}function TR(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),wT(i,l)}function wR(i,s){return On(i,s)}var Pd=null,jo=null,em=!1,Ud=!1,tm=!1,no=0;function ni(i){i!==jo&&i.next===null&&(jo===null?Pd=jo=i:jo=jo.next=i),Ud=!0,em||(em=!0,SR())}function El(i,s){if(!tm&&Ud){tm=!0;do for(var l=!1,h=Pd;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var S=h.suspendedLanes,N=h.pingedLanes;_=(1<<31-De(42|i)+1)-1,_&=g&~(S&~N),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,OT(h,_))}else _=At,_=an(h,h===en?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Hn(h,_)||(l=!0,OT(h,_));h=h.next}while(l);tm=!1}}function vR(){vT()}function vT(){Ud=em=!1;var i=0;no!==0&&(IR()&&(i=no),no=0);for(var s=Dt(),l=null,h=Pd;h!==null;){var g=h.next,_=ST(h,s);_===0?(h.next=null,l===null?Pd=g:l.next=g,g===null&&(jo=l)):(l=h,(i!==0||(_&3)!==0)&&(Ud=!0)),h=g}El(i)}function ST(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var S=31-De(_),N=1<<S,D=g[S];D===-1?((N&l)===0||(N&h)!==0)&&(g[S]=Qn(N,s)):D<=s&&(i.expiredLanes|=N),_&=~N}if(s=en,l=At,l=an(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(zt===2||zt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&hn(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Hn(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&hn(h),Je(l)){case 2:case 8:l=Ce;break;case 32:l=or;break;case 268435456:l=Pe;break;default:l=or}return h=AT.bind(null,i),l=On(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&hn(h),i.callbackPriority=2,i.callbackNode=null,2}function AT(i,s){if(tr!==0&&tr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Dd()&&i.callbackNode!==l)return null;var h=At;return h=an(i,i===en?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(oT(i,h,s),ST(i,Dt()),i.callbackNode!=null&&i.callbackNode===l?AT.bind(null,i):null)}function OT(i,s){if(Dd())return null;oT(i,s,!0)}function SR(){LR(function(){(Ht&6)!==0?On(sr,vR):vT()})}function nm(){return no===0&&(no=qa()),no}function NT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zi(""+i)}function xT(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function AR(i,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var _=NT((g[ze]||null).action),S=h.submitter;S&&(s=(s=S[ze]||null)?NT(s.formAction):S.getAttribute("formAction"),s!==null&&(_=s,S=null));var N=new Wc("action","action",null,h,g);i.push({event:N,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(no!==0){var D=S?xT(g,S):new FormData(g);wp(l,{pending:!0,data:D,method:g.method,action:_},null,D)}}else typeof _=="function"&&(N.preventDefault(),D=S?xT(g,S):new FormData(g),wp(l,{pending:!0,data:D,method:g.method,action:_},_,D))},currentTarget:g}]})}}for(var rm=0;rm<Hh.length;rm++){var am=Hh[rm],OR=am.toLowerCase(),NR=am[0].toUpperCase()+am.slice(1);xa(OR,"on"+NR)}xa(oy,"onAnimationEnd"),xa(uy,"onAnimationIteration"),xa(ly,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(qC,"onTransitionRun"),xa(GC,"onTransitionStart"),xa(YC,"onTransitionCancel"),xa(cy,"onTransitionEnd"),Ie("onMouseEnter",["mouseout","mouseover"]),Ie("onMouseLeave",["mouseout","mouseover"]),Ie("onPointerEnter",["pointerout","pointerover"]),Ie("onPointerLeave",["pointerout","pointerover"]),ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function CT(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var S=h.length-1;0<=S;S--){var N=h[S],D=N.instance,J=N.currentTarget;if(N=N.listener,D!==_&&g.isPropagationStopped())break e;_=N,g.currentTarget=J;try{_(g)}catch(oe){Sd(oe)}g.currentTarget=null,_=D}else for(S=0;S<h.length;S++){if(N=h[S],D=N.instance,J=N.currentTarget,N=N.listener,D!==_&&g.isPropagationStopped())break e;_=N,g.currentTarget=J;try{_(g)}catch(oe){Sd(oe)}g.currentTarget=null,_=D}}}}function Tt(i,s){var l=s[Mt];l===void 0&&(l=s[Mt]=new Set);var h=i+"__bubble";l.has(h)||(RT(s,i,2,!1),l.add(h))}function im(i,s,l){var h=0;s&&(h|=4),RT(l,i,h,s)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function sm(i){if(!i[Bd]){i[Bd]=!0,qe.forEach(function(l){l!=="selectionchange"&&(xR.has(l)||im(l,!1,i),im(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Bd]||(s[Bd]=!0,im("selectionchange",!1,s))}}function RT(i,s,l,h){switch(e1(s)){case 2:var g=tk;break;case 8:g=nk;break;default:g=Em}l=g.bind(null,s,l,i),g=void 0,!xh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function om(i,s,l,h,g){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var N=h.stateNode.containerInfo;if(N===g)break;if(S===4)for(S=h.return;S!==null;){var D=S.tag;if((D===3||D===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;N!==null;){if(S=Sa(N),S===null)return;if(D=S.tag,D===5||D===6||D===26||D===27){h=_=S;continue e}N=N.parentNode}}h=h.return}ua(function(){var J=_,oe=ke(l),de=[];e:{var ee=dy.get(i);if(ee!==void 0){var ne=Wc,rt=i;switch(i){case"keypress":if(Xc(l)===0)break e;case"keydown":case"keyup":ne=wC;break;case"focusin":rt="focus",ne=Ih;break;case"focusout":rt="blur",ne=Ih;break;case"beforeblur":case"afterblur":ne=Ih;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=$_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=cC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=AC;break;case oy:case uy:case ly:ne=hC;break;case cy:ne=NC;break;case"scroll":case"scrollend":ne=uC;break;case"wheel":ne=CC;break;case"copy":case"cut":case"paste":ne=mC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=z_;break;case"toggle":case"beforetoggle":ne=kC}var Qe=(s&4)!==0,Vt=!Qe&&(i==="scroll"||i==="scrollend"),Y=Qe?ee!==null?ee+"Capture":null:ee;Qe=[];for(var H=J,Q;H!==null;){var le=H;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||Y===null||(le=$s(H,Y),le!=null&&Qe.push(wl(H,le,Q))),Vt)break;H=H.return}0<Qe.length&&(ee=new ne(ee,rt,null,l,oe),de.push({event:ee,listeners:Qe}))}}if((s&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",ee&&l!==Fs&&(rt=l.relatedTarget||l.fromElement)&&(Sa(rt)||rt[St]))break e;if((ne||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(rt=l.relatedTarget||l.toElement,ne=J,rt=rt?Sa(rt):null,rt!==null&&(Vt=o(rt),Qe=rt.tag,rt!==Vt||Qe!==5&&Qe!==27&&Qe!==6)&&(rt=null)):(ne=null,rt=J),ne!==rt)){if(Qe=$_,le="onMouseLeave",Y="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Qe=z_,le="onPointerLeave",Y="onPointerEnter",H="pointer"),Vt=ne==null?ee:Xa(ne),Q=rt==null?ee:Xa(rt),ee=new Qe(le,H+"leave",ne,l,oe),ee.target=Vt,ee.relatedTarget=Q,le=null,Sa(oe)===J&&(Qe=new Qe(Y,H+"enter",rt,l,oe),Qe.target=Q,Qe.relatedTarget=Vt,le=Qe),Vt=le,ne&&rt)t:{for(Qe=ne,Y=rt,H=0,Q=Qe;Q;Q=qo(Q))H++;for(Q=0,le=Y;le;le=qo(le))Q++;for(;0<H-Q;)Qe=qo(Qe),H--;for(;0<Q-H;)Y=qo(Y),Q--;for(;H--;){if(Qe===Y||Y!==null&&Qe===Y.alternate)break t;Qe=qo(Qe),Y=qo(Y)}Qe=null}else Qe=null;ne!==null&&kT(de,ee,ne,Qe,!1),rt!==null&&Vt!==null&&kT(de,Vt,rt,Qe,!0)}}e:{if(ee=J?Xa(J):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var Be=X_;else if(K_(ee))if(Q_)Be=HC;else{Be=FC;var bt=BC}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Ut(J.elementType)&&(Be=X_):Be=$C;if(Be&&(Be=Be(i,J))){Z_(de,Be,l,oe);break e}bt&&bt(i,ee,J),i==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Hi(ee,"number",ee.value)}switch(bt=J?Xa(J):window,i){case"focusin":(K_(bt)||bt.contentEditable==="true")&&(Eo=bt,Bh=J,Ku=null);break;case"focusout":Ku=Bh=Eo=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,iy(de,l,oe);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":iy(de,l,oe)}var Ve;if(Lh)e:{switch(i){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else yo?Y_(i,l)&&(et="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(et="onCompositionStart");et&&(j_&&l.locale!=="ko"&&(yo||et!=="onCompositionStart"?et==="onCompositionEnd"&&yo&&(Ve=B_()):(ji=oe,Ch="value"in ji?ji.value:ji.textContent,yo=!0)),bt=Fd(J,et),0<bt.length&&(et=new H_(et,i,null,l,oe),de.push({event:et,listeners:bt}),Ve?et.data=Ve:(Ve=V_(l),Ve!==null&&(et.data=Ve)))),(Ve=MC?LC(i,l):DC(i,l))&&(et=Fd(J,"onBeforeInput"),0<et.length&&(bt=new H_("onBeforeInput","beforeinput",null,l,oe),de.push({event:bt,listeners:et}),bt.data=Ve)),AR(de,i,J,l,oe)}CT(de,s)})}function wl(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Fd(i,s){for(var l=s+"Capture",h=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=$s(i,l),g!=null&&h.unshift(wl(i,g,_)),g=$s(i,s),g!=null&&h.push(wl(i,g,_))),i.tag===3)return h;i=i.return}return[]}function qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function kT(i,s,l,h,g){for(var _=s._reactName,S=[];l!==null&&l!==h;){var N=l,D=N.alternate,J=N.stateNode;if(N=N.tag,D!==null&&D===h)break;N!==5&&N!==26&&N!==27||J===null||(D=J,g?(J=$s(l,_),J!=null&&S.unshift(wl(l,J,D))):g||(J=$s(l,_),J!=null&&S.push(wl(l,J,D)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var CR=/\r\n?/g,RR=/\u0000|\uFFFD/g;function IT(i){return(typeof i=="string"?i:""+i).replace(CR,`
`).replace(RR,"")}function MT(i,s){return s=IT(s),IT(i)===s}function $d(){}function Yt(i,s,l,h,g,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Qa(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Qa(i,""+h);break;case"className":br(i,"class",h);break;case"tabIndex":br(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":br(i,l,h);break;case"style":Nn(i,h,_);break;case"data":if(s!=="object"){br(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=zi(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Yt(i,s,"name",g.name,g,null),Yt(i,s,"formEncType",g.formEncType,g,null),Yt(i,s,"formMethod",g.formMethod,g,null),Yt(i,s,"formTarget",g.formTarget,g,null)):(Yt(i,s,"encType",g.encType,g,null),Yt(i,s,"method",g.method,g,null),Yt(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=zi(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=$d);break;case"onScroll":h!=null&&Tt("scroll",i);break;case"onScrollEnd":h!=null&&Tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=zi(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Tt("beforetoggle",i),Tt("toggle",i),lr(i,"popover",h);break;case"xlinkActuate":_r(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_r(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_r(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_r(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_r(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_r(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_r(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_r(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_r(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":lr(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_o.get(l)||l,lr(i,l,h))}}function um(i,s,l,h,g,_){switch(l){case"style":Nn(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Qa(i,h):(typeof h=="number"||typeof h=="bigint")&&Qa(i,""+h);break;case"onScroll":h!=null&&Tt("scroll",i);break;case"onScrollEnd":h!=null&&Tt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=$d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!j.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),_=i[ze]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):lr(i,l,h)}}}function nr(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",i),Tt("load",i);var h=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var S=l[_];if(S!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Yt(i,s,_,S,l,null)}}g&&Yt(i,s,"srcSet",l.srcSet,l,null),h&&Yt(i,s,"src",l.src,l,null);return;case"input":Tt("invalid",i);var N=_=S=g=null,D=null,J=null;for(h in l)if(l.hasOwnProperty(h)){var oe=l[h];if(oe!=null)switch(h){case"name":g=oe;break;case"type":S=oe;break;case"checked":D=oe;break;case"defaultChecked":J=oe;break;case"value":_=oe;break;case"defaultValue":N=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:Yt(i,s,h,oe,l,null)}}Vc(i,_,N,D,J,S,g,!1),Us(i);return;case"select":Tt("invalid",i),h=S=_=null;for(g in l)if(l.hasOwnProperty(g)&&(N=l[g],N!=null))switch(g){case"value":_=N;break;case"defaultValue":S=N;break;case"multiple":h=N;default:Yt(i,s,g,N,l,null)}s=_,l=S,i.multiple=!!h,s!=null?_i(i,!!h,s,!1):l!=null&&_i(i,!!h,l,!0);return;case"textarea":Tt("invalid",i),_=g=h=null;for(S in l)if(l.hasOwnProperty(S)&&(N=l[S],N!=null))switch(S){case"value":h=N;break;case"defaultValue":g=N;break;case"children":_=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Yt(i,s,S,N,l,null)}Kc(i,h,g,_),Us(i);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(h=l[D],h!=null))switch(D){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Yt(i,s,D,h,l,null)}return;case"dialog":Tt("beforetoggle",i),Tt("toggle",i),Tt("cancel",i),Tt("close",i);break;case"iframe":case"object":Tt("load",i);break;case"video":case"audio":for(h=0;h<Tl.length;h++)Tt(Tl[h],i);break;case"image":Tt("error",i),Tt("load",i);break;case"details":Tt("toggle",i);break;case"embed":case"source":case"link":Tt("error",i),Tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(h=l[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Yt(i,s,J,h,l,null)}return;default:if(Ut(s)){for(oe in l)l.hasOwnProperty(oe)&&(h=l[oe],h!==void 0&&um(i,s,oe,h,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(h=l[N],h!=null&&Yt(i,s,N,h,l,null))}function kR(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,S=null,N=null,D=null,J=null,oe=null;for(ne in l){var de=l[ne];if(l.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":D=de;default:h.hasOwnProperty(ne)||Yt(i,s,ne,null,h,de)}}for(var ee in h){var ne=h[ee];if(de=l[ee],h.hasOwnProperty(ee)&&(ne!=null||de!=null))switch(ee){case"type":_=ne;break;case"name":g=ne;break;case"checked":J=ne;break;case"defaultChecked":oe=ne;break;case"value":S=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ne!==de&&Yt(i,s,ee,ne,h,de)}}Fu(i,S,N,D,J,oe,_,g);return;case"select":ne=S=N=ee=null;for(_ in l)if(D=l[_],l.hasOwnProperty(_)&&D!=null)switch(_){case"value":break;case"multiple":ne=D;default:h.hasOwnProperty(_)||Yt(i,s,_,null,h,D)}for(g in h)if(_=h[g],D=l[g],h.hasOwnProperty(g)&&(_!=null||D!=null))switch(g){case"value":ee=_;break;case"defaultValue":N=_;break;case"multiple":S=_;default:_!==D&&Yt(i,s,g,_,h,D)}s=N,l=S,h=ne,ee!=null?_i(i,!!l,ee,!1):!!h!=!!l&&(s!=null?_i(i,!!l,s,!0):_i(i,!!l,l?[]:"",!1));return;case"textarea":ne=ee=null;for(N in l)if(g=l[N],l.hasOwnProperty(N)&&g!=null&&!h.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Yt(i,s,N,null,h,g)}for(S in h)if(g=h[S],_=l[S],h.hasOwnProperty(S)&&(g!=null||_!=null))switch(S){case"value":ee=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&Yt(i,s,S,g,h,_)}Gr(i,ee,ne);return;case"option":for(var rt in l)if(ee=l[rt],l.hasOwnProperty(rt)&&ee!=null&&!h.hasOwnProperty(rt))switch(rt){case"selected":i.selected=!1;break;default:Yt(i,s,rt,null,h,ee)}for(D in h)if(ee=h[D],ne=l[D],h.hasOwnProperty(D)&&ee!==ne&&(ee!=null||ne!=null))switch(D){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Yt(i,s,D,ee,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in l)ee=l[Qe],l.hasOwnProperty(Qe)&&ee!=null&&!h.hasOwnProperty(Qe)&&Yt(i,s,Qe,null,h,ee);for(J in h)if(ee=h[J],ne=l[J],h.hasOwnProperty(J)&&ee!==ne&&(ee!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:Yt(i,s,J,ee,h,ne)}return;default:if(Ut(s)){for(var Vt in l)ee=l[Vt],l.hasOwnProperty(Vt)&&ee!==void 0&&!h.hasOwnProperty(Vt)&&um(i,s,Vt,void 0,h,ee);for(oe in h)ee=h[oe],ne=l[oe],!h.hasOwnProperty(oe)||ee===ne||ee===void 0&&ne===void 0||um(i,s,oe,ee,h,ne);return}}for(var Y in l)ee=l[Y],l.hasOwnProperty(Y)&&ee!=null&&!h.hasOwnProperty(Y)&&Yt(i,s,Y,null,h,ee);for(de in h)ee=h[de],ne=l[de],!h.hasOwnProperty(de)||ee===ne||ee==null&&ne==null||Yt(i,s,de,ee,h,ne)}var lm=null,cm=null;function Hd(i){return i.nodeType===9?i:i.ownerDocument}function LT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function dm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fm=null;function IR(){var i=window.event;return i&&i.type==="popstate"?i===fm?!1:(fm=i,!0):(fm=null,!1)}var PT=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,LR=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(i){return UT.resolve(null).then(i).catch(DR)}:PT;function DR(i){setTimeout(function(){throw i})}function is(i){return i==="head"}function BT(i,s){var l=s,h=0,g=0;do{var _=l.nextSibling;if(i.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var S=i.ownerDocument;if(l&1&&vl(S.documentElement),l&2&&vl(S.body),l&4)for(l=S.head,vl(l),S=l.firstChild;S;){var N=S.nextSibling,D=S.nodeName;S[Za]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=N}}if(g===0){i.removeChild(_),kl(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);kl(s)}function hm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hm(l),Wn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function PR(i,s,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Za])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Ra(i.nextSibling),i===null)break}return null}function UR(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ra(i.nextSibling),i===null))return null;return i}function pm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function BR(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ra(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var mm=null;function FT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function $T(i,s,l){switch(s=Hd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function vl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Wn(i)}var ma=new Map,HT=new Set;function zd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ii=Z.d;Z.d={f:FR,r:$R,D:HR,C:zR,L:jR,m:qR,X:YR,S:GR,M:VR};function FR(){var i=Ii.f(),s=Md();return i||s}function $R(i){var s=Aa(i);s!==null&&s.tag===5&&s.type==="form"?oE(s):Ii.r(i)}var Go=typeof document>"u"?null:document;function zT(i,s,l){var h=Go;if(h&&typeof s=="string"&&s){var g=kr(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),HT.has(g)||(HT.add(g),i={rel:i,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),nr(s,"link",i),rn(s),h.head.appendChild(s)))}}function HR(i){Ii.D(i),zT("dns-prefetch",i,null)}function zR(i,s){Ii.C(i,s),zT("preconnect",i,s)}function jR(i,s,l){Ii.L(i,s,l);var h=Go;if(h&&i&&s){var g='link[rel="preload"][as="'+kr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+kr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+kr(l.imageSizes)+'"]')):g+='[href="'+kr(i)+'"]';var _=g;switch(s){case"style":_=Yo(i);break;case"script":_=Vo(i)}ma.has(_)||(i=p({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ma.set(_,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(Sl(_))||s==="script"&&h.querySelector(Al(_))||(s=h.createElement("link"),nr(s,"link",i),rn(s),h.head.appendChild(s)))}}function qR(i,s){Ii.m(i,s);var l=Go;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+kr(h)+'"][href="'+kr(i)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Vo(i)}if(!ma.has(_)&&(i=p({rel:"modulepreload",href:i},s),ma.set(_,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Al(_)))return}h=l.createElement("link"),nr(h,"link",i),rn(h),l.head.appendChild(h)}}}function GR(i,s,l){Ii.S(i,s,l);var h=Go;if(h&&i){var g=sa(h).hoistableStyles,_=Yo(i);s=s||"default";var S=g.get(_);if(!S){var N={loading:0,preload:null};if(S=h.querySelector(Sl(_)))N.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ma.get(_))&&gm(i,l);var D=S=h.createElement("link");rn(D),nr(D,"link",i),D._p=new Promise(function(J,oe){D.onload=J,D.onerror=oe}),D.addEventListener("load",function(){N.loading|=1}),D.addEventListener("error",function(){N.loading|=2}),N.loading|=4,jd(S,s,h)}S={type:"stylesheet",instance:S,count:1,state:N},g.set(_,S)}}}function YR(i,s){Ii.X(i,s);var l=Go;if(l&&i){var h=sa(l).hoistableScripts,g=Vo(i),_=h.get(g);_||(_=l.querySelector(Al(g)),_||(i=p({src:i,async:!0},s),(s=ma.get(g))&&bm(i,s),_=l.createElement("script"),rn(_),nr(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function VR(i,s){Ii.M(i,s);var l=Go;if(l&&i){var h=sa(l).hoistableScripts,g=Vo(i),_=h.get(g);_||(_=l.querySelector(Al(g)),_||(i=p({src:i,async:!0,type:"module"},s),(s=ma.get(g))&&bm(i,s),_=l.createElement("script"),rn(_),nr(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function jT(i,s,l,h){var g=(g=Se.current)?zd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Yo(l.href),l=sa(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Yo(l.href);var _=sa(g).hoistableStyles,S=_.get(i);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,S),(_=g.querySelector(Sl(i)))&&!_._p&&(S.instance=_,S.state.loading=5),ma.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ma.set(i,l),_||KR(g,i,l,S.state))),s&&h===null)throw Error(r(528,""));return S}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vo(l),l=sa(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Yo(i){return'href="'+kr(i)+'"'}function Sl(i){return'link[rel="stylesheet"]['+i+"]"}function qT(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function KR(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),nr(s,"link",l),rn(s),i.head.appendChild(s))}function Vo(i){return'[src="'+kr(i)+'"]'}function Al(i){return"script[async]"+i}function GT(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+kr(l.href)+'"]');if(h)return s.instance=h,rn(h),h;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),rn(h),nr(h,"style",g),jd(h,l.precedence,i),s.instance=h;case"stylesheet":g=Yo(l.href);var _=i.querySelector(Sl(g));if(_)return s.state.loading|=4,s.instance=_,rn(_),_;h=qT(l),(g=ma.get(g))&&gm(h,g),_=(i.ownerDocument||i).createElement("link"),rn(_);var S=_;return S._p=new Promise(function(N,D){S.onload=N,S.onerror=D}),nr(_,"link",h),s.state.loading|=4,jd(_,l.precedence,i),s.instance=_;case"script":return _=Vo(l.src),(g=i.querySelector(Al(_)))?(s.instance=g,rn(g),g):(h=l,(g=ma.get(_))&&(h=p({},l),bm(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),rn(g),nr(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,jd(h,l.precedence,i));return s.instance}function jd(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,S=0;S<h.length;S++){var N=h[S];if(N.dataset.precedence===s)_=N;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function gm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var qd=null;function YT(i,s,l){if(qd===null){var h=new Map,g=qd=new Map;g.set(l,h)}else g=qd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[Za]||_[xe]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(s)||"";S=i+S;var N=h.get(S);N?N.push(_):h.set(S,[_])}}return h}function VT(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function ZR(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function KT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ol=null;function XR(){}function QR(i,s,l){if(Ol===null)throw Error(r(475));var h=Ol;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Yo(l.href),_=i.querySelector(Sl(g));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Gd.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=_,rn(_);return}_=i.ownerDocument||i,l=qT(l),(g=ma.get(g))&&gm(l,g),_=_.createElement("link"),rn(_);var S=_;S._p=new Promise(function(N,D){S.onload=N,S.onerror=D}),nr(_,"link",l),s.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Gd.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function WR(){if(Ol===null)throw Error(r(475));var i=Ol;return i.stylesheets&&i.count===0&&_m(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&_m(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Gd(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Yd=null;function _m(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Yd=new Map,s.forEach(JR,i),Yd=null,Gd.call(i))}function JR(i,s){if(!(s.state.loading&4)){var l=Yd.get(i);if(l)var h=l.get(null);else{l=new Map,Yd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var S=g[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),h=S)}h&&l.set(null,h)}g=s.instance,S=g.getAttribute("data-precedence"),_=l.get(S)||h,_===h&&l.set(null,g),l.set(S,g),this.count++,h=Gd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Nl={$$typeof:C,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function ek(i,s,l,h,g,_,S,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ps(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.hiddenUpdates=Ps(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ZT(i,s,l,h,g,_,S,N,D,J,oe,de){return i=new ek(i,s,l,S,N,D,J,de),s=1,_===!0&&(s|=24),_=Vr(3,null,null,s),i.current=_,_.stateNode=i,s=Jh(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},rp(_),i}function XT(i){return i?(i=So,i):So}function QT(i,s,l,h,g,_){g=XT(g),h.context===null?h.context=g:h.pendingContext=g,h=Yi(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Vi(i,h,s),l!==null&&(Wr(l,i,s),rl(l,i,s))}function WT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function ym(i,s){WT(i,s),(i=i.alternate)&&WT(i,s)}function JT(i){if(i.tag===13){var s=vo(i,67108864);s!==null&&Wr(s,i,67108864),ym(i,67108864)}}var Vd=!0;function tk(i,s,l,h){var g=U.T;U.T=null;var _=Z.p;try{Z.p=2,Em(i,s,l,h)}finally{Z.p=_,U.T=g}}function nk(i,s,l,h){var g=U.T;U.T=null;var _=Z.p;try{Z.p=8,Em(i,s,l,h)}finally{Z.p=_,U.T=g}}function Em(i,s,l,h){if(Vd){var g=Tm(h);if(g===null)om(i,s,h,Kd,l),t1(i,h);else if(ak(g,i,s,l,h))h.stopPropagation();else if(t1(i,h),s&4&&-1<rk.indexOf(i)){for(;g!==null;){var _=Aa(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=pn(_.pendingLanes);if(S!==0){var N=_;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var D=1<<31-De(S);N.entanglements[1]|=D,S&=~D}ni(_),(Ht&6)===0&&(kd=Dt()+500,El(0))}}break;case 13:N=vo(_,2),N!==null&&Wr(N,_,2),Md(),ym(_,2)}if(_=Tm(h),_===null&&om(i,s,h,Kd,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else om(i,s,h,null,l)}}function Tm(i){return i=ke(i),wm(i)}var Kd=null;function wm(i){if(Kd=null,i=Sa(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Kd=i,null}function e1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case sr:return 2;case Ce:return 8;case or:case Ze:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var vm=!1,ss=null,os=null,us=null,xl=new Map,Cl=new Map,ls=[],rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t1(i,s){switch(i){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":xl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(s.pointerId)}}function Rl(i,s,l,h,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},s!==null&&(s=Aa(s),s!==null&&JT(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function ak(i,s,l,h,g){switch(s){case"focusin":return ss=Rl(ss,i,s,l,h,g),!0;case"dragenter":return os=Rl(os,i,s,l,h,g),!0;case"mouseover":return us=Rl(us,i,s,l,h,g),!0;case"pointerover":var _=g.pointerId;return xl.set(_,Rl(xl.get(_)||null,i,s,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Cl.set(_,Rl(Cl.get(_)||null,i,s,l,h,g)),!0}return!1}function n1(i){var s=Sa(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,Qt(i.priority,function(){if(l.tag===13){var h=Qr();h=Oe(h);var g=vo(l,h);g!==null&&Wr(g,l,h),ym(l,h)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Tm(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Fs=h,l.target.dispatchEvent(h),Fs=null}else return s=Aa(l),s!==null&&JT(s),i.blockedOn=l,!1;s.shift()}return!0}function r1(i,s,l){Zd(i)&&l.delete(s)}function ik(){vm=!1,ss!==null&&Zd(ss)&&(ss=null),os!==null&&Zd(os)&&(os=null),us!==null&&Zd(us)&&(us=null),xl.forEach(r1),Cl.forEach(r1)}function Xd(i,s){i.blockedOn===s&&(i.blockedOn=null,vm||(vm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ik)))}var Qd=null;function a1(i){Qd!==i&&(Qd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qd===i&&(Qd=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(wm(h||l)===null)continue;break}var _=Aa(l);_!==null&&(i.splice(s,3),s-=3,wp(_,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function kl(i){function s(D){return Xd(D,i)}ss!==null&&Xd(ss,i),os!==null&&Xd(os,i),us!==null&&Xd(us,i),xl.forEach(s),Cl.forEach(s);for(var l=0;l<ls.length;l++){var h=ls[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ls.length&&(l=ls[0],l.blockedOn===null);)n1(l),l.blockedOn===null&&ls.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],_=l[h+1],S=g[ze]||null;if(typeof _=="function")S||a1(l);else if(S){var N=null;if(_&&_.hasAttribute("formAction")){if(g=_,S=_[ze]||null)N=S.formAction;else if(wm(g)!==null)continue}else N=S.action;typeof N=="function"?l[h+1]=N:(l.splice(h,3),h-=3),a1(l)}}}function Sm(i){this._internalRoot=i}Wd.prototype.render=Sm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=Qr();QT(l,h,i,s,null,null)},Wd.prototype.unmount=Sm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;QT(i.current,2,null,i,null,null),Md(),s[St]=null}};function Wd(i){this._internalRoot=i}Wd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Xt();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ls.length&&s!==0&&s<ls[l].priority;l++);ls.splice(l,0,i),l===0&&n1(i)}};var i1=e.version;if(i1!=="19.1.1")throw Error(r(527,i1,"19.1.1"));Z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var sk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{F=Jd.inject(sk),te=Jd}catch{}}return Ml.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",g=TE,_=wE,S=vE,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=ZT(i,1,!1,null,null,l,h,g,_,S,N,null),i[St]=s.current,sm(i),new Sm(s)},Ml.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,g="",_=TE,S=wE,N=vE,D=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),s=ZT(i,1,!0,s,l??null,h,g,_,S,N,D,J),s.context=XT(null),l=s.current,h=Qr(),h=Oe(h),g=Yi(h),g.callback=null,Vi(l,g,h),l=h,s.current.lanes=l,Rr(s,l),ni(s),i[St]=s.current,sm(i),new Wd(s)},Ml.version="19.1.1",Ml}var m1;function gk(){if(m1)return Nm.exports;m1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nm.exports=mk(),Nm.exports}var bk=gk();function _k({data:t}){const[e,n]=Hr.useState();return tt.jsx(tt.Fragment,{children:t.map(r=>tt.jsx("div",{className:`layout-transition ml-5 text-sm text-gray-500 cursor-pointer truncate mb-2 ${e===r?"p-3 rounded-lg bg-gray-100 shadow-md":""}`,onClick:()=>n(r),children:r.req.prompt},r.id))})}function yA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=yA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yk(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=yA(t))&&(r&&(r+=" "),r+=e);return r}const N0="-",Ek=t=>{const e=wk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{const c=u.split(N0);return c[0]===""&&c.length!==1&&c.shift(),EA(c,e)||Tk(u)},getConflictingClassGroupIds:(u,c)=>{const d=n[u]||[];return c&&r[u]?[...d,...r[u]]:d}}},EA=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?EA(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const o=t.join(N0);return e.validators.find(({validator:u})=>u(o))?.classGroupId},g1=/^\[(.+)\]$/,Tk=t=>{if(g1.test(t)){const e=g1.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wk=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const a in n)Cb(n[a],r,a,e);return r},Cb=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const o=a===""?e:b1(e,a);o.classGroupId=n;return}if(typeof a=="function"){if(vk(a)){Cb(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,u])=>{Cb(u,b1(e,o),n,r)})})},b1=(t,e)=>{let n=t;return e.split(N0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vk=t=>t.isThemeGetter,Sk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(o,u)=>{n.set(o,u),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let u=n.get(o);if(u!==void 0)return u;if((u=r.get(o))!==void 0)return a(o,u),u},set(o,u){n.has(o)?n.set(o,u):a(o,u)}}},Rb="!",kb=":",Ak=kb.length,Ok=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let u=0,c=0,d=0,f;for(let T=0;T<a.length;T++){let w=a[T];if(u===0&&c===0){if(w===kb){o.push(a.slice(d,T)),d=T+Ak;continue}if(w==="/"){f=T;continue}}w==="["?u++:w==="]"?u--:w==="("?c++:w===")"&&c--}const p=o.length===0?a:a.substring(d),m=Nk(p),b=m!==p,E=f&&f>d?f-d:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:m,maybePostfixModifierPosition:E}};if(e){const a=e+kb,o=r;r=u=>u.startsWith(a)?o(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},Nk=t=>t.endsWith(Rb)?t.substring(0,t.length-1):t.startsWith(Rb)?t.substring(1):t,xk=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(u=>{u[0]==="["||e[u]?(a.push(...o.sort(),u),o=[]):o.push(u)}),a.push(...o.sort()),a}},Ck=t=>({cache:Sk(t.cacheSize),parseClassName:Ok(t),sortModifiers:xk(t),...Ek(t)}),Rk=/\s+/,kk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,u=[],c=t.trim().split(Rk);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:m,modifiers:b,hasImportantModifier:E,baseClassName:T,maybePostfixModifierPosition:w}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let A=!!w,O=r(A?T.substring(0,w):T);if(!O){if(!A){d=p+(d.length>0?" "+d:d);continue}if(O=r(T),!O){d=p+(d.length>0?" "+d:d);continue}A=!1}const k=o(b).join(":"),C=E?k+Rb:k,$=C+O;if(u.includes($))continue;u.push($);const P=a(O,A);for(let M=0;M<P.length;++M){const se=P[M];u.push(C+se)}d=p+(d.length>0?" "+d:d)}return d};function Ik(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=TA(e))&&(r&&(r+=" "),r+=n);return r}const TA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=TA(t[r]))&&(n&&(n+=" "),n+=e);return n};function Mk(t,...e){let n,r,a,o=u;function u(d){const f=e.reduce((p,m)=>m(p),t());return n=Ck(f),r=n.cache.get,a=n.cache.set,o=c,c(d)}function c(d){const f=r(d);if(f)return f;const p=kk(d,n);return a(d,p),p}return function(){return o(Ik.apply(null,arguments))}}const Un=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Lk=/^\d+\/\d+$/,Dk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Bk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ko=t=>Lk.test(t),mt=t=>!!t&&!Number.isNaN(Number(t)),ds=t=>!!t&&Number.isInteger(Number(t)),km=t=>t.endsWith("%")&&mt(t.slice(0,-1)),Mi=t=>Dk.test(t),$k=()=>!0,Hk=t=>Pk.test(t)&&!Uk.test(t),SA=()=>!1,zk=t=>Bk.test(t),jk=t=>Fk.test(t),qk=t=>!Fe(t)&&!$e(t),Gk=t=>vu(t,NA,SA),Fe=t=>wA.test(t),ro=t=>vu(t,xA,Hk),Im=t=>vu(t,Xk,mt),_1=t=>vu(t,AA,SA),Yk=t=>vu(t,OA,jk),ef=t=>vu(t,CA,zk),$e=t=>vA.test(t),Ll=t=>Su(t,xA),Vk=t=>Su(t,Qk),y1=t=>Su(t,AA),Kk=t=>Su(t,NA),Zk=t=>Su(t,OA),tf=t=>Su(t,CA,!0),vu=(t,e,n)=>{const r=wA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Su=(t,e,n=!1)=>{const r=vA.exec(t);return r?r[1]?e(r[1]):n:!1},AA=t=>t==="position"||t==="percentage",OA=t=>t==="image"||t==="url",NA=t=>t==="length"||t==="size"||t==="bg-size",xA=t=>t==="length",Xk=t=>t==="number",Qk=t=>t==="family-name",CA=t=>t==="shadow",Wk=()=>{const t=Un("color"),e=Un("font"),n=Un("text"),r=Un("font-weight"),a=Un("tracking"),o=Un("leading"),u=Un("breakpoint"),c=Un("container"),d=Un("spacing"),f=Un("radius"),p=Un("shadow"),m=Un("inset-shadow"),b=Un("text-shadow"),E=Un("drop-shadow"),T=Un("blur"),w=Un("perspective"),A=Un("aspect"),O=Un("ease"),k=Un("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...$(),$e,Fe],M=()=>["auto","hidden","clip","visible","scroll"],se=()=>["auto","contain","none"],q=()=>[$e,Fe,d],me=()=>[Ko,"full","auto",...q()],V=()=>[ds,"none","subgrid",$e,Fe],ce=()=>["auto",{span:["full",ds,$e,Fe]},ds,$e,Fe],he=()=>[ds,"auto",$e,Fe],ve=()=>["auto","min","max","fr",$e,Fe],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...q()],Z=()=>[Ko,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...q()],z=()=>[t,$e,Fe],ue=()=>[...$(),y1,_1,{position:[$e,Fe]}],v=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",Kk,Gk,{size:[$e,Fe]}],re=()=>[km,Ll,ro],x=()=>["","none","full",f,$e,Fe],ge=()=>["",mt,Ll,ro],be=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],We=()=>[mt,km,y1,_1],nt=()=>["","none",T,$e,Fe],Ft=()=>["none",mt,$e,Fe],Nt=()=>["none",mt,$e,Fe],qt=()=>[mt,$e,Fe],Zt=()=>[Ko,"full",...q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mi],breakpoint:[Mi],color:[$k],container:[Mi],"drop-shadow":[Mi],ease:["in","out","in-out"],font:[qk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mi],shadow:[Mi],spacing:["px",mt],text:[Mi],"text-shadow":[Mi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ko,Fe,$e,A]}],container:["container"],columns:[{columns:[mt,Fe,$e,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:se()}],"overscroll-x":[{"overscroll-x":se()}],"overscroll-y":[{"overscroll-y":se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:me()}],"inset-x":[{"inset-x":me()}],"inset-y":[{"inset-y":me()}],start:[{start:me()}],end:[{end:me()}],top:[{top:me()}],right:[{right:me()}],bottom:[{bottom:me()}],left:[{left:me()}],visibility:["visible","invisible","collapse"],z:[{z:[ds,"auto",$e,Fe]}],basis:[{basis:[Ko,"full","auto",c,...q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,Ko,"auto","initial","none",Fe]}],grow:[{grow:["",mt,$e,Fe]}],shrink:[{shrink:["",mt,$e,Fe]}],order:[{order:[ds,"first","last","none",$e,Fe]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:q()}],"gap-x":[{"gap-x":q()}],"gap-y":[{"gap-y":q()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:q()}],px:[{px:q()}],py:[{py:q()}],ps:[{ps:q()}],pe:[{pe:q()}],pt:[{pt:q()}],pr:[{pr:q()}],pb:[{pb:q()}],pl:[{pl:q()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":q()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[c,"screen",...Z()]}],"min-w":[{"min-w":[c,"screen","none",...Z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[u]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,Ll,ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,$e,Im]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",km,Fe]}],"font-family":[{font:[Vk,Fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,$e,Fe]}],"line-clamp":[{"line-clamp":[mt,"none",$e,Im]}],leading:[{leading:[o,...q()]}],"list-image":[{"list-image":["none",$e,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",$e,ro]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[mt,"auto",$e,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:v()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ds,$e,Fe],radial:["",$e,Fe],conic:[ds,$e,Fe]},Zk,Yk]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:x()}],"rounded-s":[{"rounded-s":x()}],"rounded-e":[{"rounded-e":x()}],"rounded-t":[{"rounded-t":x()}],"rounded-r":[{"rounded-r":x()}],"rounded-b":[{"rounded-b":x()}],"rounded-l":[{"rounded-l":x()}],"rounded-ss":[{"rounded-ss":x()}],"rounded-se":[{"rounded-se":x()}],"rounded-ee":[{"rounded-ee":x()}],"rounded-es":[{"rounded-es":x()}],"rounded-tl":[{"rounded-tl":x()}],"rounded-tr":[{"rounded-tr":x()}],"rounded-br":[{"rounded-br":x()}],"rounded-bl":[{"rounded-bl":x()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,$e,Fe]}],"outline-w":[{outline:["",mt,Ll,ro]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",p,tf,ef]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",m,tf,ef]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[mt,ro]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",b,tf,ef]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[mt,$e,Fe]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":We()}],"mask-image-linear-to-pos":[{"mask-linear-to":We()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":We()}],"mask-image-t-to-pos":[{"mask-t-to":We()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":We()}],"mask-image-r-to-pos":[{"mask-r-to":We()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":We()}],"mask-image-b-to-pos":[{"mask-b-to":We()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":We()}],"mask-image-l-to-pos":[{"mask-l-to":We()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":We()}],"mask-image-x-to-pos":[{"mask-x-to":We()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":We()}],"mask-image-y-to-pos":[{"mask-y-to":We()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[$e,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":We()}],"mask-image-radial-to-pos":[{"mask-radial-to":We()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":We()}],"mask-image-conic-to-pos":[{"mask-conic-to":We()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:v()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,Fe]}],filter:[{filter:["","none",$e,Fe]}],blur:[{blur:nt()}],brightness:[{brightness:[mt,$e,Fe]}],contrast:[{contrast:[mt,$e,Fe]}],"drop-shadow":[{"drop-shadow":["","none",E,tf,ef]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",mt,$e,Fe]}],"hue-rotate":[{"hue-rotate":[mt,$e,Fe]}],invert:[{invert:["",mt,$e,Fe]}],saturate:[{saturate:[mt,$e,Fe]}],sepia:[{sepia:["",mt,$e,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,Fe]}],"backdrop-blur":[{"backdrop-blur":nt()}],"backdrop-brightness":[{"backdrop-brightness":[mt,$e,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[mt,$e,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,$e,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,$e,Fe]}],"backdrop-invert":[{"backdrop-invert":["",mt,$e,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[mt,$e,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[mt,$e,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,$e,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":q()}],"border-spacing-x":[{"border-spacing-x":q()}],"border-spacing-y":[{"border-spacing-y":q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",$e,Fe]}],ease:[{ease:["linear","initial",O,$e,Fe]}],delay:[{delay:[mt,$e,Fe]}],animate:[{animate:["none",k,$e,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,$e,Fe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Ft()}],"rotate-x":[{"rotate-x":Ft()}],"rotate-y":[{"rotate-y":Ft()}],"rotate-z":[{"rotate-z":Ft()}],scale:[{scale:Nt()}],"scale-x":[{"scale-x":Nt()}],"scale-y":[{"scale-y":Nt()}],"scale-z":[{"scale-z":Nt()}],"scale-3d":["scale-3d"],skew:[{skew:qt()}],"skew-x":[{"skew-x":qt()}],"skew-y":[{"skew-y":qt()}],transform:[{transform:[$e,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Zt()}],"translate-x":[{"translate-x":Zt()}],"translate-y":[{"translate-y":Zt()}],"translate-z":[{"translate-z":Zt()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,Fe]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[mt,Ll,ro,Im]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jk=Mk(Wk);function RA(...t){return Jk(yk(t))}function e2({className:t,...e}){return tt.jsx("textarea",{"data-slot":"textarea",className:RA("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),E1=t=>{const e=n2(t);return e.charAt(0).toUpperCase()+e.slice(1)},kA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),r2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Hr.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...c},d)=>Hr.createElement("svg",{ref:d,...a2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kA("lucide",a),...!o&&!r2(c)&&{"aria-hidden":"true"},...c},[...u.map(([f,p])=>Hr.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=(t,e)=>{const n=Hr.forwardRef(({className:r,...a},o)=>Hr.createElement(i2,{ref:o,iconNode:e,className:kA(`lucide-${t2(E1(t))}`,`lucide-${t}`,r),...a}));return n.displayName=E1(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M3 5h1",key:"1mv5vm"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M3 19h1",key:"w6f3n9"}],["path",{d:"M8 5h1",key:"1nxr5w"}],["path",{d:"M8 12h1",key:"1con00"}],["path",{d:"M8 19h1",key:"k7p10e"}],["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}]],o2=sh("logs",s2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],T1=sh("message-square-plus",u2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],w1=sh("panel-left",l2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],d2=sh("send",c2),f2=({chat:t,abortChat:e})=>{const[n,r]=Hr.useState(""),a=()=>{n.trim()&&(t(n),r(""))},o=u=>{if(u.key==="Enter"){if(u.shiftKey)return;u.preventDefault(),a()}};return tt.jsx(tt.Fragment,{children:tt.jsxs("div",{className:"border-1 border-gray-300 rounded-2xl p-2 ",children:[tt.jsx(e2,{placeholder:"Shift+Enter ",className:RA("scrollbar-hide max-h-32 border-0 p-1 shadow-none  resize-none focus-visible:ring-0"),value:n,onChange:u=>r(u.target.value),onKeyDown:o}),tt.jsx("div",{className:"flex justify-end mt-1",children:tt.jsx("div",{className:"flex justify-end gap-1 items-center",children:tt.jsx(d2,{className:"w-8 h-8 p-1  cursor-pointer rounded-md text-gray-600 hover:bg-blue-100",onClick:a})})})]})})};function v1(t,e=IA){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const a=r.indexOf("```");let o=r;return a!==-1&&(o=r.substring(0,a)),e(o.trim())}function IA(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,a=!1;for(let o of t){if(r)o==='"'&&!a?r=!1:o===`
`&&!a?o="\\n":o==="\\"?a=!a:a=!1;else if(o==='"')r=!0,a=!1;else if(o==="{")n.push("}");else if(o==="[")n.push("]");else if(o==="}"||o==="]")if(n&&n[n.length-1]===o)n.pop();else return null;e+=o}r&&(e+='"');for(let o=n.length-1;o>=0;o-=1)e+=n[o];try{return JSON.parse(e)}catch{return null}}var Mm,S1;function h2(){return S1||(S1=1,Mm=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}),Mm}var p2=h2();const m2=Is(p2);var nf={exports:{}},A1;function g2(){if(A1)return nf.exports;A1=1;const t=/[\p{Lu}]/u,e=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,o=new RegExp("^"+a.source),u=new RegExp(a.source+r.source,"gu"),c=new RegExp("\\d+"+r.source,"gu"),d=(b,E,T)=>{let w=!1,A=!1,O=!1;for(let k=0;k<b.length;k++){const C=b[k];w&&t.test(C)?(b=b.slice(0,k)+"-"+b.slice(k),w=!1,O=A,A=!0,k++):A&&O&&e.test(C)?(b=b.slice(0,k-1)+"-"+b.slice(k-1),O=A,A=!1,w=!0):(w=E(C)===C&&T(C)!==C,O=A,A=T(C)===C&&E(C)!==C)}return b},f=(b,E)=>(n.lastIndex=0,b.replace(n,T=>E(T))),p=(b,E)=>(u.lastIndex=0,c.lastIndex=0,b.replace(u,(T,w)=>E(w)).replace(c,T=>E(T))),m=(b,E)=>{if(!(typeof b=="string"||Array.isArray(b)))throw new TypeError("Expected the input to be `string | string[]`");if(E={pascalCase:!1,preserveConsecutiveUppercase:!1,...E},Array.isArray(b)?b=b.map(O=>O.trim()).filter(O=>O.length).join("-"):b=b.trim(),b.length===0)return"";const T=E.locale===!1?O=>O.toLowerCase():O=>O.toLocaleLowerCase(E.locale),w=E.locale===!1?O=>O.toUpperCase():O=>O.toLocaleUpperCase(E.locale);return b.length===1?E.pascalCase?w(b):T(b):(b!==T(b)&&(b=d(b,T,w)),b=b.replace(o,""),E.preserveConsecutiveUppercase?b=f(b,T):b=T(b),E.pascalCase&&(b=w(b.charAt(0))+b.slice(1)),p(b,w))};return nf.exports=m,nf.exports.default=m,nf.exports}g2();function b2(t,e){return e?.[t]||m2(t)}function _2(t,e,n){const r={};for(const a in t)Object.hasOwn(t,a)&&(r[e(a,n)]=t[a]);return r}function O1(t){return Array.isArray(t)?[...t]:{...t}}function y2(t,e){const n=O1(t);for(const[r,a]of Object.entries(e)){const[o,...u]=r.split(".").reverse();let c=n;for(const d of u.reverse()){if(c[d]===void 0)break;c[d]=O1(c[d]),c=c[d]}c[o]!==void 0&&(c[o]={lc:1,type:"secret",id:[a]})}return n}function MA(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}class fi{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,MA(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>this.lc_serializable_keys?.includes(r))):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof fi||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((a,o)=>(a[o]=o in this?this[o]:this.lc_kwargs[o],a),{});for(let a=Object.getPrototypeOf(this);a;a=Object.getPrototypeOf(a))Object.assign(e,Reflect.get(a,"lc_aliases",this)),Object.assign(n,Reflect.get(a,"lc_secrets",this)),Object.assign(r,Reflect.get(a,"lc_attributes",this));return Object.keys(n).forEach(a=>{let o=this,u=r;const[c,...d]=a.split(".").reverse();for(const f of d.reverse()){if(!(f in o)||o[f]===void 0)return;(!(f in u)||u[f]===void 0)&&(typeof o[f]=="object"&&o[f]!=null?u[f]={}:Array.isArray(o[f])&&(u[f]=[])),o=o[f],u=u[f]}c in o&&o[c]!==void 0&&(u[c]=u[c]||o[c])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:_2(Object.keys(n).length?y2(r,n):r,b2,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function bc(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function E2(t){return bc(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function T2(t){return bc(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function w2(t){if(bc(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function Rc(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.some(n=>bc(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?x0(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>bc(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function v2(t,e){function n(r,a){if(typeof r!="object"||r===null||r===void 0)return r;if(a>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(u=>n(u,a+1));const o={};for(const u of Object.keys(r))o[u]=n(r[u],a+1);return o}return JSON.stringify(n(t,0),null,2)}class ci extends fi{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}getType(){return this._getType()}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=v2(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}}function Ea(t,e){const n={...t};for(const[r,a]of Object.entries(e))if(n[r]==null)n[r]=a;else{if(a==null)continue;if(typeof n[r]!=typeof a||Array.isArray(n[r])!==Array.isArray(a))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;["id","name","output_version","model_provider"].includes(r)?n[r]=a:n[r]+=a}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=Ea(n[r],a);else if(Array.isArray(n[r]))n[r]=x0(n[r],a);else{if(n[r]===a)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function x0(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&r!==null&&"index"in r&&typeof r.index=="number"){const a=n.findIndex(o=>{const u=typeof o=="object",c="index"in o&&o.index===r.index,d="id"in o&&"id"in r&&o?.id===r?.id,f=!("id"in o)||!o?.id||!("id"in r)||!r?.id;return u&&c&&(d||f)});a!==-1&&typeof n[a]=="object"&&n[a]!==null?n[a]=Ea(n[a],r):n.push(r)}else{if(typeof r=="object"&&r!==null&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}class kc extends ci{}function S2(t){return typeof t.role=="string"}function ui(t){return typeof t?._getType=="function"}function A2(t){return ui(t)&&typeof t.concat=="function"}function O2(t){return t!=null&&typeof t=="object"&&"lc_direct_tool_output"in t&&t.lc_direct_tool_output===!0}class Mf extends ci{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,n,r){typeof e=="string"&&(e={content:e,name:r,tool_call_id:n}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status,this.metadata=e.metadata}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}function N2(t){const e=[],n=[];for(const r of t)if(r.function){const a=r.function.name;try{const o=JSON.parse(r.function.arguments),u={name:a||"",args:o||{},id:r.id};e.push(u)}catch{n.push({name:a,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}class Ns extends ci{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const a=r.additional_kwargs?.tool_calls,o=r.tool_calls;a!=null&&a.length>0&&(o===void 0||o.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(a!=null&&o===void 0){const[u,c]=N2(a);r.tool_calls=u??[],r.invalid_tool_calls=c??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=r.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function x2(t){return t._getType()==="ai"}function N1(t){return t._getType()==="ai"}class ho extends kc{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const r=e.tool_call_chunks.reduce((u,c)=>{const d=u.findIndex(([f])=>"id"in c&&c.id&&"index"in c&&c.index!==void 0?c.id===f.id&&c.index===f.index:"id"in c&&c.id?c.id===f.id:"index"in c&&c.index!==void 0?c.index===f.index:!1);return d!==-1?u[d].push(c):u.push([c]),u},[]),a=[],o=[];for(const u of r){let c={};const d=u[0]?.name??"",f=u.map(b=>b.args||"").join(""),p=f.length?f:"{}",m=u[0]?.id;try{if(c=IA(p),!m||c===null||typeof c!="object"||Array.isArray(c))throw new Error("Malformed tool call chunk args.");a.push({name:d,args:c,id:m,type:"tool_call"})}catch{o.push({name:d,args:p,id:m,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:a,invalid_tool_calls:o,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:Rc(this.content,e.content),additional_kwargs:Ea(this.additional_kwargs,e.additional_kwargs),response_metadata:Ea(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const r=x0(this.tool_call_chunks,e.tool_call_chunks);r!==void 0&&r.length>0&&(n.tool_call_chunks=r)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){const r={...(this.usage_metadata?.input_token_details?.audio!==void 0||e.usage_metadata?.input_token_details?.audio!==void 0)&&{audio:(this.usage_metadata?.input_token_details?.audio??0)+(e.usage_metadata?.input_token_details?.audio??0)},...(this.usage_metadata?.input_token_details?.cache_read!==void 0||e.usage_metadata?.input_token_details?.cache_read!==void 0)&&{cache_read:(this.usage_metadata?.input_token_details?.cache_read??0)+(e.usage_metadata?.input_token_details?.cache_read??0)},...(this.usage_metadata?.input_token_details?.cache_creation!==void 0||e.usage_metadata?.input_token_details?.cache_creation!==void 0)&&{cache_creation:(this.usage_metadata?.input_token_details?.cache_creation??0)+(e.usage_metadata?.input_token_details?.cache_creation??0)}},a={...(this.usage_metadata?.output_token_details?.audio!==void 0||e.usage_metadata?.output_token_details?.audio!==void 0)&&{audio:(this.usage_metadata?.output_token_details?.audio??0)+(e.usage_metadata?.output_token_details?.audio??0)},...(this.usage_metadata?.output_token_details?.reasoning!==void 0||e.usage_metadata?.output_token_details?.reasoning!==void 0)&&{reasoning:(this.usage_metadata?.output_token_details?.reasoning??0)+(e.usage_metadata?.output_token_details?.reasoning??0)}},o=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},u=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},c={input_tokens:o.input_tokens+u.input_tokens,output_tokens:o.output_tokens+u.output_tokens,total_tokens:o.total_tokens+u.total_tokens,...Object.keys(r).length>0&&{input_token_details:r},...Object.keys(a).length>0&&{output_token_details:a}};n.usage_metadata=c}return new ho(n)}}class Ic extends ci{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return Ic}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}}class C0 extends kc{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new C0({content:Rc(this.content,e.content),additional_kwargs:Ea(this.additional_kwargs,e.additional_kwargs),response_metadata:Ea(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class R0 extends kc{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new R0({content:Rc(this.content,e.content),additional_kwargs:Ea(this.additional_kwargs,e.additional_kwargs),response_metadata:Ea(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class Ms extends ci{static lc_name(){return"HumanMessage"}_getType(){return"human"}constructor(e,n){super(e,n)}}class k0 extends kc{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}constructor(e,n){super(e,n)}concat(e){return new k0({content:Rc(this.content,e.content),additional_kwargs:Ea(this.additional_kwargs,e.additional_kwargs),response_metadata:Ea(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class Ib extends ci{static lc_name(){return"SystemMessage"}_getType(){return"system"}constructor(e,n){super(e,n)}}class I0 extends kc{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}constructor(e,n){super(e,n)}concat(e){return new I0({content:Rc(this.content,e.content),additional_kwargs:Ea(this.additional_kwargs,e.additional_kwargs),response_metadata:Ea(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function oh(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function tc(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}function C2(t){return!!(t&&typeof t=="object"&&"toolCall"in t&&t.toolCall!=null&&typeof t.toolCall=="object"&&"id"in t.toolCall&&typeof t.toolCall.id=="string")}class _c extends Error{constructor(e,n){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=n}}class R2 extends ci{constructor(e){super({...e,content:""}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.id=e.id}_getType(){return"remove"}get _printableFields(){return{...super._printableFields,id:this.id}}}function k2(t){return tc(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function I2(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function Lm(t){let e,n;if(I2(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...a}=t;e=r,n=a}if(e==="human"||e==="user")return new Ms(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...a}=n;if(!Array.isArray(r))return new Ns(n);const o=r.map(k2);return new Ns({...a,tool_calls:o})}else{if(e==="system")return new Ib(n);if(e==="developer")return new Ib({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new Mf({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});if(e==="remove"&&"id"in n&&typeof n.id=="string")return new R2({...n,id:n.id});throw oh(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Es(t){if(typeof t=="string")return new Ms(t);if(ui(t))return t;if(Array.isArray(t)){const[e,n]=t;return Lm({type:e,content:n})}else if(S2(t)){const{role:e,...n}=t;return Lm({...n,type:e})}else return Lm(t)}function LA(t,e="Human",n="AI"){const r=[];for(const a of t){let o;if(a._getType()==="human")o=e;else if(a._getType()==="ai")o=n;else if(a._getType()==="system")o="System";else if(a._getType()==="function")o="Function";else if(a._getType()==="tool")o="Tool";else if(a._getType()==="generic")o=a.role;else throw new Error(`Got unsupported message type: ${a._getType()}`);const u=a.name?`${a.name}, `:"",c=typeof a.content=="string"?a.content:JSON.stringify(a.content,null,2);r.push(`${o}: ${u}${c}`)}return r.join(`
`)}function M2(t){const e=t._getType();if(e==="human")return new k0({...t});if(e==="ai"){let n={...t};return"tool_calls"in n&&(n={...n,tool_call_chunks:n.tool_calls?.map(r=>({...r,type:"tool_call_chunk",index:void 0,args:JSON.stringify(r.args)}))}),new ho({...n})}else{if(e==="system")return new I0({...t});if(e==="function")return new R0({...t});if(Ic.isInstance(t))return new C0({...t});throw new Error("Unknown message type.")}}var It;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const o={};for(const u of a)o[u]=u;return o},t.getValidEnumValues=a=>{const o=t.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),u={};for(const c of o)u[c]=a[c];return t.objectValues(u)},t.objectValues=a=>t.objectKeys(a).map(function(o){return a[o]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.push(u);return o},t.find=(a,o)=>{for(const u of a)if(o(u))return u},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,o=" | "){return a.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(It||(It={}));var x1;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(x1||(x1={}));const je=It.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bs=t=>{switch(typeof t){case"undefined":return je.undefined;case"string":return je.string;case"number":return Number.isNaN(t)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(t)?je.array:t===null?je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?je.promise:typeof Map<"u"&&t instanceof Map?je.map:typeof Set<"u"&&t instanceof Set?je.set:typeof Date<"u"&&t instanceof Date?je.date:je.object;default:return je.unknown}},Ae=It.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ui extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},a=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(a);else if(u.code==="invalid_return_type")a(u.returnTypeError);else if(u.code==="invalid_arguments")a(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let c=r,d=0;for(;d<u.path.length;){const f=u.path[d];d===u.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(n(u))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return a(this),r}static assert(e){if(!(e instanceof Ui))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,It.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];n[o]=n[o]||[],n[o].push(e(a))}else r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ui.create=t=>new Ui(t);const Mb=(t,e)=>{let n;switch(t.code){case Ae.invalid_type:t.received===je.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,It.jsonStringifyReplacer)}`;break;case Ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${It.joinValues(t.keys,", ")}`;break;case Ae.invalid_union:n="Invalid input";break;case Ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${It.joinValues(t.options)}`;break;case Ae.invalid_enum_value:n=`Invalid enum value. Expected ${It.joinValues(t.options)}, received '${t.received}'`;break;case Ae.invalid_arguments:n="Invalid function arguments";break;case Ae.invalid_return_type:n="Invalid function return type";break;case Ae.invalid_date:n="Invalid date";break;case Ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:It.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ae.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ae.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ae.custom:n="Invalid input";break;case Ae.invalid_intersection_types:n="Intersection results could not be merged";break;case Ae.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ae.not_finite:n="Number must be finite";break;default:n=e.defaultError,It.assertNever(t)}return{message:n}};let L2=Mb;function D2(){return L2}const P2=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,o=[...n,...a.path||[]],u={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let c="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)c=f(u,{data:e,defaultError:c}).message;return{...a,path:o,message:c}};function Le(t,e){const n=D2(),r=P2({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Mb?void 0:Mb].filter(a=>!!a)});t.common.issues.push(r)}class ra{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return ot;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const o=await a.key,u=await a.value;r.push({key:o,value:u})}return ra.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:o,value:u}=a;if(o.status==="aborted"||u.status==="aborted")return ot;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||a.alwaysSet)&&(r[o.value]=u.value)}return{status:e.value,value:r}}}const ot=Object.freeze({status:"aborted"}),Wl=t=>({status:"dirty",value:t}),wa=t=>({status:"valid",value:t}),C1=t=>t.status==="aborted",R1=t=>t.status==="dirty",du=t=>t.status==="valid",Lf=t=>typeof Promise<"u"&&t instanceof Promise;var Ye;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ye||(Ye={}));class xs{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const k1=(t,e)=>{if(du(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ui(t.common.issues);return this._error=n,this._error}}};function yt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(u,c)=>{const{message:d}=t;return u.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:d??n??c.defaultError}},description:a}}class xt{get description(){return this._def.description}_getType(e){return bs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ra,ctx:{common:e.parent.common,data:e.data,parsedType:bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Lf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bs(e)},a=this._parseSync({data:e,path:r.path,parent:r});return k1(r,a)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bs(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return du(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>du(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bs(e)},a=this._parse({data:e,path:r.path,parent:r}),o=await(Lf(a)?a:Promise.resolve(a));return k1(r,o)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,o)=>{const u=e(a),c=()=>o.addIssue({code:Ae.custom,...r(a)});return typeof Promise<"u"&&u instanceof Promise?u.then(d=>d?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new hu({schema:this,typeName:Ne.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return As.create(this,this._def)}nullable(){return pu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return di.create(this)}promise(){return Bf.create(this,this._def)}or(e){return Pf.create([this,e],this._def)}and(e){return Uf.create(this,e,this._def)}transform(e){return new hu({...yt(this._def),schema:this,typeName:Ne.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Pb({...yt(this._def),innerType:this,defaultValue:n,typeName:Ne.ZodDefault})}brand(){return new iI({typeName:Ne.ZodBranded,type:this,...yt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ub({...yt(this._def),innerType:this,catchValue:n,typeName:Ne.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return M0.create(this,e)}readonly(){return Bb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const U2=/^c[^\s-]{8,}$/i,B2=/^[0-9a-z]+$/,F2=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,H2=/^[a-z0-9_-]{21}$/i,z2=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,j2=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,q2=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,G2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dm;const Y2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,K2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Z2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,X2=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Q2=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",W2=new RegExp(`^${DA}$`);function PA(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function J2(t){return new RegExp(`^${PA(t)}$`)}function eI(t){let e=`${DA}T${PA(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function tI(t,e){return!!((e==="v4"||!e)&&Y2.test(t)||(e==="v6"||!e)&&K2.test(t))}function nI(t,e){if(!z2.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function rI(t,e){return!!((e==="v4"||!e)&&V2.test(t)||(e==="v6"||!e)&&Z2.test(t))}class Ts extends xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==je.string){const o=this._getOrReturnCtx(e);return Le(o,{code:Ae.invalid_type,expected:je.string,received:o.parsedType}),ot}const r=new ra;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,c=e.data.length<o.value;(u||c)&&(a=this._getOrReturnCtx(e,a),u?Le(a,{code:Ae.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&Le(a,{code:Ae.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")q2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"email",code:Ae.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Dm||(Dm=new RegExp(G2,"u")),Dm.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"emoji",code:Ae.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")$2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"uuid",code:Ae.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")H2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"nanoid",code:Ae.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")U2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"cuid",code:Ae.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")B2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"cuid2",code:Ae.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")F2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"ulid",code:Ae.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Le(a,{validation:"url",code:Ae.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"regex",code:Ae.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?eI(o).test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?W2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?J2(o).test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?j2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"duration",code:Ae.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?tI(e.data,o.version)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"ip",code:Ae.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?nI(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"jwt",code:Ae.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?rI(e.data,o.version)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"cidr",code:Ae.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?X2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"base64",code:Ae.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Q2.test(e.data)||(a=this._getOrReturnCtx(e,a),Le(a,{validation:"base64url",code:Ae.invalid_string,message:o.message}),r.dirty()):It.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:Ae.invalid_string,...Ye.errToObj(r)})}_addCheck(e){return new Ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Ye.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ye.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ye.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ye.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Ye.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ye.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ye.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ye.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ye.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ye.errToObj(n)})}nonempty(e){return this.min(1,Ye.errToObj(e))}trim(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ts.create=t=>new Ts({checks:[],typeName:Ne.ZodString,coerce:t?.coerce??!1,...yt(t)});function aI(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,o=Number.parseInt(t.toFixed(a).replace(".","")),u=Number.parseInt(e.toFixed(a).replace(".",""));return o%u/10**a}class yc extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==je.number){const o=this._getOrReturnCtx(e);return Le(o,{code:Ae.invalid_type,expected:je.number,received:o.parsedType}),ot}let r;const a=new ra;for(const o of this._def.checks)o.kind==="int"?It.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Le(r,{code:Ae.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Ae.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Ae.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?aI(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Ae.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Le(r,{code:Ae.not_finite,message:o.message}),a.dirty()):It.assertNever(o);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ye.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ye.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ye.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ye.toString(n))}setLimit(e,n,r,a){return new yc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ye.toString(a)}]})}_addCheck(e){return new yc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ye.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ye.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ye.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&It.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}yc.create=t=>new yc({checks:[],typeName:Ne.ZodNumber,coerce:t?.coerce||!1,...yt(t)});class Ec extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==je.bigint)return this._getInvalidInput(e);let r;const a=new ra;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Ae.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Ae.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Ae.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):It.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Le(n,{code:Ae.invalid_type,expected:je.bigint,received:n.parsedType}),ot}gte(e,n){return this.setLimit("min",e,!0,Ye.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ye.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ye.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ye.toString(n))}setLimit(e,n,r,a){return new Ec({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ye.toString(a)}]})}_addCheck(e){return new Ec({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ye.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ye.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ec.create=t=>new Ec({checks:[],typeName:Ne.ZodBigInt,coerce:t?.coerce??!1,...yt(t)});class I1 extends xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==je.boolean){const r=this._getOrReturnCtx(e);return Le(r,{code:Ae.invalid_type,expected:je.boolean,received:r.parsedType}),ot}return wa(e.data)}}I1.create=t=>new I1({typeName:Ne.ZodBoolean,coerce:t?.coerce||!1,...yt(t)});class Df extends xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==je.date){const o=this._getOrReturnCtx(e);return Le(o,{code:Ae.invalid_type,expected:je.date,received:o.parsedType}),ot}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Le(o,{code:Ae.invalid_date}),ot}const r=new ra;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),Le(a,{code:Ae.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):It.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Df({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ye.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ye.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Df.create=t=>new Df({checks:[],coerce:t?.coerce||!1,typeName:Ne.ZodDate,...yt(t)});class M1 extends xt{_parse(e){if(this._getType(e)!==je.symbol){const r=this._getOrReturnCtx(e);return Le(r,{code:Ae.invalid_type,expected:je.symbol,received:r.parsedType}),ot}return wa(e.data)}}M1.create=t=>new M1({typeName:Ne.ZodSymbol,...yt(t)});class L1 extends xt{_parse(e){if(this._getType(e)!==je.undefined){const r=this._getOrReturnCtx(e);return Le(r,{code:Ae.invalid_type,expected:je.undefined,received:r.parsedType}),ot}return wa(e.data)}}L1.create=t=>new L1({typeName:Ne.ZodUndefined,...yt(t)});class D1 extends xt{_parse(e){if(this._getType(e)!==je.null){const r=this._getOrReturnCtx(e);return Le(r,{code:Ae.invalid_type,expected:je.null,received:r.parsedType}),ot}return wa(e.data)}}D1.create=t=>new D1({typeName:Ne.ZodNull,...yt(t)});class Lb extends xt{constructor(){super(...arguments),this._any=!0}_parse(e){return wa(e.data)}}Lb.create=t=>new Lb({typeName:Ne.ZodAny,...yt(t)});class P1 extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return wa(e.data)}}P1.create=t=>new P1({typeName:Ne.ZodUnknown,...yt(t)});class Cs extends xt{_parse(e){const n=this._getOrReturnCtx(e);return Le(n,{code:Ae.invalid_type,expected:je.never,received:n.parsedType}),ot}}Cs.create=t=>new Cs({typeName:Ne.ZodNever,...yt(t)});class U1 extends xt{_parse(e){if(this._getType(e)!==je.undefined){const r=this._getOrReturnCtx(e);return Le(r,{code:Ae.invalid_type,expected:je.void,received:r.parsedType}),ot}return wa(e.data)}}U1.create=t=>new U1({typeName:Ne.ZodVoid,...yt(t)});class di extends xt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==je.array)return Le(n,{code:Ae.invalid_type,expected:je.array,received:n.parsedType}),ot;if(a.exactLength!==null){const u=n.data.length>a.exactLength.value,c=n.data.length<a.exactLength.value;(u||c)&&(Le(n,{code:u?Ae.too_big:Ae.too_small,minimum:c?a.exactLength.value:void 0,maximum:u?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Le(n,{code:Ae.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Le(n,{code:Ae.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,c)=>a.type._parseAsync(new xs(n,u,n.path,c)))).then(u=>ra.mergeArray(r,u));const o=[...n.data].map((u,c)=>a.type._parseSync(new xs(n,u,n.path,c)));return ra.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new di({...this._def,minLength:{value:e,message:Ye.toString(n)}})}max(e,n){return new di({...this._def,maxLength:{value:e,message:Ye.toString(n)}})}length(e,n){return new di({...this._def,exactLength:{value:e,message:Ye.toString(n)}})}nonempty(e){return this.min(1,e)}}di.create=(t,e)=>new di({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ne.ZodArray,...yt(e)});function Jo(t){if(t instanceof Mn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=As.create(Jo(r))}return new Mn({...t._def,shape:()=>e})}else return t instanceof di?new di({...t._def,type:Jo(t.element)}):t instanceof As?As.create(Jo(t.unwrap())):t instanceof pu?pu.create(Jo(t.unwrap())):t instanceof lo?lo.create(t.items.map(e=>Jo(e))):t}class Mn extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=It.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==je.object){const f=this._getOrReturnCtx(e);return Le(f,{code:Ae.invalid_type,expected:je.object,received:f.parsedType}),ot}const{status:r,ctx:a}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof Cs&&this._def.unknownKeys==="strip"))for(const f in a.data)u.includes(f)||c.push(f);const d=[];for(const f of u){const p=o[f],m=a.data[f];d.push({key:{status:"valid",value:f},value:p._parse(new xs(a,m,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof Cs){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of c)d.push({key:{status:"valid",value:p},value:{status:"valid",value:a.data[p]}});else if(f==="strict")c.length>0&&(Le(a,{code:Ae.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of c){const m=a.data[p];d.push({key:{status:"valid",value:p},value:f._parse(new xs(a,m,a.path,p)),alwaysSet:p in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of d){const m=await p.key,b=await p.value;f.push({key:m,value:b,alwaysSet:p.alwaysSet})}return f}).then(f=>ra.mergeObjectSync(r,f)):ra.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Ye.errToObj,new Mn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const a=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:Ye.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Mn({...this._def,unknownKeys:"strip"})}passthrough(){return new Mn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ne.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Mn({...this._def,catchall:e})}pick(e){const n={};for(const r of It.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Mn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of It.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Mn({...this._def,shape:()=>n})}deepPartial(){return Jo(this)}partial(e){const n={};for(const r of It.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}return new Mn({...this._def,shape:()=>n})}required(e){const n={};for(const r of It.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof As;)o=o._def.innerType;n[r]=o}return new Mn({...this._def,shape:()=>n})}keyof(){return UA(It.objectKeys(this.shape))}}Mn.create=(t,e)=>new Mn({shape:()=>t,unknownKeys:"strip",catchall:Cs.create(),typeName:Ne.ZodObject,...yt(e)});Mn.strictCreate=(t,e)=>new Mn({shape:()=>t,unknownKeys:"strict",catchall:Cs.create(),typeName:Ne.ZodObject,...yt(e)});Mn.lazycreate=(t,e)=>new Mn({shape:t,unknownKeys:"strip",catchall:Cs.create(),typeName:Ne.ZodObject,...yt(e)});class Pf extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const u=o.map(c=>new Ui(c.ctx.common.issues));return Le(n,{code:Ae.invalid_union,unionErrors:u}),ot}if(n.common.async)return Promise.all(r.map(async o=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(a);{let o;const u=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},p=d._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!o&&(o={result:p,ctx:f}),f.common.issues.length&&u.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=u.map(d=>new Ui(d));return Le(n,{code:Ae.invalid_union,unionErrors:c}),ot}}get options(){return this._def.options}}Pf.create=(t,e)=>new Pf({options:t,typeName:Ne.ZodUnion,...yt(e)});function Db(t,e){const n=bs(t),r=bs(e);if(t===e)return{valid:!0,data:t};if(n===je.object&&r===je.object){const a=It.objectKeys(e),o=It.objectKeys(t).filter(c=>a.indexOf(c)!==-1),u={...t,...e};for(const c of o){const d=Db(t[c],e[c]);if(!d.valid)return{valid:!1};u[c]=d.data}return{valid:!0,data:u}}else if(n===je.array&&r===je.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<t.length;o++){const u=t[o],c=e[o],d=Db(u,c);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return n===je.date&&r===je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Uf extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(o,u)=>{if(C1(o)||C1(u))return ot;const c=Db(o.value,u.value);return c.valid?((R1(o)||R1(u))&&n.dirty(),{status:n.value,value:c.data}):(Le(r,{code:Ae.invalid_intersection_types}),ot)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>a(o,u)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Uf.create=(t,e,n)=>new Uf({left:t,right:e,typeName:Ne.ZodIntersection,...yt(n)});class lo extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.array)return Le(r,{code:Ae.invalid_type,expected:je.array,received:r.parsedType}),ot;if(r.data.length<this._def.items.length)return Le(r,{code:Ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ot;!this._def.rest&&r.data.length>this._def.items.length&&(Le(r,{code:Ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((u,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new xs(r,u,r.path,c)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>ra.mergeArray(n,u)):ra.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new lo({...this._def,rest:e})}}lo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lo({items:t,typeName:Ne.ZodTuple,rest:null,...yt(e)})};class B1 extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.map)return Le(r,{code:Ae.invalid_type,expected:je.map,received:r.parsedType}),ot;const a=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([c,d],f)=>({key:a._parse(new xs(r,c,r.path,[f,"key"])),value:o._parse(new xs(r,d,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of u){const f=await d.key,p=await d.value;if(f.status==="aborted"||p.status==="aborted")return ot;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(f.value,p.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of u){const f=d.key,p=d.value;if(f.status==="aborted"||p.status==="aborted")return ot;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(f.value,p.value)}return{status:n.value,value:c}}}}B1.create=(t,e,n)=>new B1({valueType:e,keyType:t,typeName:Ne.ZodMap,...yt(n)});class Tc extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.set)return Le(r,{code:Ae.invalid_type,expected:je.set,received:r.parsedType}),ot;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Le(r,{code:Ae.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Le(r,{code:Ae.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const o=this._def.valueType;function u(d){const f=new Set;for(const p of d){if(p.status==="aborted")return ot;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const c=[...r.data.values()].map((d,f)=>o._parse(new xs(r,d,r.path,f)));return r.common.async?Promise.all(c).then(d=>u(d)):u(c)}min(e,n){return new Tc({...this._def,minSize:{value:e,message:Ye.toString(n)}})}max(e,n){return new Tc({...this._def,maxSize:{value:e,message:Ye.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Tc.create=(t,e)=>new Tc({valueType:t,minSize:null,maxSize:null,typeName:Ne.ZodSet,...yt(e)});class F1 extends xt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}F1.create=(t,e)=>new F1({getter:t,typeName:Ne.ZodLazy,...yt(e)});class $1 extends xt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Le(n,{received:n.data,code:Ae.invalid_literal,expected:this._def.value}),ot}return{status:"valid",value:e.data}}get value(){return this._def.value}}$1.create=(t,e)=>new $1({value:t,typeName:Ne.ZodLiteral,...yt(e)});function UA(t,e){return new fu({values:t,typeName:Ne.ZodEnum,...yt(e)})}class fu extends xt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Le(n,{expected:It.joinValues(r),received:n.parsedType,code:Ae.invalid_type}),ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Le(n,{received:n.data,code:Ae.invalid_enum_value,options:r}),ot}return wa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return fu.create(e,{...this._def,...n})}exclude(e,n=this._def){return fu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}fu.create=UA;class H1 extends xt{_parse(e){const n=It.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==je.string&&r.parsedType!==je.number){const a=It.objectValues(n);return Le(r,{expected:It.joinValues(a),received:r.parsedType,code:Ae.invalid_type}),ot}if(this._cache||(this._cache=new Set(It.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=It.objectValues(n);return Le(r,{received:r.data,code:Ae.invalid_enum_value,options:a}),ot}return wa(e.data)}get enum(){return this._def.values}}H1.create=(t,e)=>new H1({values:t,typeName:Ne.ZodNativeEnum,...yt(e)});class Bf extends xt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==je.promise&&n.common.async===!1)return Le(n,{code:Ae.invalid_type,expected:je.promise,received:n.parsedType}),ot;const r=n.parsedType===je.promise?n.data:Promise.resolve(n.data);return wa(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Bf.create=(t,e)=>new Bf({type:t,typeName:Ne.ZodPromise,...yt(e)});class hu extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:u=>{Le(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const u=a.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async c=>{if(n.value==="aborted")return ot;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?ot:d.status==="dirty"||n.value==="dirty"?Wl(d.value):d});{if(n.value==="aborted")return ot;const c=this._def.schema._parseSync({data:u,path:r.path,parent:r});return c.status==="aborted"?ot:c.status==="dirty"||n.value==="dirty"?Wl(c.value):c}}if(a.type==="refinement"){const u=c=>{const d=a.refinement(c,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?ot:(c.status==="dirty"&&n.dirty(),u(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?ot:(c.status==="dirty"&&n.dirty(),u(c.value).then(()=>({status:n.value,value:c.value}))))}if(a.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!du(u))return ot;const c=a.transform(u.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>du(u)?Promise.resolve(a.transform(u.value,o)).then(c=>({status:n.value,value:c})):ot);It.assertNever(a)}}hu.create=(t,e,n)=>new hu({schema:t,typeName:Ne.ZodEffects,effect:e,...yt(n)});hu.createWithPreprocess=(t,e,n)=>new hu({schema:e,effect:{type:"preprocess",transform:t},typeName:Ne.ZodEffects,...yt(n)});class As extends xt{_parse(e){return this._getType(e)===je.undefined?wa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}As.create=(t,e)=>new As({innerType:t,typeName:Ne.ZodOptional,...yt(e)});class pu extends xt{_parse(e){return this._getType(e)===je.null?wa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pu.create=(t,e)=>new pu({innerType:t,typeName:Ne.ZodNullable,...yt(e)});class Pb extends xt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===je.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Pb.create=(t,e)=>new Pb({innerType:t,typeName:Ne.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...yt(e)});class Ub extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Lf(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ui(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ui(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ub.create=(t,e)=>new Ub({innerType:t,typeName:Ne.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...yt(e)});class z1 extends xt{_parse(e){if(this._getType(e)!==je.nan){const r=this._getOrReturnCtx(e);return Le(r,{code:Ae.invalid_type,expected:je.nan,received:r.parsedType}),ot}return{status:"valid",value:e.data}}}z1.create=t=>new z1({typeName:Ne.ZodNaN,...yt(t)});class iI extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class M0 extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ot:o.status==="dirty"?(n.dirty(),Wl(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ot:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new M0({in:e,out:n,typeName:Ne.ZodPipeline})}}class Bb extends xt{_parse(e){const n=this._def.innerType._parse(e),r=a=>(du(a)&&(a.value=Object.freeze(a.value)),a);return Lf(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}Bb.create=(t,e)=>new Bb({innerType:t,typeName:Ne.ZodReadonly,...yt(e)});var Ne;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ne||(Ne={}));const L0=Ts.create,j1=Lb.create;Cs.create;di.create;const D0=Mn.create;Pf.create;Uf.create;lo.create;fu.create;Bf.create;As.create;pu.create;var Dl={exports:{}},Pm={},Um,q1;function sI(){if(q1)return Um;q1=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Um=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,a=0;a<this._errors.length;a++){var o=this._errors[a],u=o.message,c=(e[u]||0)+1;e[u]=c,c>=r&&(n=o,r=c)}return n},Um}var G1;function oI(){return G1||(G1=1,(function(t){var e=sI();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in n)r[a]=n[a];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],u=0;u<r.retries;u++)o.push(this.createTimeout(u,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(u,r)),o.sort(function(c,d){return c-d}),o},t.createTimeout=function(n,r){var a=r.randomize?Math.random()+1:1,o=Math.round(a*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},t.wrap=function(n,r,a){if(r instanceof Array&&(a=r,r=null),!a){a=[];for(var o in n)typeof n[o]=="function"&&a.push(o)}for(var u=0;u<a.length;u++){var c=a[u],d=n[c];n[c]=(function(p){var m=t.operation(r),b=Array.prototype.slice.call(arguments,1),E=b.pop();b.push(function(T){m.retry(T)||(T&&(arguments[0]=m.mainError()),E.apply(this,arguments))}),m.attempt(function(){p.apply(n,b)})}).bind(n,d),n[c].options=r}}})(Pm)),Pm}var Bm,Y1;function uI(){return Y1||(Y1=1,Bm=oI()),Bm}var V1;function lI(){if(V1)return Dl.exports;V1=1;const t=uI(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(c){super(),c instanceof Error?(this.originalError=c,{message:c}=c):(this.originalError=new Error(c),this.originalError.stack=this.stack),this.name="AbortError",this.message=c}}const r=(u,c,d)=>{const f=d.retries-(c-1);return u.attemptNumber=c,u.retriesLeft=f,u},a=u=>e.includes(u),o=(u,c)=>new Promise((d,f)=>{c={onFailedAttempt:()=>{},retries:10,...c};const p=t.operation(c);p.attempt(async m=>{try{d(await u(m))}catch(b){if(!(b instanceof Error)){f(new TypeError(`Non-error was thrown: "${b}". You should only throw errors.`));return}if(b instanceof n)p.stop(),f(b.originalError);else if(b instanceof TypeError&&!a(b.message))p.stop(),f(b);else{r(b,m,c);try{await c.onFailedAttempt(b)}catch(E){f(E);return}p.retry(b)||f(p.mainError())}}})});return Dl.exports=o,Dl.exports.default=o,Dl.exports.AbortError=n,Dl.exports}var cI=lI();const Ff=Is(cI),dI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function nc(t){return typeof t=="string"&&dI.test(t)}function fI(t){if(!nc(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var rr=[];for(var Fm=0;Fm<256;++Fm)rr.push((Fm+256).toString(16).slice(1));function BA(t,e=0){return(rr[t[e+0]]+rr[t[e+1]]+rr[t[e+2]]+rr[t[e+3]]+"-"+rr[t[e+4]]+rr[t[e+5]]+"-"+rr[t[e+6]]+rr[t[e+7]]+"-"+rr[t[e+8]]+rr[t[e+9]]+"-"+rr[t[e+10]]+rr[t[e+11]]+rr[t[e+12]]+rr[t[e+13]]+rr[t[e+14]]+rr[t[e+15]]).toLowerCase()}var rf,hI=new Uint8Array(16);function pI(){if(!rf&&(rf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rf(hI)}function mI(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var gI="6ba7b810-9dad-11d1-80b4-00c04fd430c8",bI="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function _I(t,e,n){function r(a,o,u,c){var d;if(typeof a=="string"&&(a=mI(a)),typeof o=="string"&&(o=fI(o)),((d=o)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+a.length);if(f.set(o),f.set(a,o.length),f=n(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,u){c=c||0;for(var p=0;p<16;++p)u[c+p]=f[p];return u}return BA(f)}try{r.name=t}catch{}return r.DNS=gI,r.URL=bI,r}var yI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const K1={randomUUID:yI};function hr(t,e,n){if(K1.randomUUID&&!t)return K1.randomUUID();t=t||{};var r=t.random||(t.rng||pI)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,BA(r)}function EI(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function $m(t,e){return t<<e|t>>>32-e}function TI(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var a=0;a<r.length;++a)t.push(r.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,u=Math.ceil(o/16),c=new Array(u),d=0;d<u;++d){for(var f=new Uint32Array(16),p=0;p<16;++p)f[p]=t[d*64+p*4]<<24|t[d*64+p*4+1]<<16|t[d*64+p*4+2]<<8|t[d*64+p*4+3];c[d]=f}c[u-1][14]=(t.length-1)*8/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=(t.length-1)*8&4294967295;for(var m=0;m<u;++m){for(var b=new Uint32Array(80),E=0;E<16;++E)b[E]=c[m][E];for(var T=16;T<80;++T)b[T]=$m(b[T-3]^b[T-8]^b[T-14]^b[T-16],1);for(var w=n[0],A=n[1],O=n[2],k=n[3],C=n[4],$=0;$<80;++$){var P=Math.floor($/20),M=$m(w,5)+EI(P,A,O,k)+C+e[P]+b[$]>>>0;C=k,k=O,O=$m(A,30)>>>0,A=w,w=M}n[0]=n[0]+w>>>0,n[1]=n[1]+A>>>0,n[2]=n[2]+O>>>0,n[3]=n[3]+k>>>0,n[4]=n[4]+C>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Z1=_I("v5",80,TI);let wI=class{getStore(){}run(e,n){return n()}};const Hm=Symbol.for("ls:tracing_async_local_storage"),vI=new wI;let SI=class{getInstance(){return globalThis[Hm]??vI}initializeGlobalInstance(e){globalThis[Hm]===void 0&&(globalThis[Hm]=e)}};const AI=new SI;function OI(t=!1){const e=AI.getInstance().getStore();if(!t&&e===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function P0(t){return typeof t=="function"&&"langsmith:traceable"in t}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const NI=Object.prototype.hasOwnProperty;function Fb(t,e){return NI.call(t,e)}function $b(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)Fb(t,n)&&e.push(n);return e}function li(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function Hb(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Zo(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function xI(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function zb(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(zb(t[n]))return!0}else if(typeof t=="object"){const n=$b(t),r=n.length;for(var e=0;e<r;e++)if(zb(t[n[e]]))return!0}}return!1}function X1(t,e){const n=[t];for(const r in e){const a=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof a<"u"&&n.push(`${r}: ${a}`)}return n.join(`
`)}class CI extends Error{constructor(e,n,r,a,o){super(X1(e,{name:n,index:r,operation:a,tree:o})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.setPrototypeOf(this,new.target.prototype),this.message=X1(e,{name:n,index:r,operation:a,tree:o})}}const Ln=CI,ru={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=jb(n,this.path);r&&(r=li(r));const a=rc(n,{op:"remove",path:this.from}).removed;return rc(n,{op:"add",path:this.path,value:a}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=jb(n,this.from);return rc(n,{op:"add",path:this.path,value:li(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:Hf(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var RI={add:function(t,e,n){return Hb(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:ru.move,copy:ru.copy,test:ru.test,_get:ru._get};function jb(t,e){if(e=="")return t;var n={op:"_get",path:e};return rc(t,n),n.value}function rc(t,e,n=!1,r=!0,a=!0,o=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):qb(e,0)),e.path===""){let u={newDocument:t};if(e.op==="add")return u.newDocument=e.value,u;if(e.op==="replace")return u.newDocument=e.value,u.removed=t,u;if(e.op==="move"||e.op==="copy")return u.newDocument=jb(t,e.from),e.op==="move"&&(u.removed=t),u;if(e.op==="test"){if(u.test=Hf(t,e.value),u.test===!1)throw new Ln("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return u.newDocument=t,u}else{if(e.op==="remove")return u.removed=t,u.newDocument=null,u;if(e.op==="_get")return e.value=t,u;if(n)throw new Ln("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,t);return u}}else{r||(t=li(t));const c=(e.path||"").split("/");let d=t,f=1,p=c.length,m,b,E;for(typeof n=="function"?E=n:E=qb;;){if(b=c[f],b&&b.indexOf("~")!=-1&&(b=xI(b)),a&&(b=="__proto__"||b=="prototype"&&f>0&&c[f-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&m===void 0&&(d[b]===void 0?m=c.slice(0,f).join("/"):f==p-1&&(m=e.path),m!==void 0&&E(e,0,t,m)),f++,Array.isArray(d)){if(b==="-")b=d.length;else{if(n&&!Hb(b))throw new Ln("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,t);Hb(b)&&(b=~~b)}if(f>=p){if(n&&e.op==="add"&&b>d.length)throw new Ln("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,t);const T=RI[e.op].call(e,d,b,t);if(T.test===!1)throw new Ln("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return T}}else if(f>=p){const T=ru[e.op].call(e,d,b,t);if(T.test===!1)throw new Ln("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return T}if(d=d[b],n&&f<p&&(!d||typeof d!="object"))throw new Ln("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,t)}}}function $f(t,e,n,r=!0,a=!0){if(n&&!Array.isArray(e))throw new Ln("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=li(t));const o=new Array(e.length);for(let u=0,c=e.length;u<c;u++)o[u]=rc(t,e[u],n,!0,a,u),t=o[u].newDocument;return o.newDocument=t,o}function qb(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new Ln("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(ru[t.op]){if(typeof t.path!="string")throw new Ln("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new Ln('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new Ln("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new Ln("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&zb(t.value))throw new Ln("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var a=t.path.split("/").length,o=r.split("/").length;if(a!==o+1&&a!==o)throw new Ln("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new Ln("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var u={op:"_get",path:t.from,value:void 0},c=kI([u],n);if(c&&c.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ln("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new Ln("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function kI(t,e,n){try{if(!Array.isArray(t))throw new Ln("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)$f(li(e),li(t),n||!0);else{n=n||qb;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(a){if(a instanceof Ln)return a;throw a}}function Hf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),a,o,u;if(n&&r){if(o=t.length,o!=e.length)return!1;for(a=o;a--!==0;)if(!Hf(t[a],e[a]))return!1;return!0}if(n!=r)return!1;var c=Object.keys(t);if(o=c.length,o!==Object.keys(e).length)return!1;for(a=o;a--!==0;)if(!e.hasOwnProperty(c[a]))return!1;for(a=o;a--!==0;)if(u=c[a],!Hf(t[u],e[u]))return!1;return!0}return t!==t&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function FA(t,e,n,r,a){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=$b(e),u=$b(t),c=!1,d=u.length-1;d>=0;d--){var f=u[d],p=t[f];if(Fb(e,f)&&!(e[f]===void 0&&p!==void 0&&Array.isArray(e)===!1)){var m=e[f];typeof p=="object"&&p!=null&&typeof m=="object"&&m!=null&&Array.isArray(p)===Array.isArray(m)?FA(p,m,n,r+"/"+Zo(f),a):p!==m&&(a&&n.push({op:"test",path:r+"/"+Zo(f),value:li(p)}),n.push({op:"replace",path:r+"/"+Zo(f),value:li(m)}))}else Array.isArray(t)===Array.isArray(e)?(a&&n.push({op:"test",path:r+"/"+Zo(f),value:li(p)}),n.push({op:"remove",path:r+"/"+Zo(f)}),c=!0):(a&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!c&&o.length==u.length))for(var d=0;d<o.length;d++){var f=o[d];!Fb(t,f)&&e[f]!==void 0&&n.push({op:"add",path:r+"/"+Zo(f),value:li(e[f])})}}}function II(t,e,n=!1){var r=[];return FA(t,e,r,"",n),r}const MI="gen_ai.operation.name",LI="gen_ai.system",Q1="gen_ai.request.model",DI="gen_ai.response.model",W1="gen_ai.usage.input_tokens",J1="gen_ai.usage.output_tokens",ew="gen_ai.usage.total_tokens",PI="gen_ai.request.max_tokens",UI="gen_ai.request.temperature",BI="gen_ai.request.top_p",FI="gen_ai.request.frequency_penalty",$I="gen_ai.request.presence_penalty",HI="gen_ai.response.finish_reasons",zI="gen_ai.prompt",jI="gen_ai.completion",qI="gen_ai.request.extra_query",GI="gen_ai.request.extra_body",YI="gen_ai.serialized.name",VI="gen_ai.serialized.signature",KI="gen_ai.serialized.doc",ZI="gen_ai.response.id",XI="gen_ai.response.service_tier",QI="gen_ai.response.system_fingerprint",WI="gen_ai.usage.input_token_details",JI="gen_ai.usage.output_token_details",eM="langsmith.trace.session_id",tM="langsmith.trace.session_name",nM="langsmith.span.kind",rM="langsmith.trace.name",aM="langsmith.metadata",tw="langsmith.span.tags",iM="langsmith.request.streaming",sM="langsmith.request.headers",oM=(...t)=>fetch(...t),$A=Symbol.for("ls:fetch_implementation"),uM=()=>{const t=globalThis[$A];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},lM=t=>async(...e)=>{if(t||$r("DEBUG")==="true"){const[r,a]=e;console.log(` ${a?.method||"GET"} ${r}`)}const n=await(globalThis[$A]??oM)(...e);return(t||$r("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},HA=()=>$r("PROJECT")??hi("LANGCHAIN_SESSION")??"default",zA="0.3.69";var Gb={};let ri;const cM=()=>typeof window<"u"&&typeof window.document<"u",dM=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",fM=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),jA=()=>typeof Deno<"u",hM=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!jA(),qA=()=>ri||(typeof Bun<"u"?ri="bun":cM()?ri="browser":hM()?ri="node":dM()?ri="webworker":fM()?ri="jsdom":jA()?ri="deno":ri="other",ri);let zm;function GA(){if(zm===void 0){const t=qA(),e=gM();zm={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:zA,...e}}return zm}function pM(){const t=mM()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,a]of Object.entries(t))(r.startsWith("LANGCHAIN_")||r.startsWith("LANGSMITH_"))&&typeof a=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=a:e[r]=a);return e}function mM(){try{return typeof process<"u"&&Gb?Object.entries(Gb).reduce((t,[e,n])=>(t[e]=String(n),t),{}):void 0}catch{return}}function hi(t){try{return typeof process<"u"?Gb?.[t]:void 0}catch{return}}function $r(t){return hi(`LANGSMITH_${t}`)||hi(`LANGCHAIN_${t}`)}let jm;function gM(){if(jm!==void 0)return jm;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=hi(n);r!==void 0&&(e[n]=r)}return jm=e,e}function YA(){return hi("OTEL_ENABLED")==="true"||$r("OTEL_ENABLED")==="true"}class bM{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(e,...n){!this.hasWarned&&YA()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let r;if(n.length===1&&typeof n[0]=="function"?r=n[0]:n.length===2&&typeof n[1]=="function"?r=n[1]:n.length===3&&typeof n[2]=="function"&&(r=n[2]),typeof r=="function")return r()}}class _M{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new bM})}getTracer(e,n){return this.mockTracer}getActiveSpan(){}setSpan(e,n){return e}getSpan(e){}setSpanContext(e,n){return e}getTracerProvider(){}setGlobalTracerProvider(e){return!1}}class yM{active(){return{}}with(e,n){return n()}}const qm=Symbol.for("ls:otel_trace"),Gm=Symbol.for("ls:otel_context"),nw=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),EM=new _M,TM=new yM;class wM{getTraceInstance(){return globalThis[qm]??EM}getContextInstance(){return globalThis[Gm]??TM}initializeGlobalInstances(e){globalThis[qm]===void 0&&(globalThis[qm]=e.trace),globalThis[Gm]===void 0&&(globalThis[Gm]=e.context)}setDefaultOTLPTracerComponents(e){globalThis[nw]=e}getDefaultOTLPTracerComponents(){return globalThis[nw]??void 0}}const U0=new wM;function VA(){return U0.getTraceInstance()}function vM(){return U0.getContextInstance()}function SM(){return U0.getDefaultOTLPTracerComponents()}const AM={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function OM(t){return AM[t]||t}class NM{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(e,n){for(const r of e)try{if(!r.run)continue;if(r.operation==="post"){const a=this.createSpanForRun(r,r.run,n.get(r.id));a&&!r.run.end_time&&this.spans.set(r.id,a)}else this.updateSpanForRun(r,r.run)}catch(a){console.error(`Error processing operation ${r.id}:`,a)}}createSpanForRun(e,n,r){const a=r&&VA().getSpan(r);if(a)try{return this.finishSpanSetup(a,n,e)}catch(o){console.error(`Failed to create span for run ${e.id}:`,o);return}}finishSpanSetup(e,n,r){return this.setSpanAttributes(e,n,r),n.error?(e.setStatus({code:2}),e.recordException(new Error(n.error))):e.setStatus({code:1}),n.end_time&&e.end(new Date(n.end_time)),e}updateSpanForRun(e,n){try{const r=this.spans.get(e.id);if(!r){console.debug(`No span found for run ${e.id} during update`);return}this.setSpanAttributes(r,n,e),n.error?(r.setStatus({code:2}),r.recordException(new Error(n.error))):r.setStatus({code:1});const a=n.end_time;a&&(r.end(new Date(a)),this.spans.delete(e.id))}catch(r){console.error(`Failed to update span for run ${e.id}:`,r)}}extractModelName(e){if(e.extra?.metadata){const n=e.extra.metadata;if(n.ls_model_name)return n.ls_model_name;if(n.invocation_params){const r=n.invocation_params;if(r.model)return r.model;if(r.model_name)return r.model_name}}}setSpanAttributes(e,n,r){if("run_type"in n&&n.run_type){e.setAttribute(nM,n.run_type);const c=OM(n.run_type||"chain");e.setAttribute(MI,c)}"name"in n&&n.name&&e.setAttribute(rM,n.name),"session_id"in n&&n.session_id&&e.setAttribute(eM,n.session_id),"session_name"in n&&n.session_name&&e.setAttribute(tM,n.session_name),this.setGenAiSystem(e,n);const a=this.extractModelName(n);a&&e.setAttribute(Q1,a),"prompt_tokens"in n&&typeof n.prompt_tokens=="number"&&e.setAttribute(W1,n.prompt_tokens),"completion_tokens"in n&&typeof n.completion_tokens=="number"&&e.setAttribute(J1,n.completion_tokens),"total_tokens"in n&&typeof n.total_tokens=="number"&&e.setAttribute(ew,n.total_tokens),this.setInvocationParameters(e,n);const o=n.extra?.metadata||{};for(const[c,d]of Object.entries(o))d!=null&&e.setAttribute(`${aM}.${c}`,String(d));const u=n.tags;if(u&&Array.isArray(u)?e.setAttribute(tw,u.join(", ")):u&&e.setAttribute(tw,String(u)),"serialized"in n&&typeof n.serialized=="object"){const c=n.serialized;c.name&&e.setAttribute(YI,String(c.name)),c.signature&&e.setAttribute(VI,String(c.signature)),c.doc&&e.setAttribute(KI,String(c.doc))}this.setIOAttributes(e,r)}setGenAiSystem(e,n){let r="langchain";const a=this.extractModelName(n);if(a){const o=a.toLowerCase();o.includes("anthropic")||o.startsWith("claude")?r="anthropic":o.includes("bedrock")?r="aws.bedrock":o.includes("azure")&&o.includes("openai")?r="az.ai.openai":o.includes("azure")&&o.includes("inference")?r="az.ai.inference":o.includes("cohere")?r="cohere":o.includes("deepseek")?r="deepseek":o.includes("gemini")?r="gemini":o.includes("groq")?r="groq":o.includes("watson")||o.includes("ibm")?r="ibm.watsonx.ai":o.includes("mistral")?r="mistral_ai":o.includes("gpt")||o.includes("openai")?r="openai":o.includes("perplexity")||o.includes("sonar")?r="perplexity":o.includes("vertex")?r="vertex_ai":(o.includes("xai")||o.includes("grok"))&&(r="xai")}e.setAttribute(LI,r)}setInvocationParameters(e,n){if(!n.extra?.metadata?.invocation_params)return;const r=n.extra.metadata.invocation_params;r.max_tokens!==void 0&&e.setAttribute(PI,r.max_tokens),r.temperature!==void 0&&e.setAttribute(UI,r.temperature),r.top_p!==void 0&&e.setAttribute(BI,r.top_p),r.frequency_penalty!==void 0&&e.setAttribute(FI,r.frequency_penalty),r.presence_penalty!==void 0&&e.setAttribute($I,r.presence_penalty)}setIOAttributes(e,n){if(n.run.inputs)try{const r=n.run.inputs;typeof r=="object"&&r!==null&&(r.model&&Array.isArray(r.messages)&&e.setAttribute(Q1,r.model),r.stream!==void 0&&e.setAttribute(iM,r.stream),r.extra_headers&&e.setAttribute(sM,JSON.stringify(r.extra_headers)),r.extra_query&&e.setAttribute(qI,JSON.stringify(r.extra_query)),r.extra_body&&e.setAttribute(GI,JSON.stringify(r.extra_body))),e.setAttribute(zI,JSON.stringify(r))}catch(r){console.debug(`Failed to process inputs for run ${n.id}`,r)}if(n.run.outputs)try{const r=n.run.outputs,a=this.getUnifiedRunTokens(r);if(a&&(e.setAttribute(W1,a[0]),e.setAttribute(J1,a[1]),e.setAttribute(ew,a[0]+a[1])),r&&typeof r=="object"){if(r.model&&e.setAttribute(DI,String(r.model)),r.id&&e.setAttribute(ZI,r.id),r.choices&&Array.isArray(r.choices)){const o=r.choices.map(u=>u.finish_reason).filter(u=>u).map(String);o.length>0&&e.setAttribute(HI,o.join(", "))}if(r.service_tier&&e.setAttribute(XI,r.service_tier),r.system_fingerprint&&e.setAttribute(QI,r.system_fingerprint),r.usage_metadata&&typeof r.usage_metadata=="object"){const o=r.usage_metadata;o.input_token_details&&e.setAttribute(WI,JSON.stringify(o.input_token_details)),o.output_token_details&&e.setAttribute(JI,JSON.stringify(o.output_token_details))}}e.setAttribute(jI,JSON.stringify(r))}catch(r){console.debug(`Failed to process outputs for run ${n.id}`,r)}}getUnifiedRunTokens(e){if(!e)return null;let n=this.extractUnifiedRunTokens(e.usage_metadata);if(n)return n;const r=Object.keys(e);for(const u of r){const c=e[u];if(!(!c||typeof c!="object")&&(n=this.extractUnifiedRunTokens(c.usage_metadata),n||c.lc===1&&c.kwargs&&typeof c.kwargs=="object"&&(n=this.extractUnifiedRunTokens(c.kwargs.usage_metadata),n)))return n}const a=e.generations||[];if(!Array.isArray(a))return null;const o=Array.isArray(a[0])?a.flat():a;for(const u of o)if(typeof u=="object"&&u.message&&typeof u.message=="object"&&u.message.kwargs&&typeof u.message.kwargs=="object"&&(n=this.extractUnifiedRunTokens(u.message.kwargs.usage_metadata),n))return n;return null}extractUnifiedRunTokens(e){return!e||typeof e!="object"||typeof e.input_tokens!="number"||typeof e.output_tokens!="number"?null:[e.input_tokens,e.output_tokens]}}var af={},Ym={exports:{}},rw;function xM(){return rw||(rw=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function o(d,f,p,m,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var E=new a(p,m||d,b),T=n?n+f:f;return d._events[T]?d._events[T].fn?d._events[T]=[d._events[T],E]:d._events[T].push(E):(d._events[T]=E,d._eventsCount++),d}function u(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,E=m.length,T=new Array(E);b<E;b++)T[b]=m[b].fn;return T},c.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,b,E,T){var w=n?n+f:f;if(!this._events[w])return!1;var A=this._events[w],O=arguments.length,k,C;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),O){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,m),!0;case 4:return A.fn.call(A.context,p,m,b),!0;case 5:return A.fn.call(A.context,p,m,b,E),!0;case 6:return A.fn.call(A.context,p,m,b,E,T),!0}for(C=1,k=new Array(O-1);C<O;C++)k[C-1]=arguments[C];A.fn.apply(A.context,k)}else{var $=A.length,P;for(C=0;C<$;C++)switch(A[C].once&&this.removeListener(f,A[C].fn,void 0,!0),O){case 1:A[C].fn.call(A[C].context);break;case 2:A[C].fn.call(A[C].context,p);break;case 3:A[C].fn.call(A[C].context,p,m);break;case 4:A[C].fn.call(A[C].context,p,m,b);break;default:if(!k)for(P=1,k=new Array(O-1);P<O;P++)k[P-1]=arguments[P];A[C].fn.apply(A[C].context,k)}}return!0},c.prototype.on=function(f,p,m){return o(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return o(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,b){var E=n?n+f:f;if(!this._events[E])return this;if(!p)return u(this,E),this;var T=this._events[E];if(T.fn)T.fn===p&&(!b||T.once)&&(!m||T.context===m)&&u(this,E);else{for(var w=0,A=[],O=T.length;w<O;w++)(T[w].fn!==p||b&&!T[w].once||m&&T[w].context!==m)&&A.push(T[w]);A.length?this._events[E]=A.length===1?A[0]:A:u(this,E)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&u(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Ym)),Ym.exports}var Pl={exports:{}},Vm,aw;function CM(){return aw||(aw=1,Vm=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})))),Vm}var iw;function RM(){if(iw)return Pl.exports;iw=1;const t=CM();class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}const n=(r,a,o)=>new Promise((u,c)=>{if(typeof a!="number"||a<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(a===1/0){u(r);return}const d=setTimeout(()=>{if(typeof o=="function"){try{u(o())}catch(m){c(m)}return}const f=typeof o=="string"?o:`Promise timed out after ${a} milliseconds`,p=o instanceof Error?o:new e(f);typeof r.cancel=="function"&&r.cancel(),c(p)},a);t(r.then(u,c),()=>{clearTimeout(d)})});return Pl.exports=n,Pl.exports.default=n,Pl.exports.TimeoutError=e,Pl.exports}var sf={},of={},sw;function kM(){if(sw)return of;sw=1,Object.defineProperty(of,"__esModule",{value:!0});function t(e,n,r){let a=0,o=e.length;for(;o>0;){const u=o/2|0;let c=a+u;r(e[c],n)<=0?(a=++c,o-=u+1):o=u}return a}return of.default=t,of}var ow;function IM(){if(ow)return sf;ow=1,Object.defineProperty(sf,"__esModule",{value:!0});const t=kM();class e{constructor(){this._queue=[]}enqueue(r,a){a=Object.assign({priority:0},a);const o={priority:a.priority,run:r};if(this.size&&this._queue[this.size-1].priority>=a.priority){this._queue.push(o);return}const u=t.default(this._queue,o,(c,d)=>d.priority-c.priority);this._queue.splice(u,0,o)}dequeue(){const r=this._queue.shift();return r?.run}filter(r){return this._queue.filter(a=>a.priority===r.priority).map(a=>a.run)}get size(){return this._queue.length}}return sf.default=e,sf}var uw;function MM(){if(uw)return af;uw=1,Object.defineProperty(af,"__esModule",{value:!0});const t=xM(),e=RM(),n=IM(),r=()=>{},a=new e.TimeoutError;class o extends t{constructor(c){var d,f,p,m;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,c=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},c),!(typeof c.intervalCap=="number"&&c.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(f=(d=c.intervalCap)===null||d===void 0?void 0:d.toString())!==null&&f!==void 0?f:""}\` (${typeof c.intervalCap})`);if(c.interval===void 0||!(Number.isFinite(c.interval)&&c.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(m=(p=c.interval)===null||p===void 0?void 0:p.toString())!==null&&m!==void 0?m:""}\` (${typeof c.interval})`);this._carryoverConcurrencyCount=c.carryoverConcurrencyCount,this._isIntervalIgnored=c.intervalCap===1/0||c.interval===0,this._intervalCap=c.intervalCap,this._interval=c.interval,this._queue=new c.queueClass,this._queueClass=c.queueClass,this.concurrency=c.concurrency,this._timeout=c.timeout,this._throwOnTimeout=c.throwOnTimeout===!0,this._isPaused=c.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const c=Date.now();if(this._intervalId===void 0){const d=this._intervalEnd-c;if(d<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},d)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const c=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const d=this._queue.dequeue();return d?(this.emit("active"),d(),c&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(c){if(!(typeof c=="number"&&c>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${c}\` (${typeof c})`);this._concurrency=c,this._processQueue()}async add(c,d={}){return new Promise((f,p)=>{const m=async()=>{this._pendingCount++,this._intervalCount++;try{const b=this._timeout===void 0&&d.timeout===void 0?c():e.default(Promise.resolve(c()),d.timeout===void 0?this._timeout:d.timeout,()=>{(d.throwOnTimeout===void 0?this._throwOnTimeout:d.throwOnTimeout)&&p(a)});f(await b)}catch(b){p(b)}this._next()};this._queue.enqueue(m,d),this._tryToStartAnother(),this.emit("add")})}async addAll(c,d){return Promise.all(c.map(async f=>this.add(f,d)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(c=>{const d=this._resolveEmpty;this._resolveEmpty=()=>{d(),c()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(c=>{const d=this._resolveIdle;this._resolveIdle=()=>{d(),c()}})}get size(){return this._queue.size}sizeBy(c){return this._queue.filter(c).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(c){this._timeout=c}}return af.default=o,af}var LM=MM();const Pi=Is(LM),DM=[429,500,502,503,504];let lw=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,"default"in Pi?this.queue=new Pi.default({concurrency:this.maxConcurrency}):this.queue=new Pi({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e?.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>Ff(()=>e(...n).catch(a=>{throw a instanceof Error?a:new Error(a)}),{async onFailedAttempt(a){if(a.message.startsWith("Cancel")||a.message.startsWith("TimeoutError")||a.name==="TimeoutError"||a.message.startsWith("AbortError")||a?.code==="ECONNABORTED")throw a;const o=a?.response;if(r&&await r(o))return;const u=o?.status??a?.status;if(u&&!DM.includes(+u))throw a},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((a,o)=>{e.signal?.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(n,...r)}};function cw(t){return typeof t?._getType=="function"}function dw(t){const e={type:t._getType(),data:{content:t.content}};return t?.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}const PM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function ut(t,e){if(!PM.test(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}const fw={};function KA(t){fw[t]||(console.warn(t),fw[t]=!0)}var uf={exports:{}},Km,hw;function uh(){if(hw)return Km;hw=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,a=e-6;return Km={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Km}var Zm,pw;function lh(){if(pw)return Zm;pw=1;var t={};return Zm=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Zm}var mw;function Mc(){return mw||(mw=1,(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=uh(),o=lh();e=t.exports={};const u=e.re=[],c=e.safeRe=[],d=e.src=[],f=e.safeSrc=[],p=e.t={};let m=0;const b="[a-zA-Z0-9-]",E=[["\\s",1],["\\d",a],[b,r]],T=A=>{for(const[O,k]of E)A=A.split(`${O}*`).join(`${O}{0,${k}}`).split(`${O}+`).join(`${O}{1,${k}}`);return A},w=(A,O,k)=>{const C=T(O),$=m++;o(A,$,O),p[A]=$,d[$]=O,f[$]=C,u[$]=new RegExp(O,k?"g":void 0),c[$]=new RegExp(C,k?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),w("MAINVERSION",`(${d[p.NUMERICIDENTIFIER]})\\.(${d[p.NUMERICIDENTIFIER]})\\.(${d[p.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${d[p.NUMERICIDENTIFIERLOOSE]})\\.(${d[p.NUMERICIDENTIFIERLOOSE]})\\.(${d[p.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${d[p.NONNUMERICIDENTIFIER]}|${d[p.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${d[p.NONNUMERICIDENTIFIER]}|${d[p.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${d[p.PRERELEASEIDENTIFIER]}(?:\\.${d[p.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${d[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[p.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${b}+`),w("BUILD",`(?:\\+(${d[p.BUILDIDENTIFIER]}(?:\\.${d[p.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${d[p.MAINVERSION]}${d[p.PRERELEASE]}?${d[p.BUILD]}?`),w("FULL",`^${d[p.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${d[p.MAINVERSIONLOOSE]}${d[p.PRERELEASELOOSE]}?${d[p.BUILD]}?`),w("LOOSE",`^${d[p.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${d[p.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${d[p.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${d[p.XRANGEIDENTIFIER]})(?:\\.(${d[p.XRANGEIDENTIFIER]})(?:\\.(${d[p.XRANGEIDENTIFIER]})(?:${d[p.PRERELEASE]})?${d[p.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${d[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[p.XRANGEIDENTIFIERLOOSE]})(?:${d[p.PRERELEASELOOSE]})?${d[p.BUILD]}?)?)?`),w("XRANGE",`^${d[p.GTLT]}\\s*${d[p.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${d[p.GTLT]}\\s*${d[p.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),w("COERCE",`${d[p.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",d[p.COERCEPLAIN]+`(?:${d[p.PRERELEASE]})?(?:${d[p.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",d[p.COERCE],!0),w("COERCERTLFULL",d[p.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${d[p.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${d[p.LONETILDE]}${d[p.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${d[p.LONETILDE]}${d[p.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${d[p.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${d[p.LONECARET]}${d[p.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${d[p.LONECARET]}${d[p.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${d[p.GTLT]}\\s*(${d[p.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${d[p.GTLT]}\\s*(${d[p.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${d[p.GTLT]}\\s*(${d[p.LOOSEPLAIN]}|${d[p.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${d[p.XRANGEPLAIN]})\\s+-\\s+(${d[p.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${d[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[p.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(uf,uf.exports)),uf.exports}var Xm,gw;function B0(){if(gw)return Xm;gw=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return Xm=r=>r?typeof r!="object"?t:r:e,Xm}var Qm,bw;function ZA(){if(bw)return Qm;bw=1;const t=/^[0-9]+$/,e=(r,a)=>{const o=t.test(r),u=t.test(a);return o&&u&&(r=+r,a=+a),r===a?0:o&&!u?-1:u&&!o?1:r<a?-1:1};return Qm={compareIdentifiers:e,rcompareIdentifiers:(r,a)=>e(a,r)},Qm}var Wm,_w;function xr(){if(_w)return Wm;_w=1;const t=lh(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=uh(),{safeRe:r,t:a}=Mc(),o=B0(),{compareIdentifiers:u}=ZA();class c{constructor(f,p){if(p=o(p),f instanceof c){if(f.loose===!!p.loose&&f.includePrerelease===!!p.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",f,p),this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease;const m=f.trim().match(p.loose?r[a.LOOSE]:r[a.FULL]);if(!m)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const E=+b;if(E>=0&&E<n)return E}return b}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(t("SemVer.compare",this.version,this.options,f),!(f instanceof c)){if(typeof f=="string"&&f===this.version)return 0;f=new c(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof c||(f=new c(f,this.options)),u(this.major,f.major)||u(this.minor,f.minor)||u(this.patch,f.patch)}comparePre(f){if(f instanceof c||(f=new c(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let p=0;do{const m=this.prerelease[p],b=f.prerelease[p];if(t("prerelease compare",p,m,b),m===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(m===void 0)return-1;if(m===b)continue;return u(m,b)}while(++p)}compareBuild(f){f instanceof c||(f=new c(f,this.options));let p=0;do{const m=this.build[p],b=f.build[p];if(t("build compare",p,m,b),m===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(m===void 0)return-1;if(m===b)continue;return u(m,b)}while(++p)}inc(f,p,m){if(f.startsWith("pre")){if(!p&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(p){const b=`-${p}`.match(this.options.loose?r[a.PRERELEASELOOSE]:r[a.PRERELEASE]);if(!b||b[1]!==p)throw new Error(`invalid identifier: ${p}`)}}switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",p,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",p,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",p,m),this.inc("pre",p,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",p,m),this.inc("pre",p,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let E=this.prerelease.length;for(;--E>=0;)typeof this.prerelease[E]=="number"&&(this.prerelease[E]++,E=-2);if(E===-1){if(p===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(p){let E=[p,b];m===!1&&(E=[p]),u(this.prerelease[0],p)===0?isNaN(this.prerelease[1])&&(this.prerelease=E):this.prerelease=E}break}default:throw new Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Wm=c,Wm}var Jm,yw;function Au(){if(yw)return Jm;yw=1;const t=xr();return Jm=(n,r,a=!1)=>{if(n instanceof t)return n;try{return new t(n,r)}catch(o){if(!a)return null;throw o}},Jm}var eg,Ew;function UM(){if(Ew)return eg;Ew=1;const t=Au();return eg=(n,r)=>{const a=t(n,r);return a?a.version:null},eg}var tg,Tw;function BM(){if(Tw)return tg;Tw=1;const t=Au();return tg=(n,r)=>{const a=t(n.trim().replace(/^[=v]+/,""),r);return a?a.version:null},tg}var ng,ww;function FM(){if(ww)return ng;ww=1;const t=xr();return ng=(n,r,a,o,u)=>{typeof a=="string"&&(u=o,o=a,a=void 0);try{return new t(n instanceof t?n.version:n,a).inc(r,o,u).version}catch{return null}},ng}var rg,vw;function $M(){if(vw)return rg;vw=1;const t=Au();return rg=(n,r)=>{const a=t(n,null,!0),o=t(r,null,!0),u=a.compare(o);if(u===0)return null;const c=u>0,d=c?a:o,f=c?o:a,p=!!d.prerelease.length;if(!!f.prerelease.length&&!p){if(!f.patch&&!f.minor)return"major";if(f.compareMain(d)===0)return f.minor&&!f.patch?"minor":"patch"}const b=p?"pre":"";return a.major!==o.major?b+"major":a.minor!==o.minor?b+"minor":a.patch!==o.patch?b+"patch":"prerelease"},rg}var ag,Sw;function HM(){if(Sw)return ag;Sw=1;const t=xr();return ag=(n,r)=>new t(n,r).major,ag}var ig,Aw;function zM(){if(Aw)return ig;Aw=1;const t=xr();return ig=(n,r)=>new t(n,r).minor,ig}var sg,Ow;function jM(){if(Ow)return sg;Ow=1;const t=xr();return sg=(n,r)=>new t(n,r).patch,sg}var og,Nw;function qM(){if(Nw)return og;Nw=1;const t=Au();return og=(n,r)=>{const a=t(n,r);return a&&a.prerelease.length?a.prerelease:null},og}var ug,xw;function Ha(){if(xw)return ug;xw=1;const t=xr();return ug=(n,r,a)=>new t(n,a).compare(new t(r,a)),ug}var lg,Cw;function GM(){if(Cw)return lg;Cw=1;const t=Ha();return lg=(n,r,a)=>t(r,n,a),lg}var cg,Rw;function YM(){if(Rw)return cg;Rw=1;const t=Ha();return cg=(n,r)=>t(n,r,!0),cg}var dg,kw;function F0(){if(kw)return dg;kw=1;const t=xr();return dg=(n,r,a)=>{const o=new t(n,a),u=new t(r,a);return o.compare(u)||o.compareBuild(u)},dg}var fg,Iw;function VM(){if(Iw)return fg;Iw=1;const t=F0();return fg=(n,r)=>n.sort((a,o)=>t(a,o,r)),fg}var hg,Mw;function KM(){if(Mw)return hg;Mw=1;const t=F0();return hg=(n,r)=>n.sort((a,o)=>t(o,a,r)),hg}var pg,Lw;function ch(){if(Lw)return pg;Lw=1;const t=Ha();return pg=(n,r,a)=>t(n,r,a)>0,pg}var mg,Dw;function $0(){if(Dw)return mg;Dw=1;const t=Ha();return mg=(n,r,a)=>t(n,r,a)<0,mg}var gg,Pw;function XA(){if(Pw)return gg;Pw=1;const t=Ha();return gg=(n,r,a)=>t(n,r,a)===0,gg}var bg,Uw;function QA(){if(Uw)return bg;Uw=1;const t=Ha();return bg=(n,r,a)=>t(n,r,a)!==0,bg}var _g,Bw;function H0(){if(Bw)return _g;Bw=1;const t=Ha();return _g=(n,r,a)=>t(n,r,a)>=0,_g}var yg,Fw;function z0(){if(Fw)return yg;Fw=1;const t=Ha();return yg=(n,r,a)=>t(n,r,a)<=0,yg}var Eg,$w;function WA(){if($w)return Eg;$w=1;const t=XA(),e=QA(),n=ch(),r=H0(),a=$0(),o=z0();return Eg=(c,d,f,p)=>{switch(d){case"===":return typeof c=="object"&&(c=c.version),typeof f=="object"&&(f=f.version),c===f;case"!==":return typeof c=="object"&&(c=c.version),typeof f=="object"&&(f=f.version),c!==f;case"":case"=":case"==":return t(c,f,p);case"!=":return e(c,f,p);case">":return n(c,f,p);case">=":return r(c,f,p);case"<":return a(c,f,p);case"<=":return o(c,f,p);default:throw new TypeError(`Invalid operator: ${d}`)}},Eg}var Tg,Hw;function ZM(){if(Hw)return Tg;Hw=1;const t=xr(),e=Au(),{safeRe:n,t:r}=Mc();return Tg=(o,u)=>{if(o instanceof t)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;u=u||{};let c=null;if(!u.rtl)c=o.match(u.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const E=u.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let T;for(;(T=E.exec(o))&&(!c||c.index+c[0].length!==o.length);)(!c||T.index+T[0].length!==c.index+c[0].length)&&(c=T),E.lastIndex=T.index+T[1].length+T[2].length;E.lastIndex=-1}if(c===null)return null;const d=c[2],f=c[3]||"0",p=c[4]||"0",m=u.includePrerelease&&c[5]?`-${c[5]}`:"",b=u.includePrerelease&&c[6]?`+${c[6]}`:"";return e(`${d}.${f}.${p}${m}${b}`,u)},Tg}var wg,zw;function XM(){if(zw)return wg;zw=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return wg=t,wg}var vg,jw;function za(){if(jw)return vg;jw=1;const t=/\s+/g;class e{constructor(K,U){if(U=a(U),K instanceof e)return K.loose===!!U.loose&&K.includePrerelease===!!U.includePrerelease?K:new e(K.raw,U);if(K instanceof o)return this.raw=K.value,this.set=[[K]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=K.trim().replace(t," "),this.set=this.raw.split("||").map(Z=>this.parseRange(Z.trim())).filter(Z=>Z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Z=this.set[0];if(this.set=this.set.filter(z=>!w(z[0])),this.set.length===0)this.set=[Z];else if(this.set.length>1){for(const z of this.set)if(z.length===1&&A(z[0])){this.set=[z];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let K=0;K<this.set.length;K++){K>0&&(this.formatted+="||");const U=this.set[K];for(let Z=0;Z<U.length;Z++)Z>0&&(this.formatted+=" "),this.formatted+=U[Z].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(K){const Z=((this.options.includePrerelease&&E)|(this.options.loose&&T))+":"+K,z=r.get(Z);if(z)return z;const ue=this.options.loose,v=ue?d[f.HYPHENRANGELOOSE]:d[f.HYPHENRANGE];K=K.replace(v,he(this.options.includePrerelease)),u("hyphen replace",K),K=K.replace(d[f.COMPARATORTRIM],p),u("comparator trim",K),K=K.replace(d[f.TILDETRIM],m),u("tilde trim",K),K=K.replace(d[f.CARETTRIM],b),u("caret trim",K);let G=K.split(" ").map(be=>k(be,this.options)).join(" ").split(/\s+/).map(be=>ce(be,this.options));ue&&(G=G.filter(be=>(u("loose invalid filter",be,this.options),!!be.match(d[f.COMPARATORLOOSE])))),u("range list",G);const re=new Map,x=G.map(be=>new o(be,this.options));for(const be of x){if(w(be))return[be];re.set(be.value,be)}re.size>1&&re.has("")&&re.delete("");const ge=[...re.values()];return r.set(Z,ge),ge}intersects(K,U){if(!(K instanceof e))throw new TypeError("a Range is required");return this.set.some(Z=>O(Z,U)&&K.set.some(z=>O(z,U)&&Z.every(ue=>z.every(v=>ue.intersects(v,U)))))}test(K){if(!K)return!1;if(typeof K=="string")try{K=new c(K,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(ve(this.set[U],K,this.options))return!0;return!1}}vg=e;const n=XM(),r=new n,a=B0(),o=dh(),u=lh(),c=xr(),{safeRe:d,t:f,comparatorTrimReplace:p,tildeTrimReplace:m,caretTrimReplace:b}=Mc(),{FLAG_INCLUDE_PRERELEASE:E,FLAG_LOOSE:T}=uh(),w=X=>X.value==="<0.0.0-0",A=X=>X.value==="",O=(X,K)=>{let U=!0;const Z=X.slice();let z=Z.pop();for(;U&&Z.length;)U=Z.every(ue=>z.intersects(ue,K)),z=Z.pop();return U},k=(X,K)=>(u("comp",X,K),X=M(X,K),u("caret",X),X=$(X,K),u("tildes",X),X=q(X,K),u("xrange",X),X=V(X,K),u("stars",X),X),C=X=>!X||X.toLowerCase()==="x"||X==="*",$=(X,K)=>X.trim().split(/\s+/).map(U=>P(U,K)).join(" "),P=(X,K)=>{const U=K.loose?d[f.TILDELOOSE]:d[f.TILDE];return X.replace(U,(Z,z,ue,v,G)=>{u("tilde",X,Z,z,ue,v,G);let re;return C(z)?re="":C(ue)?re=`>=${z}.0.0 <${+z+1}.0.0-0`:C(v)?re=`>=${z}.${ue}.0 <${z}.${+ue+1}.0-0`:G?(u("replaceTilde pr",G),re=`>=${z}.${ue}.${v}-${G} <${z}.${+ue+1}.0-0`):re=`>=${z}.${ue}.${v} <${z}.${+ue+1}.0-0`,u("tilde return",re),re})},M=(X,K)=>X.trim().split(/\s+/).map(U=>se(U,K)).join(" "),se=(X,K)=>{u("caret",X,K);const U=K.loose?d[f.CARETLOOSE]:d[f.CARET],Z=K.includePrerelease?"-0":"";return X.replace(U,(z,ue,v,G,re)=>{u("caret",X,z,ue,v,G,re);let x;return C(ue)?x="":C(v)?x=`>=${ue}.0.0${Z} <${+ue+1}.0.0-0`:C(G)?ue==="0"?x=`>=${ue}.${v}.0${Z} <${ue}.${+v+1}.0-0`:x=`>=${ue}.${v}.0${Z} <${+ue+1}.0.0-0`:re?(u("replaceCaret pr",re),ue==="0"?v==="0"?x=`>=${ue}.${v}.${G}-${re} <${ue}.${v}.${+G+1}-0`:x=`>=${ue}.${v}.${G}-${re} <${ue}.${+v+1}.0-0`:x=`>=${ue}.${v}.${G}-${re} <${+ue+1}.0.0-0`):(u("no pr"),ue==="0"?v==="0"?x=`>=${ue}.${v}.${G}${Z} <${ue}.${v}.${+G+1}-0`:x=`>=${ue}.${v}.${G}${Z} <${ue}.${+v+1}.0-0`:x=`>=${ue}.${v}.${G} <${+ue+1}.0.0-0`),u("caret return",x),x})},q=(X,K)=>(u("replaceXRanges",X,K),X.split(/\s+/).map(U=>me(U,K)).join(" ")),me=(X,K)=>{X=X.trim();const U=K.loose?d[f.XRANGELOOSE]:d[f.XRANGE];return X.replace(U,(Z,z,ue,v,G,re)=>{u("xRange",X,Z,z,ue,v,G,re);const x=C(ue),ge=x||C(v),be=ge||C(G),Se=be;return z==="="&&Se&&(z=""),re=K.includePrerelease?"-0":"",x?z===">"||z==="<"?Z="<0.0.0-0":Z="*":z&&Se?(ge&&(v=0),G=0,z===">"?(z=">=",ge?(ue=+ue+1,v=0,G=0):(v=+v+1,G=0)):z==="<="&&(z="<",ge?ue=+ue+1:v=+v+1),z==="<"&&(re="-0"),Z=`${z+ue}.${v}.${G}${re}`):ge?Z=`>=${ue}.0.0${re} <${+ue+1}.0.0-0`:be&&(Z=`>=${ue}.${v}.0${re} <${ue}.${+v+1}.0-0`),u("xRange return",Z),Z})},V=(X,K)=>(u("replaceStars",X,K),X.trim().replace(d[f.STAR],"")),ce=(X,K)=>(u("replaceGTE0",X,K),X.trim().replace(d[K.includePrerelease?f.GTE0PRE:f.GTE0],"")),he=X=>(K,U,Z,z,ue,v,G,re,x,ge,be,Se)=>(C(Z)?U="":C(z)?U=`>=${Z}.0.0${X?"-0":""}`:C(ue)?U=`>=${Z}.${z}.0${X?"-0":""}`:v?U=`>=${U}`:U=`>=${U}${X?"-0":""}`,C(x)?re="":C(ge)?re=`<${+x+1}.0.0-0`:C(be)?re=`<${x}.${+ge+1}.0-0`:Se?re=`<=${x}.${ge}.${be}-${Se}`:X?re=`<${x}.${ge}.${+be+1}-0`:re=`<=${re}`,`${U} ${re}`.trim()),ve=(X,K,U)=>{for(let Z=0;Z<X.length;Z++)if(!X[Z].test(K))return!1;if(K.prerelease.length&&!U.includePrerelease){for(let Z=0;Z<X.length;Z++)if(u(X[Z].semver),X[Z].semver!==o.ANY&&X[Z].semver.prerelease.length>0){const z=X[Z].semver;if(z.major===K.major&&z.minor===K.minor&&z.patch===K.patch)return!0}return!1}return!0};return vg}var Sg,qw;function dh(){if(qw)return Sg;qw=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(p,m){if(m=n(m),p instanceof e){if(p.loose===!!m.loose)return p;p=p.value}p=p.trim().split(/\s+/).join(" "),u("comparator",p,m),this.options=m,this.loose=!!m.loose,this.parse(p),this.semver===t?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(p){const m=this.options.loose?r[a.COMPARATORLOOSE]:r[a.COMPARATOR],b=p.match(m);if(!b)throw new TypeError(`Invalid comparator: ${p}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new c(b[2],this.options.loose):this.semver=t}toString(){return this.value}test(p){if(u("Comparator.test",p,this.options.loose),this.semver===t||p===t)return!0;if(typeof p=="string")try{p=new c(p,this.options)}catch{return!1}return o(p,this.operator,this.semver,this.options)}intersects(p,m){if(!(p instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(p.value,m).test(this.value):p.operator===""?p.value===""?!0:new d(this.value,m).test(p.semver):(m=n(m),m.includePrerelease&&(this.value==="<0.0.0-0"||p.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||p.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&p.operator.startsWith(">")||this.operator.startsWith("<")&&p.operator.startsWith("<")||this.semver.version===p.semver.version&&this.operator.includes("=")&&p.operator.includes("=")||o(this.semver,"<",p.semver,m)&&this.operator.startsWith(">")&&p.operator.startsWith("<")||o(this.semver,">",p.semver,m)&&this.operator.startsWith("<")&&p.operator.startsWith(">")))}}Sg=e;const n=B0(),{safeRe:r,t:a}=Mc(),o=WA(),u=lh(),c=xr(),d=za();return Sg}var Ag,Gw;function fh(){if(Gw)return Ag;Gw=1;const t=za();return Ag=(n,r,a)=>{try{r=new t(r,a)}catch{return!1}return r.test(n)},Ag}var Og,Yw;function QM(){if(Yw)return Og;Yw=1;const t=za();return Og=(n,r)=>new t(n,r).set.map(a=>a.map(o=>o.value).join(" ").trim().split(" ")),Og}var Ng,Vw;function WM(){if(Vw)return Ng;Vw=1;const t=xr(),e=za();return Ng=(r,a,o)=>{let u=null,c=null,d=null;try{d=new e(a,o)}catch{return null}return r.forEach(f=>{d.test(f)&&(!u||c.compare(f)===-1)&&(u=f,c=new t(u,o))}),u},Ng}var xg,Kw;function JM(){if(Kw)return xg;Kw=1;const t=xr(),e=za();return xg=(r,a,o)=>{let u=null,c=null,d=null;try{d=new e(a,o)}catch{return null}return r.forEach(f=>{d.test(f)&&(!u||c.compare(f)===1)&&(u=f,c=new t(u,o))}),u},xg}var Cg,Zw;function eL(){if(Zw)return Cg;Zw=1;const t=xr(),e=za(),n=ch();return Cg=(a,o)=>{a=new e(a,o);let u=new t("0.0.0");if(a.test(u)||(u=new t("0.0.0-0"),a.test(u)))return u;u=null;for(let c=0;c<a.set.length;++c){const d=a.set[c];let f=null;d.forEach(p=>{const m=new t(p.semver.version);switch(p.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!f||n(m,f))&&(f=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${p.operator}`)}}),f&&(!u||n(u,f))&&(u=f)}return u&&a.test(u)?u:null},Cg}var Rg,Xw;function tL(){if(Xw)return Rg;Xw=1;const t=za();return Rg=(n,r)=>{try{return new t(n,r).range||"*"}catch{return null}},Rg}var kg,Qw;function j0(){if(Qw)return kg;Qw=1;const t=xr(),e=dh(),{ANY:n}=e,r=za(),a=fh(),o=ch(),u=$0(),c=z0(),d=H0();return kg=(p,m,b,E)=>{p=new t(p,E),m=new r(m,E);let T,w,A,O,k;switch(b){case">":T=o,w=c,A=u,O=">",k=">=";break;case"<":T=u,w=d,A=o,O="<",k="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(p,m,E))return!1;for(let C=0;C<m.set.length;++C){const $=m.set[C];let P=null,M=null;if($.forEach(se=>{se.semver===n&&(se=new e(">=0.0.0")),P=P||se,M=M||se,T(se.semver,P.semver,E)?P=se:A(se.semver,M.semver,E)&&(M=se)}),P.operator===O||P.operator===k||(!M.operator||M.operator===O)&&w(p,M.semver))return!1;if(M.operator===k&&A(p,M.semver))return!1}return!0},kg}var Ig,Ww;function nL(){if(Ww)return Ig;Ww=1;const t=j0();return Ig=(n,r,a)=>t(n,r,">",a),Ig}var Mg,Jw;function rL(){if(Jw)return Mg;Jw=1;const t=j0();return Mg=(n,r,a)=>t(n,r,"<",a),Mg}var Lg,ev;function aL(){if(ev)return Lg;ev=1;const t=za();return Lg=(n,r,a)=>(n=new t(n,a),r=new t(r,a),n.intersects(r,a)),Lg}var Dg,tv;function iL(){if(tv)return Dg;tv=1;const t=fh(),e=Ha();return Dg=(n,r,a)=>{const o=[];let u=null,c=null;const d=n.sort((b,E)=>e(b,E,a));for(const b of d)t(b,r,a)?(c=b,u||(u=b)):(c&&o.push([u,c]),c=null,u=null);u&&o.push([u,null]);const f=[];for(const[b,E]of o)b===E?f.push(b):!E&&b===d[0]?f.push("*"):E?b===d[0]?f.push(`<=${E}`):f.push(`${b} - ${E}`):f.push(`>=${b}`);const p=f.join(" || "),m=typeof r.raw=="string"?r.raw:String(r);return p.length<m.length?p:r},Dg}var Pg,nv;function sL(){if(nv)return Pg;nv=1;const t=za(),e=dh(),{ANY:n}=e,r=fh(),a=Ha(),o=(m,b,E={})=>{if(m===b)return!0;m=new t(m,E),b=new t(b,E);let T=!1;e:for(const w of m.set){for(const A of b.set){const O=d(w,A,E);if(T=T||O!==null,O)continue e}if(T)return!1}return!0},u=[new e(">=0.0.0-0")],c=[new e(">=0.0.0")],d=(m,b,E)=>{if(m===b)return!0;if(m.length===1&&m[0].semver===n){if(b.length===1&&b[0].semver===n)return!0;E.includePrerelease?m=u:m=c}if(b.length===1&&b[0].semver===n){if(E.includePrerelease)return!0;b=c}const T=new Set;let w,A;for(const q of m)q.operator===">"||q.operator===">="?w=f(w,q,E):q.operator==="<"||q.operator==="<="?A=p(A,q,E):T.add(q.semver);if(T.size>1)return null;let O;if(w&&A){if(O=a(w.semver,A.semver,E),O>0)return null;if(O===0&&(w.operator!==">="||A.operator!=="<="))return null}for(const q of T){if(w&&!r(q,String(w),E)||A&&!r(q,String(A),E))return null;for(const me of b)if(!r(q,String(me),E))return!1;return!0}let k,C,$,P,M=A&&!E.includePrerelease&&A.semver.prerelease.length?A.semver:!1,se=w&&!E.includePrerelease&&w.semver.prerelease.length?w.semver:!1;M&&M.prerelease.length===1&&A.operator==="<"&&M.prerelease[0]===0&&(M=!1);for(const q of b){if(P=P||q.operator===">"||q.operator===">=",$=$||q.operator==="<"||q.operator==="<=",w){if(se&&q.semver.prerelease&&q.semver.prerelease.length&&q.semver.major===se.major&&q.semver.minor===se.minor&&q.semver.patch===se.patch&&(se=!1),q.operator===">"||q.operator===">="){if(k=f(w,q,E),k===q&&k!==w)return!1}else if(w.operator===">="&&!r(w.semver,String(q),E))return!1}if(A){if(M&&q.semver.prerelease&&q.semver.prerelease.length&&q.semver.major===M.major&&q.semver.minor===M.minor&&q.semver.patch===M.patch&&(M=!1),q.operator==="<"||q.operator==="<="){if(C=p(A,q,E),C===q&&C!==A)return!1}else if(A.operator==="<="&&!r(A.semver,String(q),E))return!1}if(!q.operator&&(A||w)&&O!==0)return!1}return!(w&&$&&!A&&O!==0||A&&P&&!w&&O!==0||se||M)},f=(m,b,E)=>{if(!m)return b;const T=a(m.semver,b.semver,E);return T>0?m:T<0||b.operator===">"&&m.operator===">="?b:m},p=(m,b,E)=>{if(!m)return b;const T=a(m.semver,b.semver,E);return T<0?m:T>0||b.operator==="<"&&m.operator==="<="?b:m};return Pg=o,Pg}var Ug,rv;function oL(){if(rv)return Ug;rv=1;const t=Mc(),e=uh(),n=xr(),r=ZA(),a=Au(),o=UM(),u=BM(),c=FM(),d=$M(),f=HM(),p=zM(),m=jM(),b=qM(),E=Ha(),T=GM(),w=YM(),A=F0(),O=VM(),k=KM(),C=ch(),$=$0(),P=XA(),M=QA(),se=H0(),q=z0(),me=WA(),V=ZM(),ce=dh(),he=za(),ve=fh(),X=QM(),K=WM(),U=JM(),Z=eL(),z=tL(),ue=j0(),v=nL(),G=rL(),re=aL(),x=iL(),ge=sL();return Ug={parse:a,valid:o,clean:u,inc:c,diff:d,major:f,minor:p,patch:m,prerelease:b,compare:E,rcompare:T,compareLoose:w,compareBuild:A,sort:O,rsort:k,gt:C,lt:$,eq:P,neq:M,gte:se,lte:q,cmp:me,coerce:V,Comparator:ce,Range:he,satisfies:ve,toComparators:X,maxSatisfying:K,minSatisfying:U,minVersion:Z,validRange:z,outside:ue,gtr:v,ltr:G,intersects:re,simplifyRange:x,subset:ge,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},Ug}oL();function fs(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[a,o]=e.split("/",2);if(!a||!o)throw new Error(`Invalid identifier format: ${t}`);return[a,o,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class uL extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Ke(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}if(t.status===403)try{(await t.json())?.error==="org_scoped_key_requires_workspace"&&(r="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const c=new Error(`${t.status} ${t.statusText}`);throw c.status=t?.status,c}if(r===void 0)try{r=await t.text()}catch{r=""}const a=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Message: ${r}`;if(t.status===409)throw new uL(a);const o=new Error(a);throw o.status=t.status,o}const JA="ERR_CONFLICTING_ENDPOINTS";class lL extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:JA}),this.name="ConflictingEndpointsError"}}function cL(t){return typeof t=="object"&&t!==null&&t.code===JA}var av="[...]",dL={result:"[Circular]"},zf=[],au=[];const fL=new TextEncoder;function hL(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function lf(t){return fL.encode(t)}function eO(t){if(t&&typeof t=="object"&&t!==null){if(t instanceof Map)return Object.fromEntries(t);if(t instanceof Set)return Array.from(t);if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(t instanceof Error)return{name:t.name,message:t.message}}else if(typeof t=="bigint")return t.toString();return t}function pL(t){return function(e,n){return eO(n)}}function Jr(t,e,n,r,a){try{const o=JSON.stringify(t,pL(n),r);return lf(o)}catch(o){if(!o.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),lf("[Unserializable]");$r("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof a>"u"&&(a=hL()),Yb(t,"",0,[],void 0,0,a);let u;try{au.length===0?u=JSON.stringify(t,n,r):u=JSON.stringify(t,mL(n),r)}catch{return lf("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;zf.length!==0;){const c=zf.pop();c.length===4?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return lf(u)}}function Bg(t,e,n,r){var a=Object.getOwnPropertyDescriptor(r,n);a.get!==void 0?a.configurable?(Object.defineProperty(r,n,{value:t}),zf.push([r,n,e,a])):au.push([e,n,t]):(r[n]=t,zf.push([r,n,e]))}function Yb(t,e,n,r,a,o,u){o+=1;var c;if(typeof t=="object"&&t!==null){for(c=0;c<r.length;c++)if(r[c]===t){Bg(dL,t,e,a);return}if(typeof u.depthLimit<"u"&&o>u.depthLimit){Bg(av,t,e,a);return}if(typeof u.edgesLimit<"u"&&n+1>u.edgesLimit){Bg(av,t,e,a);return}if(r.push(t),Array.isArray(t))for(c=0;c<t.length;c++)Yb(t[c],c,c,r,t,o,u);else{t=eO(t);var d=Object.keys(t);for(c=0;c<d.length;c++){var f=d[c];Yb(t[f],f,c,r,t,o,u)}}r.pop()}}function mL(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(au.length>0)for(var r=0;r<au.length;r++){var a=au[r];if(a[1]===e&&a[0]===n){n=a[2],au.splice(r,1);break}}return t.call(this,e,n)}}function iv(t){const e=GA(),n=pM(),r=t.extra??{},a=r.metadata;return t.extra={...r,runtime:{...e,...r?.runtime},metadata:{...n,...n.revision_id||"revision_id"in t&&t.revision_id?{revision_id:("revision_id"in t?t.revision_id:void 0)??n.revision_id}:{},...a}},t}const gL=t=>{const e=t?.toString()??$r("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},bL=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function _L(t){const e=[];for await(const n of t)e.push(n);return e}function cf(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const yL=async t=>{if(t?.status===429){const e=parseInt(t.headers.get("retry-after")??"10",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function sv(t){return typeof t=="number"?Number(t.toFixed(4)):t}class EL{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let n;const r=new Promise(o=>{n=o}),a=Jr(e.item,`Serializing run with id: ${e.item.id}`).length;return this.items.push({action:e.action,payload:e.item,otelContext:e.otelContext,apiKey:e.apiKey,apiUrl:e.apiUrl,itemPromiseResolve:n,itemPromise:r,size:a}),this.sizeBytes+=a,r}pop(e){if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const n=[];let r=0;for(;r+(this.peek()?.size??0)<e&&this.items.length>0;){const a=this.items.shift();a&&(n.push(a),r+=a.size,this.sizeBytes-=a.size)}if(n.length===0&&this.items.length>0){const a=this.items.shift();n.push(a),r+=a.size,this.sizeBytes-=a.size}return[n.map(a=>({action:a.action,item:a.payload,otelContext:a.otelContext,apiKey:a.apiKey,apiUrl:a.apiUrl})),()=>n.forEach(a=>a.itemPromiseResolve())]}}const TL=24*1024*1024,wL=1e4,ov="https://api.smith.langchain.com";class wc{get _fetch(){return this.fetchImplementation||lM(this.debug)}constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new EL}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:hi("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:hi("LANGSMITH_DEBUG")==="true"});const n=wc.getDefaultClientConfig();if(this.tracingSampleRate=gL(e.tracingSamplingRate),this.apiUrl=cf(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=cf(e.apiKey??n.apiKey),this.webUrl=cf(e.webUrl??n.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=cf(e.workspaceId??$r("WORKSPACE_ID")),this.timeout_ms=e.timeout_ms??9e4,this.caller=new lw({...e.callerOptions??{},maxRetries:4,debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.fetchImplementation=e.fetchImplementation,this.batchIngestCaller=new lw({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...e.callerOptions??{},onFailedResponseHook:yL,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode,YA()&&(this.langSmithToOTELTranslator=new NM)}static getDefaultClientConfig(){const e=$r("API_KEY"),n=$r("ENDPOINT")??ov,r=$r("HIDE_INPUTS")==="true",a=$r("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:a}}getHostUrl(){return this.webUrl?this.webUrl:bL(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${zA}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(e["x-tenant-id"]=this.workspaceId),e}_getPlatformEndpointPath(e){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${e}`:`/platform/${e}`}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=n?.toString()??"",a=`${this.apiUrl}${e}?${r}`;return await this.caller.call(async()=>{const u=await this._fetch(a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(u,`fetch ${e}`),u})}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let a=Number(n.get("offset"))||0;const o=Number(n.get("limit"))||100;for(;;){n.set("offset",String(a)),n.set("limit",String(o));const u=`${this.apiUrl}${e}?${n}`,c=await this.caller.call(async()=>{const f=await this._fetch(u,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(f,`fetch ${e}`),f}),d=r?r(await c.json()):await c.json();if(d.length===0||(yield d,d.length<o))break;a+=d.length}}async*_getCursorPaginatedList(e,n=null,r="POST",a="runs"){const o=n?{...n}:{};for(;;){const u=JSON.stringify(o),d=await(await this.caller.call(async()=>{const p=await this._fetch(`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Ke(p,`fetch ${e}`),p})).json();if(!d||!d[a])break;yield d[a];const f=d.cursors;if(!f||!f.next)break;o.cursor=f.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const a of e)this.filteredPostUuids.has(a.trace_id)?a.id===a.trace_id&&this.filteredPostUuids.delete(a.trace_id):r.push(a);return r}else{const r=[];for(const a of e){const o=a.trace_id??a.id;this.filteredPostUuids.has(o)||(a.id===o?this._shouldSample()?r.push(a):this.filteredPostUuids.add(o):r.push(a))}return r}}async _getBatchSizeLimitBytes(){const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??e.batch_ingest_config?.size_limit_bytes??TL}async _getDatasetExamplesMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue(e){const n=[];for(;this.autoBatchQueue.items.length>0;){const[r,a]=this.autoBatchQueue.pop(e);if(!r.length){a();break}const o=r.reduce((d,f)=>{const p=f.apiUrl??this.apiUrl,m=f.apiKey??this.apiKey,E=f.apiKey===this.apiKey&&f.apiUrl===this.apiUrl?"default":`${p}|${m}`;return d[E]||(d[E]=[]),d[E].push(f),d},{}),u=[];for(const[d,f]of Object.entries(o)){const p=this._processBatch(f,{apiUrl:d==="default"?void 0:d.split("|")[0],apiKey:d==="default"?void 0:d.split("|")[1]});u.push(p)}const c=Promise.all(u).finally(a);n.push(c)}return Promise.all(n)}async _processBatch(e,n){if(e.length)try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(e);else{const r={runCreates:e.filter(o=>o.action==="create").map(o=>o.item),runUpdates:e.filter(o=>o.action==="update").map(o=>o.item)},a=await this._ensureServerInfo();if(a?.batch_ingest_config?.use_multipart_endpoint){const o=a?.instance_flags?.gzip_body_enabled;await this.multipartIngestRuns(r,{...n,useGzip:o})}else await this.batchIngestRuns(r,n)}}catch(r){console.error("Error exporting batch:",r)}}_sendBatchToOTELTranslator(e){if(this.langSmithToOTELTranslator!==void 0){const n=new Map,r=[];for(const a of e)a.item.id&&a.otelContext&&(n.set(a.item.id,a.otelContext),a.action==="create"?r.push({operation:"post",id:a.item.id,trace_id:a.item.trace_id??a.item.id,run:a.item}):r.push({operation:"patch",id:a.item.id,trace_id:a.item.trace_id??a.item.id,run:a.item}));this.langSmithToOTELTranslator.exportBatch(r,n)}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.item=iv(e.item);const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>r&&this.drainAutoBatchQueue(r),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(r)},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const n=await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(wL),...this.fetchOptions});return await Ke(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${e.status??"Unspecified status code"} ${e.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(e)}_cloneCurrentOTELContext(){const e=VA(),n=vM();if(this.langSmithToOTELTranslator!==void 0){const r=e.getActiveSpan();if(r)return e.setSpan(n.active(),r)}}async createRun(e,n){if(!this._filterForSampling([e]).length)return;const r={...this.headers,"Content-Type":"application/json"},a=e.project_name;delete e.project_name;const o=await this.prepareRunCreateOrUpdateInputs({session_name:a,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&o.trace_id!==void 0&&o.dotted_order!==void 0){const d=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:o,otelContext:d,apiKey:n?.apiKey,apiUrl:n?.apiUrl}).catch(console.error);return}const u=iv(o);n?.apiKey!==void 0&&(r["x-api-key"]=n.apiKey),n?.workspaceId!==void 0&&(r["x-tenant-id"]=n.workspaceId);const c=Jr(u,`Creating run with id: ${u.id}`);await this.caller.call(async()=>{const d=await this._fetch(`${n?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Ke(d,"create run",!0),d})}async batchIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;let a=await Promise.all(e?.map(d=>this.prepareRunCreateOrUpdateInputs(d))??[]),o=await Promise.all(n?.map(d=>this.prepareRunCreateOrUpdateInputs(d))??[]);if(a.length>0&&o.length>0){const d=a.reduce((p,m)=>(m.id&&(p[m.id]=m),p),{}),f=[];for(const p of o)p.id!==void 0&&d[p.id]?d[p.id]={...d[p.id],...p}:f.push(p);a=Object.values(d),o=f}const u={post:a,patch:o};if(!u.post.length&&!u.patch.length)return;const c={post:[],patch:[]};for(const d of["post","patch"]){const f=d,p=u[f].reverse();let m=p.pop();for(;m!==void 0;)c[f].push(m),m=p.pop()}if(c.post.length>0||c.patch.length>0){const d=c.post.map(f=>f.id).concat(c.patch.map(f=>f.id)).join(",");await this._postBatchIngestRuns(Jr(c,`Ingesting runs with ids: ${d}`),r)}}async _postBatchIngestRuns(e,n){const r={...this.headers,"Content-Type":"application/json",Accept:"application/json"};n?.apiKey!==void 0&&(r["x-api-key"]=n.apiKey),await this.batchIngestCaller.call(async()=>{const a=await this._fetch(`${n?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:e});return await Ke(a,"batch create run",!0),a})}async multipartIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;const a={};let o=[];for(const m of e??[]){const b=await this.prepareRunCreateOrUpdateInputs(m);b.id!==void 0&&b.attachments!==void 0&&(a[b.id]=b.attachments),delete b.attachments,o.push(b)}let u=[];for(const m of n??[])u.push(await this.prepareRunCreateOrUpdateInputs(m));if(o.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(u.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(o.length>0&&u.length>0){const m=o.reduce((E,T)=>(T.id&&(E[T.id]=T),E),{}),b=[];for(const E of u)E.id!==void 0&&m[E.id]?m[E.id]={...m[E.id],...E}:b.push(E);o=Object.values(m),u=b}if(o.length===0&&u.length===0)return;const f=[],p=[];for(const[m,b]of[["post",o],["patch",u]])for(const E of b){const{inputs:T,outputs:w,events:A,extra:O,error:k,serialized:C,attachments:$,...P}=E,M={inputs:T,outputs:w,events:A,extra:O,error:k,serialized:C},se=Jr(P,`Serializing for multipart ingestion of run with id: ${P.id}`);p.push({name:`${m}.${P.id}`,payload:new Blob([se],{type:`application/json; length=${se.length}`})});for(const[q,me]of Object.entries(M)){if(me===void 0)continue;const V=Jr(me,`Serializing ${q} for multipart ingestion of run with id: ${P.id}`);p.push({name:`${m}.${P.id}.${q}`,payload:new Blob([V],{type:`application/json; length=${V.length}`})})}if(P.id!==void 0){const q=a[P.id];if(q){delete a[P.id];for(const[me,V]of Object.entries(q)){let ce,he;if(Array.isArray(V)?[ce,he]=V:(ce=V.mimeType,he=V.data),me.includes(".")){console.warn(`Skipping attachment '${me}' for run ${P.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}p.push({name:`attachment.${P.id}.${me}`,payload:new Blob([he],{type:`${ce}; length=${he.byteLength}`})})}}}f.push(`trace=${P.trace_id},id=${P.id}`)}await this._sendMultipartRequest(p,f.join("; "),r)}async _createNodeFetchBody(e,n){const r=[];for(const u of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${u.name}"\r
`,`Content-Type: ${u.payload.type}\r
\r
`])),r.push(u.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(o){const u=async c=>{typeof c=="string"?o.enqueue(r.encode(c)):o.enqueue(c)};for(const c of e){await u(`--${n}\r
`),await u(`Content-Disposition: form-data; name="${c.name}"\r
`),await u(`Content-Type: ${c.payload.type}\r
\r
`);const f=c.payload.stream().getReader();try{let p;for(;!(p=await f.read()).done;)o.enqueue(p.value)}finally{f.releaseLock()}await u(`\r
`)}await u(`--${n}--\r
`),o.close()}})}async _sendMultipartRequest(e,n,r){const a="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),o=uM(),u=()=>this._createNodeFetchBody(e,a),c=()=>this._createMultipartStream(e,a),d=async f=>this.batchIngestCaller.call(async()=>{const p=await f(),m={...this.headers,"Content-Type":`multipart/form-data; boundary=${a}`};r?.apiKey!==void 0&&(m["x-api-key"]=r.apiKey);let b=p;r?.useGzip&&typeof p=="object"&&"pipeThrough"in p&&(b=p.pipeThrough(new CompressionStream("gzip")),m["Content-Encoding"]="gzip");const E=await this._fetch(`${r?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:m,body:b,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(E,"Failed to send multipart request",!0),E});try{let f,p=!1;!o&&!this.multipartStreamingDisabled&&qA()!=="bun"?(p=!0,f=await d(c)):f=await d(u),(!this.multipartStreamingDisabled||p)&&f.status===422&&(r?.apiUrl??this.apiUrl)!==ov&&(console.warn(`Streaming multipart upload to ${r?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${n}".`),this.multipartStreamingDisabled=!0,f=await d(u))}catch(f){console.warn(`${f.message.trim()}

Context: ${n}`)}}async updateRun(e,n,r){ut(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const a={...n,id:e};if(!this._filterForSampling([a],!0).length)return;if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){const c=this._cloneCurrentOTELContext();if(n.end_time!==void 0&&a.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:a,otelContext:c,apiKey:r?.apiKey,apiUrl:r?.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:a,otelContext:c,apiKey:r?.apiKey,apiUrl:r?.apiUrl}).catch(console.error);return}const o={...this.headers,"Content-Type":"application/json"};r?.apiKey!==void 0&&(o["x-api-key"]=r.apiKey),r?.workspaceId!==void 0&&(o["x-tenant-id"]=r.workspaceId);const u=Jr(n,`Serializing payload to update run with id: ${e}`);await this.caller.call(async()=>{const c=await this._fetch(`${r?.apiUrl??this.apiUrl}/runs/${e}`,{method:"PATCH",headers:o,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Ke(c,"update run",!0),c})}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){ut(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let a;n.session_id?a=n.session_id:r?.projectName?a=(await this.readProject({projectName:r?.projectName})).id:r?.projectId?a=r?.projectId:a=(await this.readProject({projectName:$r("PROJECT")||"default"})).id;const o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/projects/p/${a}/r/${n.id}?poll=true`}else if(e!==void 0){const a=await this.readRun(e);if(!a.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${a.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const n=await _L(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},a={};n.sort((o,u)=>(o?.dotted_order??"").localeCompare(u?.dotted_order??""));for(const o of n){if(o.parent_run_id===null||o.parent_run_id===void 0)throw new Error(`Child run ${o.id} has no parent`);o.dotted_order?.startsWith(e.dotted_order??"")&&o.id!==e.id&&(o.parent_run_id in r||(r[o.parent_run_id]=[]),r[o.parent_run_id].push(o),a[o.id]=o)}e.child_runs=r[e.id]||[];for(const o in r)o!==e.id&&(a[o].child_runs=r[o]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:a,traceId:o,referenceExampleId:u,startTime:c,executionOrder:d,isRoot:f,runType:p,error:m,id:b,query:E,filter:T,traceFilter:w,treeFilter:A,limit:O,select:k,order:C}=e;let $=[];if(n&&($=Array.isArray(n)?n:[n]),r){const q=Array.isArray(r)?r:[r],me=await Promise.all(q.map(V=>this.readProject({projectName:V}).then(ce=>ce.id)));$.push(...me)}const P=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],M={session:$.length?$:null,run_type:p,reference_example:u,query:E,filter:T,trace_filter:w,tree_filter:A,execution_order:d,parent_run:a,start_time:c?c.toISOString():null,error:m,id:b,limit:O,trace:o,select:k||P,is_root:f,order:C};let se=0;for await(const q of this._getCursorPaginatedList("/runs/query",M))if(O){if(se>=O)break;if(q.length+se>O){yield*q.slice(0,O-se);break}se+=q.length,yield*q}else yield*q}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:a,filter:o,startTime:u,endTime:c,limit:d,offset:f}=e,m={session_id:n||(await this.readProject({projectName:r})).id,group_by:a,filter:o,start_time:u?u.toISOString():null,end_time:c?c.toISOString():null,limit:Number(d)||100};let b=Number(f)||0;const E="/runs/group",T=`${this.apiUrl}${E}`;for(;;){const w={...m,offset:b},A=Object.fromEntries(Object.entries(w).filter(([M,se])=>se!==void 0)),O=JSON.stringify(A),C=await(await this.caller.call(async()=>{const M=await this._fetch(T,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await Ke(M,`Failed to fetch ${E}`),M})).json(),{groups:$,total:P}=C;if($.length===0)break;for(const M of $)yield M;if(b+=$.length,b>=P)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:a,projectNames:o,projectIds:u,referenceExampleIds:c,startTime:d,endTime:f,error:p,query:m,filter:b,traceFilter:E,treeFilter:T,isRoot:w,dataSourceType:A}){let O=u||[];o&&(O=[...u||[],...await Promise.all(o.map(se=>this.readProject({projectName:se}).then(q=>q.id)))]);const C=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:a,session:O,reference_example:c,start_time:d,end_time:f,error:p,query:m,filter:b,trace_filter:E,tree_filter:T,is_root:w,data_source_type:A}).filter(([se,q])=>q!==void 0)),$=JSON.stringify(C);return await(await this.caller.call(async()=>{const se=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:$});return await Ke(se,"get run stats"),se})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||hr()};ut(e);const a=JSON.stringify(r),u=await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Ke(c,"share run"),c})).json();if(u===null||!("share_token"in u))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${u.share_token}/r`}async unshareRun(e){ut(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(n,"unshare run",!0),n})}async readRunSharedLink(e){ut(e);const r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(a,"read run shared link"),a})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const u of n)r.append("id",u);return ut(e),await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(u,"list shared runs"),u})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),ut(e);const a=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(o,"read dataset shared schema"),o})).json();return a.url=`${this.getHostUrl()}/public/${a.share_token}/d`,a}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};ut(e);const a=JSON.stringify(r),u=await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Ke(c,"share dataset"),c})).json();return u.url=`${this.getHostUrl()}/public/${u.share_token}/d`,u}async unshareDataset(e){ut(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(n,"unshare dataset",!0),n})}async readSharedDataset(e){return ut(e),await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(a,"read shared dataset"),a})).json()}async listSharedExamples(e,n){const r={};n?.exampleIds&&(r.id=n.exampleIds);const a=new URLSearchParams;Object.entries(r).forEach(([c,d])=>{Array.isArray(d)?d.forEach(f=>a.append(c,f)):a.append(c,d)});const o=await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/public/${e}/examples?${a.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(c,"list shared examples"),c}),u=await o.json();if(!o.ok)throw"detail"in u?new Error(`Failed to list shared examples.
Status: ${o.status}
Message: ${Array.isArray(u.detail)?u.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${o.status} ${o.statusText}`);return u.map(c=>({...c,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:a=!1,projectExtra:o=null,referenceDatasetId:u=null}){const c=a?"?upsert=true":"",d=`${this.apiUrl}/sessions${c}`,f=o||{};r&&(f.metadata=r);const p={name:e,extra:f,description:n};u!==null&&(p.reference_dataset_id=u);const m=JSON.stringify(p);return await(await this.caller.call(async()=>{const T=await this._fetch(d,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:m});return await Ke(T,"create project"),T})).json()}async updateProject(e,{name:n=null,description:r=null,metadata:a=null,projectExtra:o=null,endTime:u=null}){const c=`${this.apiUrl}/sessions/${e}`;let d=o;a&&(d={...d||{},metadata:a});const f=JSON.stringify({name:n,extra:d,description:r,end_time:u?new Date(u).toISOString():null});return await(await this.caller.call(async()=>{const b=await this._fetch(c,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Ke(b,"update project"),b})).json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const a=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)ut(e),r+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");const o=await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}${r}?${a}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(u,"has project"),u});try{const u=await o.json();return o.ok?Array.isArray(u)?u.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let a="/sessions";const o=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)ut(e),a+=`/${e}`;else if(n!==void 0)o.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&o.append("include_stats",r.toString());const u=await this._get(a,o);let c;if(Array.isArray(u)){if(u.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);c=u[0]}else c=u;return c}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:a,referenceDatasetName:o,includeStats:u,datasetVersion:c,referenceFree:d,metadata:f}={}){const p=new URLSearchParams;if(e!==void 0)for(const m of e)p.append("id",m);if(n!==void 0&&p.append("name",n),r!==void 0&&p.append("name_contains",r),a!==void 0)p.append("reference_dataset",a);else if(o!==void 0){const m=await this.readDataset({datasetName:o});p.append("reference_dataset",m.id)}u!==void 0&&p.append("include_stats",u.toString()),c!==void 0&&p.append("dataset_version",c),d!==void 0&&p.append("reference_free",d.toString()),f!==void 0&&p.append("metadata",JSON.stringify(f));for await(const m of this._getPaginated("/sessions",p))yield*m}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,ut(r),await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(a,`delete session ${r} (${n})`,!0),a})}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:a,description:o,dataType:u,name:c}){const d=`${this.apiUrl}/datasets/upload`,f=new FormData;return f.append("file",e,n),r.forEach(b=>{f.append("input_keys",b)}),a.forEach(b=>{f.append("output_keys",b)}),o&&f.append("description",o),u&&f.append("data_type",u),c&&f.append("name",c),await(await this.caller.call(async()=>{const b=await this._fetch(d,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Ke(b,"upload CSV"),b})).json()}async createDataset(e,{description:n,dataType:r,inputsSchema:a,outputsSchema:o,metadata:u}={}){const c={name:e,description:n,extra:u?{metadata:u}:void 0};r&&(c.data_type=r),a&&(c.inputs_schema_definition=a),o&&(c.outputs_schema_definition=o);const d=JSON.stringify(c);return await(await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:d});return await Ke(m,"create dataset"),m})).json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const a=new URLSearchParams({limit:"1"});if(e&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(e)ut(e),r+=`/${e}`;else if(n)a.append("name",n);else throw new Error("Must provide datasetName or datasetId");const o=await this._get(r,a);let u;if(Array.isArray(o)){if(o.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);u=o[0]}else u=o;return u}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:a}){let o=e;if(o===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:n})).id);const u=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof a=="string"?a:a.toISOString()});return await this._get(`/datasets/${o}/versions/diff`,u)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(c=>JSON.parse(c))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:a,datasetNameContains:o,metadata:u}={}){const c="/datasets",d=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const f of r)d.append("id",f);a!==void 0&&d.append("name",a),o!==void 0&&d.append("name_contains",o),u!==void 0&&d.append("metadata",JSON.stringify(u));for await(const f of this._getPaginated(c,d))yield*f}async updateDataset(e){const{datasetId:n,datasetName:r,...a}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const o=n??(await this.readDataset({datasetName:r})).id;ut(o);const u=JSON.stringify(a);return await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/datasets/${o}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Ke(d,"update dataset"),d})).json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:a,tag:o}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const u=n??(await this.readDataset({datasetName:r})).id;ut(u);const c=JSON.stringify({as_of:typeof a=="string"?a:a.toISOString(),tag:o});await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/datasets/${u}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Ke(d,"update dataset tags",!0),d})}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",a=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(a=(await this.readDataset({datasetName:n})).id),a!==void 0)ut(a),r+=`/${a}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const o=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(o,`delete ${r}`,!0),o})}async indexDataset({datasetId:e,datasetName:n,tag:r}){let a=e;if(!a&&!n)throw new Error("Must provide either datasetName or datasetId");if(a&&n)throw new Error("Must provide either datasetName or datasetId, not both");a||(a=(await this.readDataset({datasetName:n})).id),ut(a);const u=JSON.stringify({tag:r});await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/datasets/${a}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Ke(d,"index dataset"),d})).json()}async similarExamples(e,n,r,{filter:a}={}){const o={limit:r,inputs:e};a!==void 0&&(o.filter=a),ut(n);const u=JSON.stringify(o);return(await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/datasets/${n}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:u});return await Ke(f,"fetch similar examples"),f})).json()).examples}async createExample(e,n,r){if(uv(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let a=n?r?.datasetId:e.dataset_id;const o=n?r?.datasetName:e.dataset_name;if(a===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:o})).id);const u=(n?r?.createdAt:e.created_at)||new Date;let c;uv(e)?c=e:c={inputs:e,outputs:n,created_at:u?.toISOString(),id:r?.exampleId,metadata:r?.metadata,split:r?.split,source_run_id:r?.sourceRunId,use_source_run_io:r?.useSourceRunIO,use_source_run_attachments:r?.useSourceRunAttachments,attachments:r?.attachments};const d=await this._uploadExamplesMultipart(a,[c]);return await this.readExample(d.example_ids?.[0]??hr())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const k=e;let C=k[0].dataset_id;const $=k[0].dataset_name;if(C===void 0&&$===void 0)throw new Error("Must provide either datasetName or datasetId");if(C!==void 0&&$!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");C===void 0&&(C=(await this.readDataset({datasetName:$})).id);const P=await this._uploadExamplesMultipart(C,k);return await Promise.all(P.example_ids.map(se=>this.readExample(se)))}const{inputs:n,outputs:r,metadata:a,splits:o,sourceRunIds:u,useSourceRunIOs:c,useSourceRunAttachments:d,attachments:f,exampleIds:p,datasetId:m,datasetName:b}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let E=m;const T=b;if(E===void 0&&T===void 0)throw new Error("Must provide either datasetName or datasetId");if(E!==void 0&&T!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");E===void 0&&(E=(await this.readDataset({datasetName:T})).id);const w=n.map((k,C)=>({dataset_id:E,inputs:k,outputs:r?.[C],metadata:a?.[C],split:o?.[C],id:p?.[C],attachments:f?.[C],source_run_id:u?.[C],use_source_run_io:c?.[C],use_source_run_attachments:d?.[C]})),A=await this._uploadExamplesMultipart(E,w);return await Promise.all(A.example_ids.map(k=>this.readExample(k)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const a=e.map(u=>cw(u)?dw(u):u),o=cw(n)?dw(n):n;return this.createExample({input:a},{output:o},r)}async readExample(e){ut(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:a,...o}=r,u=o;return a&&(u.attachments=Object.entries(a).reduce((c,[d,f])=>(c[d.slice(11)]={presigned_url:f.presigned_url,mime_type:f.mime_type},c),{})),u}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:a,splits:o,inlineS3Urls:u,metadata:c,limit:d,offset:f,filter:p,includeAttachments:m}={}){let b;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)b=e;else if(n!==void 0)b=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const E=new URLSearchParams({dataset:b}),T=a?typeof a=="string"?a:a?.toISOString():void 0;T&&E.append("as_of",T);const w=u??!0;if(E.append("inline_s3_urls",w.toString()),r!==void 0)for(const O of r)E.append("id",O);if(o!==void 0)for(const O of o)E.append("splits",O);if(c!==void 0){const O=JSON.stringify(c);E.append("metadata",O)}d!==void 0&&E.append("limit",d.toString()),f!==void 0&&E.append("offset",f.toString()),p!==void 0&&E.append("filter",p),m===!0&&["attachment_urls","outputs","metadata"].forEach(O=>E.append("select",O));let A=0;for await(const O of this._getPaginated("/examples",E)){for(const k of O){const{attachment_urls:C,...$}=k,P=$;C&&(P.attachments=Object.entries(C).reduce((M,[se,q])=>(M[se.slice(11)]={presigned_url:q.presigned_url,mime_type:q.mime_type||void 0},M),{})),yield P,A++}if(d!==void 0&&A>=d)break}}async deleteExample(e){ut(e);const n=`/examples/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(r,`delete ${n}`,!0),r})}async updateExample(e,n){let r;n?r=e:r=e.id,ut(r);let a;n?a={id:r,...n}:a=e;let o;return a.dataset_id!==void 0?o=a.dataset_id:o=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(o,[a])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:a}){let o;if(e?o=e:o=(await this.readDataset({datasetName:n})).id,ut(o),r&&a||!r&&!a)throw new Error("Exactly one of asOf and tag must be specified.");const u=new URLSearchParams;return r!==void 0&&u.append("as_of",typeof r=="string"?r:r.toISOString()),a!==void 0&&u.append("tag",a),await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/datasets/${o}/version?${u.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(d,"read dataset version"),d})).json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let a;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?a=(await this.readDataset({datasetName:n})).id:a=e,ut(a);const o=new URLSearchParams,u=r?typeof r=="string"?r:r?.toISOString():void 0;return u&&o.append("as_of",u),await this._get(`/datasets/${a}/splits`,o)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:a,remove:o=!1}){let u;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?u=(await this.readDataset({datasetName:n})).id:u=e,ut(u);const c={split_name:r,examples:a.map(f=>(ut(f),f)),remove:o},d=JSON.stringify(c);await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/datasets/${u}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:d});return await Ke(f,"update dataset splits",!0),f})}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:a,referenceExample:o}={loadChildRuns:!1}){KA("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let u;if(typeof e=="string")u=await this.readRun(e,{loadChildRuns:a});else if(typeof e=="object"&&"id"in e)u=e;else throw new Error(`Invalid run type: ${typeof e}`);u.reference_example_id!==null&&u.reference_example_id!==void 0&&(o=await this.readExample(u.reference_example_id));const c=await n.evaluateRun(u,o),[d,f]=await this._logEvaluationFeedback(c,u,r);return f[0]}async createFeedback(e,n,{score:r,value:a,correction:o,comment:u,sourceInfo:c,feedbackSourceType:d="api",sourceRunId:f,feedbackId:p,feedbackConfig:m,projectId:b,comparativeExperimentId:E}){if(!e&&!b)throw new Error("One of runId or projectId must be provided");if(e&&b)throw new Error("Only one of runId or projectId can be provided");const T={type:d??"api",metadata:c??{}};f!==void 0&&T?.metadata!==void 0&&!T.metadata.__run&&(T.metadata.__run={run_id:f}),T?.metadata!==void 0&&T.metadata.__run?.run_id!==void 0&&ut(T.metadata.__run.run_id);const w={id:p??hr(),run_id:e,key:n,score:sv(r),value:a,correction:o,comment:u,feedback_source:T,comparative_experiment_id:E,feedbackConfig:m,session_id:b},A=JSON.stringify(w),O=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const k=await this._fetch(O,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:A});return await Ke(k,"create feedback",!0),k}),w}async updateFeedback(e,{score:n,value:r,correction:a,comment:o}){const u={};n!=null&&(u.score=sv(n)),r!=null&&(u.value=r),a!=null&&(u.correction=a),o!=null&&(u.comment=o),ut(e);const c=JSON.stringify(u);await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Ke(d,"update feedback",!0),d})}async readFeedback(e){ut(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){ut(e);const n=`/feedback/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(r,`delete ${n}`,!0),r})}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const a=new URLSearchParams;if(e)for(const o of e)ut(o),a.append("run",o);if(n)for(const o of n)a.append("key",o);if(r)for(const o of r)a.append("source",o);for await(const o of this._getPaginated("/feedback",a))yield*o}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:a}={}){const o={run_id:e,feedback_key:n,feedback_config:a};r?typeof r=="string"?o.expires_at=r:(r?.hours||r?.minutes||r?.days)&&(o.expires_in=r):o.expires_in={hours:3};const u=JSON.stringify(o);return await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Ke(d,"create presigned feedback token"),d})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:a,description:o,metadata:u,id:c}){if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const d={id:c,name:e,experiment_ids:n,reference_dataset_id:r,description:o,created_at:(a??new Date)?.toISOString(),extra:{}};u&&(d.extra.metadata=u);const f=JSON.stringify(d);return(await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Ke(m,"create comparative experiment"),m})).json()}async*listPresignedFeedbackTokens(e){ut(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const a=this._selectEvalResults(e),o=[];for(const u of a){let c=r||{};u.evaluatorInfo&&(c={...u.evaluatorInfo,...c});let d=null;u.targetRunId?d=u.targetRunId:n&&(d=n.id),o.push(await this.createFeedback(d,u.key,{score:u.score,value:u.value,comment:u.comment,correction:u.correction,sourceInfo:c,sourceRunId:u.sourceRunId,feedbackConfig:u.feedbackConfig,feedbackSourceType:"model"}))}return[a,o]}async logEvaluationFeedback(e,n,r){const[a]=await this._logEvaluationFeedback(e,n,r);return a}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:a,limit:o}=e,u=new URLSearchParams;n&&n.forEach((d,f)=>{ut(d,`queueIds[${f}]`),u.append("ids",d)}),r&&u.append("name",r),a&&u.append("name_contains",a),u.append("limit",(o!==void 0?Math.min(o,100):100).toString());let c=0;for await(const d of this._getPaginated("/annotation-queues",u))if(yield*d,c++,o!==void 0&&c>=o)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:a,rubricInstructions:o}=e,u={name:n,description:r,id:a||hr(),rubric_instructions:o},c=JSON.stringify(Object.fromEntries(Object.entries(u).filter(([f,p])=>p!==void 0)));return(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Ke(f,"create annotation queue"),f})).json()}async readAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${ut(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(e,n){const{name:r,description:a,rubricInstructions:o}=n,u=JSON.stringify({name:r,description:a,rubric_instructions:o});await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/annotation-queues/${ut(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Ke(c,"update annotation queue",!0),c})}async deleteAnnotationQueue(e){await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/annotation-queues/${ut(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(n,"delete annotation queue",!0),n})}async addRunsToAnnotationQueue(e,n){const r=JSON.stringify(n.map((a,o)=>ut(a,`runIds[${o}]`).toString()));await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/annotation-queues/${ut(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Ke(a,"add runs to annotation queue",!0),a})}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${ut(e,"queueId")}/run`;return(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(o,"get run from annotation queue"),o})).json()}async deleteRunFromAnnotationQueue(e,n){await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${ut(e,"queueId")}/runs/${ut(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(r,"delete run from annotation queue",!0),r})}async getSizeFromAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${ut(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(a,"get latest commit hash"),a})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,a,o]=fs(e),u=JSON.stringify({like:n});return(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/likes/${r}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Ke(d,`${n?"like":"unlike"} prompt`),d})).json()}async _getPromptUrl(e){const[n,r,a]=fs(e);if(await this._currentTenantIsOwner(n)){const o=await this._getSettings();return a!=="latest"?`${this.getHostUrl()}/prompts/${r}/${a.substring(0,8)}?organizationId=${o.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${o.id}`}else return a!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${a.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",e?.sortField??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!e?.isArchived).toString()),e?.isPublic!==void 0&&n.append("is_public",e.isPublic.toString()),e?.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,a=>a.repos))yield*r}async getPrompt(e){const[n,r,a]=fs(e),u=await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return c?.status===404?null:(await Ke(c,"get prompt"),c)}))?.json();return u?.repo?u.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n?.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[a,o,u]=fs(e);if(!await this._currentTenantIsOwner(a))throw await this._ownerConflictError("create a prompt",a);const c={repo_handle:o,...n?.description&&{description:n.description},...n?.readme&&{readme:n.readme},...n?.tags&&{tags:n.tags},is_public:!!n?.isPublic},d=JSON.stringify(c),f=await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:d});return await Ke(m,"create prompt"),m}),{repo:p}=await f.json();return p}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[a,o,u]=fs(e),c=r?.parentCommitHash==="latest"||!r?.parentCommitHash?await this._getLatestCommitHash(`${a}/${o}`):r?.parentCommitHash,d={manifest:JSON.parse(JSON.stringify(n)),parent_commit:c},f=JSON.stringify(d),m=await(await this.caller.call(async()=>{const b=await this._fetch(`${this.apiUrl}/commits/${a}/${o}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Ke(b,"create commit"),b})).json();return this._getPromptUrl(`${a}/${o}${m.commit_hash?`:${m.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const u of n){const c=u.id,d={...u.metadata&&{metadata:u.metadata},...u.split&&{split:u.split}},f=Jr(d,`Serializing body for example with id: ${c}`),p=new Blob([f],{type:"application/json"});if(r.append(c,p),u.inputs){const m=Jr(u.inputs,`Serializing inputs for example with id: ${c}`),b=new Blob([m],{type:"application/json"});r.append(`${c}.inputs`,b)}if(u.outputs){const m=Jr(u.outputs,`Serializing outputs whle updating example with id: ${c}`),b=new Blob([m],{type:"application/json"});r.append(`${c}.outputs`,b)}if(u.attachments)for(const[m,b]of Object.entries(u.attachments)){let E,T;Array.isArray(b)?[E,T]=b:(E=b.mimeType,T=b.data);const w=new Blob([T],{type:`${E}; length=${T.byteLength}`});r.append(`${c}.attachment.${m}`,w)}if(u.attachments_operations){const m=Jr(u.attachments_operations,`Serializing attachments while updating example with id: ${c}`),b=new Blob([m],{type:"application/json"});r.append(`${c}.attachments_operations`,b)}}const a=e??n[0]?.dataset_id;return(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${a}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Ke(u,"update examples"),u})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const o of n){const u=(o.id??hr()).toString(),c={created_at:o.created_at,...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split},...o.source_run_id&&{source_run_id:o.source_run_id},...o.use_source_run_io&&{use_source_run_io:o.use_source_run_io},...o.use_source_run_attachments&&{use_source_run_attachments:o.use_source_run_attachments}},d=Jr(c,`Serializing body for uploaded example with id: ${u}`),f=new Blob([d],{type:"application/json"});if(r.append(u,f),o.inputs){const p=Jr(o.inputs,`Serializing inputs for uploaded example with id: ${u}`),m=new Blob([p],{type:"application/json"});r.append(`${u}.inputs`,m)}if(o.outputs){const p=Jr(o.outputs,`Serializing outputs for uploaded example with id: ${u}`),m=new Blob([p],{type:"application/json"});r.append(`${u}.outputs`,m)}if(o.attachments)for(const[p,m]of Object.entries(o.attachments)){let b,E;Array.isArray(m)?[b,E]=m:(b=m.mimeType,E=m.data);const T=new Blob([E],{type:`${b}; length=${E.byteLength}`});r.append(`${u}.attachment.${p}`,T)}}return(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${e}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Ke(o,"upload examples"),o})).json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,a]=fs(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const o={};if(n?.description!==void 0&&(o.description=n.description),n?.readme!==void 0&&(o.readme=n.readme),n?.tags!==void 0&&(o.tags=n.tags),n?.isPublic!==void 0&&(o.is_public=n.isPublic),n?.isArchived!==void 0&&(o.is_archived=n.isArchived),Object.keys(o).length===0)throw new Error("No valid update options provided");const u=JSON.stringify(o);return(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/repos/${r}/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Ke(d,"update prompt"),d})).json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,a]=fs(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(u,"delete prompt"),u})).json()}async pullPromptCommit(e,n){const[r,a,o]=fs(e),c=await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/commits/${r}/${a}/${o}${n?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ke(d,"pull prompt commit"),d})).json();return{owner:r,repo:a,commit_hash:c.commit_hash,manifest:c.manifest,examples:c.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n?.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(a=>a!=="object")&&await this.updatePrompt(e,{description:n?.description,readme:n?.readme,tags:n?.tags,isPublic:n?.isPublic}):await this.createPrompt(e,{description:n?.description,readme:n?.readme,tags:n?.tags,isPublic:n?.isPublic}),n?.object?await this.createCommit(e,n?.object,{parentCommitHash:n?.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:a}=n,[o,u]=this.parseTokenOrUrl(e,r),c=new wc({apiUrl:o,apiKey:"placeholder"}),d=await c.readSharedDataset(u),f=a||d.name;try{if(await this.hasDataset({datasetId:f})){console.log(`Dataset ${f} already exists in your tenant. Skipping.`);return}}catch{}const p=await c.listSharedExamples(u),m=await this.createDataset(f,{description:d.description,dataType:d.data_type||"kv",inputsSchema:d.inputs_schema_definition??void 0,outputsSchema:d.outputs_schema_definition??void 0});try{await this.createExamples({inputs:p.map(b=>b.inputs),outputs:p.flatMap(b=>b.outputs?[b.outputs]:[]),datasetId:m.id})}catch(b){throw console.error(`An error occurred while creating dataset ${f}. You should delete it manually.`),b}}parseTokenOrUrl(e,n,r=2,a="dataset"){try{return ut(e),[n,e]}catch{}try{const u=new URL(e).pathname.split("/").filter(c=>c!=="");if(u.length>=r){const c=u[u.length-r];return[n,c]}else throw new Error(`Invalid public ${a} URL: ${e}`)}catch{throw new Error(`Invalid public ${a} URL or token: ${e}`)}}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await SM()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}}function uv(t){return"dataset_id"in t||"dataset_name"in t}const vL=t=>!!["TRACING_V2","TRACING"].find(n=>$r(n)==="true"),Fg=Symbol.for("lc:context_variables");function SL(t){return t.replace(/[-:.]/g,"")}function tO(t,e,n=1){const r=n.toFixed(0).slice(0,3).padStart(3,"0"),a=`${new Date(t).toISOString().slice(0,-1)}${r}Z`;return{dottedOrder:SL(a)+e,microsecondPrecisionDatestring:a}}class jf{constructor(e,n,r,a){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r,this.replicas=a}static fromHeader(e){const n=e.split(",");let r={},a=[],o,u;for(const c of n){const[d,f]=c.split("="),p=decodeURIComponent(f);d==="langsmith-metadata"?r=JSON.parse(p):d==="langsmith-tags"?a=p.split(","):d==="langsmith-project"?o=p:d==="langsmith-replicas"&&(u=JSON.parse(p))}return new jf(r,a,o,u)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class Fr{constructor(e){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),AL(e)){Object.assign(this,{...e});return}const n=Fr.getDefaultConfig(),{metadata:r,...a}=e,o=a.client??Fr.getSharedClient(),u={...r,...a?.extra?.metadata};if(a.extra={...a.extra,metadata:u},Object.assign(this,{...n,...a,client:o}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=RL(this.replicas),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order){const{dottedOrder:c,microsecondPrecisionDatestring:d}=tO(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+c:this.dotted_order=c,this._serialized_start_time=d}}set metadata(e){this.extra={...this.extra,metadata:{...this.extra?.metadata,...e}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){return{id:hr(),run_type:"chain",project_name:HA(),child_runs:[],api_url:hi("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:hi("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return Fr.sharedClient||(Fr.sharedClient=new wc),Fr.sharedClient}createChild(e){const n=this.child_execution_order+1,r=new Fr({...e,parent_run:this,project_name:this.project_name,replicas:this.replicas,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});Fg in this&&(r[Fg]=this[Fg]);const a=Symbol.for("lc:child_config"),o=e.extra?.[a]??this.extra[a];if(NL(o)){const d={...o},f=OL(d.callbacks)?d.callbacks.copy?.():void 0;f&&(Object.assign(f,{_parentRunId:r.id}),f.handlers?.find(nO)?.updateFromRunTree?.(r),d.callbacks=f),r.extra[a]=d}const u=new Set;let c=this;for(;c!=null&&!u.has(c.id);)u.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,n),c=c.parent_run;return this.child_runs.push(r),r}async end(e,n,r=Date.now(),a){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,a&&Object.keys(a).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...a}}:{metadata:a})}_convertToCreate(e,n,r=!0){const a=e.extra??{};if(a?.runtime?.library===void 0&&(a.runtime||(a.runtime={}),n))for(const[c,d]of Object.entries(n))a.runtime[c]||(a.runtime[c]=d);let o,u;return r?(u=e.parent_run?.id??e.parent_run_id,o=[]):(o=e.child_runs.map(c=>this._convertToCreate(c,n,r)),u=void 0),{id:e.id,name:e.name,start_time:e._serialized_start_time??e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:a,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:o,parent_run_id:u,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_remapForProject(e,n,r=!0){const a=this._convertToCreate(this,n,r);if(e===this.project_name)return a;const o=m=>Z1(`${m}:${e}`,Z1.DNS),u=o(a.id),c=a.trace_id?o(a.trace_id):void 0,d=a.parent_run_id?o(a.parent_run_id):void 0;let f;if(a.dotted_order){const m=xL(a.dotted_order),b=[];for(let T=0;T<m.length-1;T++){const[w,A]=m[T],O=o(A);b.push(w.toISOString().replace(/[-:]/g,"").replace(".","")+O)}const[E]=m[m.length-1];b.push(E.toISOString().replace(/[-:]/g,"").replace(".","")+u),f=b.join(".")}else f=void 0;return{...a,id:u,trace_id:c,parent_run_id:d,dotted_order:f,session_name:e}}async postRun(e=!0){try{const n=GA();if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:a,apiUrl:o,workspaceId:u}of this.replicas){const c=this._remapForProject(r??this.project_name,n,!0);await this.client.createRun(c,{apiKey:a,apiUrl:o,workspaceId:u})}else{const r=this._convertToCreate(this,n,e);await this.client.createRun(r)}if(!e){KA("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(e){if(this.replicas&&this.replicas.length>0)for(const{projectName:n,apiKey:r,apiUrl:a,workspaceId:o,updates:u}of this.replicas){const c=this._remapForProject(n??this.project_name),d={id:c.id,outputs:c.outputs,error:c.error,parent_run_id:c.parent_run_id,session_name:c.session_name,reference_example_id:c.reference_example_id,end_time:c.end_time,dotted_order:c.dotted_order,trace_id:c.trace_id,events:c.events,tags:c.tags,extra:c.extra,attachments:this.attachments,...u};e?.excludeInputs||(d.inputs=c.inputs),await this.client.updateRun(c.id,d,{apiKey:r,apiUrl:a,workspaceId:o})}else try{const n={end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};e?.excludeInputs||(n.inputs=this.inputs),await this.client.updateRun(this.id,n)}catch(n){console.error(`Error in patchRun for run ${this.id}`,n)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){const r=e?.callbacks;let a,o,u,c=vL();if(r){const f=r?.getParentRunId?.()??"",p=r?.handlers?.find(m=>m?.name=="langchain_tracer");a=p?.getRun?.(f),o=p?.projectName,u=p?.client,c=c||!!p}return a?new Fr({name:a.name,id:a.id,trace_id:a.trace_id,dotted_order:a.dotted_order,client:u,tracingEnabled:c,project_name:o,tags:[...new Set((a?.tags??[]).concat(e?.tags??[]))],extra:{metadata:{...a?.extra?.metadata,...e?.metadata}}}).createChild(n):new Fr({...n,client:u,tracingEnabled:c,project_name:o})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,a=r["langsmith-trace"];if(!a||typeof a!="string")return;const o=a.trim(),u=o.split(".").map(f=>{const[p,m]=f.split("Z");return{strTime:p,time:Date.parse(p+"Z"),uuid:m}}),c=u[0].uuid,d={...n,name:n?.name??"parent",run_type:n?.run_type??"chain",start_time:n?.start_time??Date.now(),id:u.at(-1)?.uuid,trace_id:c,dotted_order:o};if(r.baggage&&typeof r.baggage=="string"){const f=jf.fromHeader(r.baggage);d.metadata=f.metadata,d.tags=f.tags,d.project_name=f.project_name,d.replicas=f.replicas}return new Fr(d)}toHeaders(e){const n={"langsmith-trace":this.dotted_order,baggage:new jf(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(const[r,a]of Object.entries(n))e.set(r,a);return n}}Object.defineProperty(Fr,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function AL(t){return t!=null&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function nO(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function lv(t){return Array.isArray(t)&&t.some(e=>nO(e))}function OL(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function NL(t){return t!=null&&typeof t.callbacks=="object"&&(lv(t.callbacks?.handlers)||lv(t.callbacks))}function xL(t){return t.split(".").map(n=>{const r=n.slice(0,-36),a=n.slice(-36),o=parseInt(r.slice(0,4)),u=parseInt(r.slice(4,6))-1,c=parseInt(r.slice(6,8)),d=parseInt(r.slice(9,11)),f=parseInt(r.slice(11,13)),p=parseInt(r.slice(13,15)),m=parseInt(r.slice(15,21));return[new Date(o,u,c,d,f,p,m/1e3),a]})}function CL(){const t=hi("LANGSMITH_RUNS_ENDPOINTS");if(!t)return[];try{const e=JSON.parse(t);if(Array.isArray(e)){const n=[];for(const r of e){if(typeof r!="object"||r===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof r}`);continue}if(typeof r.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_url}`);continue}if(typeof r.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_key}`);continue}n.push({apiUrl:r.api_url.replace(/\/$/,""),apiKey:r.api_key})}return n}else if(typeof e=="object"&&e!==null){kL(e);const n=[];for(const[r,a]of Object.entries(e)){const o=r.replace(/\/$/,"");if(typeof a=="string")n.push({apiUrl:o,apiKey:a});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${r}: expected string, got ${typeof a}`);continue}}return n}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof e}`),[]}catch(e){if(cL(e))throw e;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function RL(t){return t?t.map(e=>Array.isArray(e)?{projectName:e[0],updates:e[1]}:e):CL()}function kL(t){if(Object.keys(t).length>0&&$r("ENDPOINT"))throw new lL}var IL={};const ML=()=>typeof window<"u"&&typeof window.document<"u",LL=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",DL=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),q0=()=>typeof Deno<"u",PL=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!q0(),UL=()=>{let t;return ML()?t="browser":PL()?t="node":LL()?t="webworker":DL()?t="jsdom":q0()?t="deno":t="other",t};let $g;function BL(){return $g===void 0&&($g={library:"langchain-js",runtime:UL()}),$g}function ou(t){try{return typeof process<"u"?IL?.[t]:q0()?Deno?.env.get(t):void 0}catch{return}}class FL{}function $L(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}class Lc extends FL{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,MA(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:ou("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return fi.prototype.toJSON.call(this)}toJSONNotImplemented(){return fi.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends Lc{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:hr()}),Object.assign(this,e)}}return new n}}const HL=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"},zL=t=>{if(t)return t.events=t.events??[],t.child_runs=t.child_runs??[],t};function Vb(t,e){if(t)return new Fr({...t,start_time:t._serialized_start_time??t.start_time,parent_run:Vb(e),child_runs:t.child_runs.map(n=>Vb(n)).filter(n=>n!==void 0),extra:{...t.extra,runtime:BL()},tracingEnabled:!1})}function Hg(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function Ul(t){return typeof t._addRunToRunMap=="function"}class Dc extends Lc{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"runTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"usesRunTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:!1})}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?zL(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:r}=tO(new Date(e.start_time).getTime(),e.id,e.execution_order),a={...e},o=this.getRunById(a.parent_run_id);if(a.parent_run_id!==void 0?o&&(this._addChildRun(o,a),o.child_execution_order=Math.max(o.child_execution_order,a.child_execution_order),a.trace_id=o.trace_id,o.dotted_order!==void 0&&(a.dotted_order=[o.dotted_order,n].join("."),a._serialized_start_time=r)):(a.trace_id=a.id,a.dotted_order=n,a._serialized_start_time=r),this.usesRunTreeMap){const u=Vb(a,o);u!==void 0&&this.runTreeMap.set(a.id,u)}else this.runMap.set(a.id,a);return a}async _endTrace(e){const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await this.onRunUpdate?.(e),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,a,o,u,c,d){const f=this._getExecutionOrder(a),p=Date.now(),m=c?{...o,metadata:c}:o,b={id:r,name:d??e.id[e.id.length-1],parent_run_id:a,start_time:p,serialized:e,events:[{name:"start",time:new Date(p).toISOString()}],inputs:{prompts:n},execution_order:f,child_runs:[],child_execution_order:f,run_type:"llm",extra:m??{},tags:u||[]};return this._addRunToRunMap(b)}async handleLLMStart(e,n,r,a,o,u,c,d){const f=this.getRunById(r)??this._createRunForLLMStart(e,n,r,a,o,u,c,d);return await this.onRunCreate?.(f),await this.onLLMStart?.(f),f}_createRunForChatModelStart(e,n,r,a,o,u,c,d){const f=this._getExecutionOrder(a),p=Date.now(),m=c?{...o,metadata:c}:o,b={id:r,name:d??e.id[e.id.length-1],parent_run_id:a,start_time:p,serialized:e,events:[{name:"start",time:new Date(p).toISOString()}],inputs:{messages:n},execution_order:f,child_runs:[],child_execution_order:f,run_type:"llm",extra:m??{},tags:u||[]};return this._addRunToRunMap(b)}async handleChatModelStart(e,n,r,a,o,u,c,d){const f=this.getRunById(r)??this._createRunForChatModelStart(e,n,r,a,o,u,c,d);return await this.onRunCreate?.(f),await this.onLLMStart?.(f),f}async handleLLMEnd(e,n,r,a,o){const u=this.getRunById(n);if(!u||u?.run_type!=="llm")throw new Error("No LLM run to end.");return u.end_time=Date.now(),u.outputs=e,u.events.push({name:"end",time:new Date(u.end_time).toISOString()}),u.extra={...u.extra,...o},await this.onLLMEnd?.(u),await this._endTrace(u),u}async handleLLMError(e,n,r,a,o){const u=this.getRunById(n);if(!u||u?.run_type!=="llm")throw new Error("No LLM run to end.");return u.end_time=Date.now(),u.error=this.stringifyError(e),u.events.push({name:"error",time:new Date(u.end_time).toISOString()}),u.extra={...u.extra,...o},await this.onLLMError?.(u),await this._endTrace(u),u}_createRunForChainStart(e,n,r,a,o,u,c,d){const f=this._getExecutionOrder(a),p=Date.now(),m={id:r,name:d??e.id[e.id.length-1],parent_run_id:a,start_time:p,serialized:e,events:[{name:"start",time:new Date(p).toISOString()}],inputs:n,execution_order:f,child_execution_order:f,run_type:c??"chain",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(m)}async handleChainStart(e,n,r,a,o,u,c,d){const f=this.getRunById(r)??this._createRunForChainStart(e,n,r,a,o,u,c,d);return await this.onRunCreate?.(f),await this.onChainStart?.(f),f}async handleChainEnd(e,n,r,a,o){const u=this.getRunById(n);if(!u)throw new Error("No chain run to end.");return u.end_time=Date.now(),u.outputs=Hg(e,"output"),u.events.push({name:"end",time:new Date(u.end_time).toISOString()}),o?.inputs!==void 0&&(u.inputs=Hg(o.inputs,"input")),await this.onChainEnd?.(u),await this._endTrace(u),u}async handleChainError(e,n,r,a,o){const u=this.getRunById(n);if(!u)throw new Error("No chain run to end.");return u.end_time=Date.now(),u.error=this.stringifyError(e),u.events.push({name:"error",time:new Date(u.end_time).toISOString()}),o?.inputs!==void 0&&(u.inputs=Hg(o.inputs,"input")),await this.onChainError?.(u),await this._endTrace(u),u}_createRunForToolStart(e,n,r,a,o,u,c){const d=this._getExecutionOrder(a),f=Date.now(),p={id:r,name:c??e.id[e.id.length-1],parent_run_id:a,start_time:f,serialized:e,events:[{name:"start",time:new Date(f).toISOString()}],inputs:{input:n},execution_order:d,child_execution_order:d,run_type:"tool",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(p)}async handleToolStart(e,n,r,a,o,u,c){const d=this.getRunById(r)??this._createRunForToolStart(e,n,r,a,o,u,c);return await this.onRunCreate?.(d),await this.onToolStart?.(d),d}async handleToolEnd(e,n){const r=this.getRunById(n);if(!r||r?.run_type!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onToolEnd?.(r),await this._endTrace(r),r}async handleToolError(e,n){const r=this.getRunById(n);if(!r||r?.run_type!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onToolError?.(r),await this._endTrace(r),r}async handleAgentAction(e,n){const r=this.getRunById(n);if(!r||r?.run_type!=="chain")return;const a=r;a.actions=a.actions||[],a.actions.push(e),a.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(r)}async handleAgentEnd(e,n){const r=this.getRunById(n);!r||r?.run_type!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(r))}_createRunForRetrieverStart(e,n,r,a,o,u,c){const d=this._getExecutionOrder(a),f=Date.now(),p={id:r,name:c??e.id[e.id.length-1],parent_run_id:a,start_time:f,serialized:e,events:[{name:"start",time:new Date(f).toISOString()}],inputs:{query:n},execution_order:d,child_execution_order:d,run_type:"retriever",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(p)}async handleRetrieverStart(e,n,r,a,o,u,c){const d=this.getRunById(r)??this._createRunForRetrieverStart(e,n,r,a,o,u,c);return await this.onRunCreate?.(d),await this.onRetrieverStart?.(d),d}async handleRetrieverEnd(e,n){const r=this.getRunById(n);if(!r||r?.run_type!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onRetrieverEnd?.(r),await this._endTrace(r),r}async handleRetrieverError(e,n){const r=this.getRunById(n);if(!r||r?.run_type!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onRetrieverError?.(r),await this._endTrace(r),r}async handleText(e,n){const r=this.getRunById(n);!r||r?.run_type!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(r))}async handleLLMNewToken(e,n,r,a,o,u){const c=this.getRunById(r);if(!c||c?.run_type!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return c.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:u?.chunk}}),await this.onLLMNewToken?.(c,e,{chunk:u?.chunk}),c}}var Of={exports:{}};Of.exports;var cv;function jL(){return cv||(cv=1,(function(t){const n=(o=0)=>u=>`\x1B[${38+o};5;${u}m`,r=(o=0)=>(u,c,d)=>`\x1B[${38+o};2;${u};${c};${d}m`;function a(){const o=new Map,u={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};u.color.gray=u.color.blackBright,u.bgColor.bgGray=u.bgColor.bgBlackBright,u.color.grey=u.color.blackBright,u.bgColor.bgGrey=u.bgColor.bgBlackBright;for(const[c,d]of Object.entries(u)){for(const[f,p]of Object.entries(d))u[f]={open:`\x1B[${p[0]}m`,close:`\x1B[${p[1]}m`},d[f]=u[f],o.set(p[0],p[1]);Object.defineProperty(u,c,{value:d,enumerable:!1})}return Object.defineProperty(u,"codes",{value:o,enumerable:!1}),u.color.close="\x1B[39m",u.bgColor.close="\x1B[49m",u.color.ansi256=n(),u.color.ansi16m=r(),u.bgColor.ansi256=n(10),u.bgColor.ansi16m=r(10),Object.defineProperties(u,{rgbToAnsi256:{value:(c,d,f)=>c===d&&d===f?c<8?16:c>248?231:Math.round((c-8)/247*24)+232:16+36*Math.round(c/255*5)+6*Math.round(d/255*5)+Math.round(f/255*5),enumerable:!1},hexToRgb:{value:c=>{const d=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(c.toString(16));if(!d)return[0,0,0];let{colorString:f}=d.groups;f.length===3&&(f=f.split("").map(m=>m+m).join(""));const p=Number.parseInt(f,16);return[p>>16&255,p>>8&255,p&255]},enumerable:!1},hexToAnsi256:{value:c=>u.rgbToAnsi256(...u.hexToRgb(c)),enumerable:!1}}),u}Object.defineProperty(t,"exports",{enumerable:!0,get:a})})(Of)),Of.exports}var qL=jL();const rO=Is(qL);function Er(t,e){return`${t.open}${e}${t.close}`}function ga(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function dv(t){return typeof t=="string"?t.trim():t==null?t:ga(t,t.toString())}function hs(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:Pr}=rO;class fv extends Dc{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const a=this.runMap.get(r.parent_run_id);if(a)n.push(a),r=a;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((a,o,u)=>{const c=`${a.execution_order}:${a.run_type}:${a.name}`;return o===u.length-1?Er(rO.bold,c):c}).join(" > ");return Er(Pr.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.green,"[chain/start]")} [${n}] Entering Chain run with input: ${ga(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.cyan,"[chain/end]")} [${n}] [${hs(e)}] Exiting Chain run with output: ${ga(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.red,"[chain/error]")} [${n}] [${hs(e)}] Chain run errored with error: ${ga(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(a=>a.trim())}:e.inputs;console.log(`${Er(Pr.green,"[llm/start]")} [${n}] Entering LLM run with input: ${ga(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.cyan,"[llm/end]")} [${n}] [${hs(e)}] Exiting LLM run with output: ${ga(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.red,"[llm/error]")} [${n}] [${hs(e)}] LLM run errored with error: ${ga(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.green,"[tool/start]")} [${n}] Entering Tool run with input: "${dv(e.inputs.input)}"`)}onToolEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.cyan,"[tool/end]")} [${n}] [${hs(e)}] Exiting Tool run with output: "${dv(e.outputs?.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.red,"[tool/error]")} [${n}] [${hs(e)}] Tool run errored with error: ${ga(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${ga(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.cyan,"[retriever/end]")} [${n}] [${hs(e)}] Exiting Retriever run with output: ${ga(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${Er(Pr.red,"[retriever/error]")} [${n}] [${hs(e)}] Retriever run errored with error: ${ga(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${Er(Pr.blue,"[agent/action]")} [${r}] Agent selected action: ${ga(n.actions[n.actions.length-1],"[action]")}`)}}let zg;const GL=()=>{if(zg===void 0){const t=ou("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};zg=new wc(t)}return zg};class ac extends Dc{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"usesRunTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:!0});const{exampleId:n,projectName:r,client:a,replicas:o}=e;this.projectName=r??HA(),this.replicas=o,this.exampleId=n,this.client=a??GL();const u=ac.getTraceableRunTree();u&&this.updateFromRunTree(u)}async persistRun(e){}async onRunCreate(e){await this.getRunTreeWithTracingConfig(e.id)?.postRun()}async onRunUpdate(e){await this.getRunTreeWithTracingConfig(e.id)?.patchRun()}getRun(e){return this.runTreeMap.get(e)}updateFromRunTree(e){this.runTreeMap.set(e.id,e);let n=e;const r=new Set;for(;n.parent_run&&!(r.has(n.id)||(r.add(n.id),!n.parent_run));)n=n.parent_run;r.clear();const a=[n];for(;a.length>0;){const o=a.shift();!o||r.has(o.id)||(r.add(o.id),this.runTreeMap.set(o.id,o),o.child_runs&&a.push(...o.child_runs))}this.client=e.client??this.client,this.replicas=e.replicas??this.replicas,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(e){const n=this.runTreeMap.get(e);if(n)return new Fr({...n,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return OI(!0)}catch{return}}}const aO=Symbol.for("ls:tracing_async_local_storage"),Nf=Symbol.for("lc:context_variables"),YL=t=>{globalThis[aO]=t},vc=()=>globalThis[aO];let ic;function VL(){const t="default"in Pi?Pi.default:Pi;return new t({autoStart:!0,concurrency:1})}function KL(){return typeof ic>"u"&&(ic=VL()),ic}async function Fn(t,e){if(e===!0){const n=vc();n!==void 0?await n.run(void 0,async()=>t()):await t()}else ic=KL(),ic.add(async()=>{const n=vc();n!==void 0?await n.run(void 0,async()=>t()):await t()})}const ZL=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>ou(n)==="true");function iO(t){const e=vc();return e===void 0?void 0:e.getStore()?.[Nf]?.[t]}const XL=Symbol("lc:configure_hooks"),QL=()=>iO(XL)||[];function hh(t){return t?Array.isArray(t)||"name"in t?{callbacks:t}:t:{}}class WL{setHandler(e){return this.setHandlers([e])}}class ph{constructor(e,n,r,a,o,u,c,d){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:d})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>Fn(async()=>{try{await n.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}async handleCustomEvent(e,n,r,a,o){await Promise.all(this.handlers.map(u=>Fn(async()=>{try{await u.handleCustomEvent?.(e,n,this.runId,this.tags,this.metadata)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleCustomEvent: ${c}`),u.raiseError)throw c}},u.awaitHandlers)))}}class JL extends ph{getChild(e){const n=new ir(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>Fn(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw r}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>Fn(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${r}`),n.raiseError)throw e}},n.awaitHandlers)))}}class hv extends ph{async handleLLMNewToken(e,n,r,a,o,u){await Promise.all(this.handlers.map(c=>Fn(async()=>{if(!c.ignoreLLM)try{await c.handleLLMNewToken?.(e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,u)}catch(d){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleLLMNewToken: ${d}`),c.raiseError)throw d}},c.awaitHandlers)))}async handleLLMError(e,n,r,a,o){await Promise.all(this.handlers.map(u=>Fn(async()=>{if(!u.ignoreLLM)try{await u.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,o)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleLLMError: ${c}`),u.raiseError)throw c}},u.awaitHandlers)))}async handleLLMEnd(e,n,r,a,o){await Promise.all(this.handlers.map(u=>Fn(async()=>{if(!u.ignoreLLM)try{await u.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,o)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleLLMEnd: ${c}`),u.raiseError)throw c}},u.awaitHandlers)))}}class eD extends ph{getChild(e){const n=new ir(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,a,o){await Promise.all(this.handlers.map(u=>Fn(async()=>{if(!u.ignoreChain)try{await u.handleChainError?.(e,this.runId,this._parentRunId,this.tags,o)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainError: ${c}`),u.raiseError)throw c}},u.awaitHandlers)))}async handleChainEnd(e,n,r,a,o){await Promise.all(this.handlers.map(u=>Fn(async()=>{if(!u.ignoreChain)try{await u.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,o)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainEnd: ${c}`),u.raiseError)throw c}},u.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>Fn(async()=>{if(!n.ignoreAgent)try{await n.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>Fn(async()=>{if(!n.ignoreAgent)try{await n.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}}class tD extends ph{getChild(e){const n=new ir(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>Fn(async()=>{if(!n.ignoreAgent)try{await n.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>Fn(async()=>{if(!n.ignoreAgent)try{await n.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}}class ir extends WL{constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=n?.handlers??this.handlers,this.inheritableHandlers=n?.inheritableHandlers??this.inheritableHandlers,this.tags=n?.tags??this.tags,this.inheritableTags=n?.inheritableTags??this.inheritableTags,this.metadata=n?.metadata??this.metadata,this.inheritableMetadata=n?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,a=void 0,o=void 0,u=void 0,c=void 0,d=void 0){return Promise.all(n.map(async(f,p)=>{const m=p===0&&r?r:hr();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return Ul(b)&&b._createRunForLLMStart(e,[f],m,this._parentRunId,o,this.tags,this.metadata,d),Fn(async()=>{try{await b.handleLLMStart?.(e,[f],m,this._parentRunId,o,this.tags,this.metadata,d)}catch(E){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${E}`),b.raiseError)throw E}},b.awaitHandlers)})),new hv(m,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,a=void 0,o=void 0,u=void 0,c=void 0,d=void 0){return Promise.all(n.map(async(f,p)=>{const m=p===0&&r?r:hr();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return Ul(b)&&b._createRunForChatModelStart(e,[f],m,this._parentRunId,o,this.tags,this.metadata,d),Fn(async()=>{try{if(b.handleChatModelStart)await b.handleChatModelStart?.(e,[f],m,this._parentRunId,o,this.tags,this.metadata,d);else if(b.handleLLMStart){const E=LA(f);await b.handleLLMStart?.(e,[E],m,this._parentRunId,o,this.tags,this.metadata,d)}}catch(E){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${E}`),b.raiseError)throw E}},b.awaitHandlers)})),new hv(m,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=hr(),a=void 0,o=void 0,u=void 0,c=void 0){return await Promise.all(this.handlers.map(d=>{if(!d.ignoreChain)return Ul(d)&&d._createRunForChainStart(e,n,r,this._parentRunId,this.tags,this.metadata,a,c),Fn(async()=>{try{await d.handleChainStart?.(e,n,r,this._parentRunId,this.tags,this.metadata,a,c)}catch(f){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleChainStart: ${f}`),d.raiseError)throw f}},d.awaitHandlers)})),new eD(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=hr(),a=void 0,o=void 0,u=void 0,c=void 0){return await Promise.all(this.handlers.map(d=>{if(!d.ignoreAgent)return Ul(d)&&d._createRunForToolStart(e,n,r,this._parentRunId,this.tags,this.metadata,c),Fn(async()=>{try{await d.handleToolStart?.(e,n,r,this._parentRunId,this.tags,this.metadata,c)}catch(f){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleToolStart: ${f}`),d.raiseError)throw f}},d.awaitHandlers)})),new tD(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=hr(),a=void 0,o=void 0,u=void 0,c=void 0){return await Promise.all(this.handlers.map(d=>{if(!d.ignoreRetriever)return Ul(d)&&d._createRunForRetrieverStart(e,n,r,this._parentRunId,this.tags,this.metadata,c),Fn(async()=>{try{await d.handleRetrieverStart?.(e,n,r,this._parentRunId,this.tags,this.metadata,c)}catch(f){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleRetrieverStart: ${f}`),d.raiseError)throw f}},d.awaitHandlers)})),new JL(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,n,r,a,o){await Promise.all(this.handlers.map(u=>Fn(async()=>{if(!u.ignoreCustomEvent)try{await u.handleCustomEvent?.(e,n,r,this.tags,this.metadata)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleCustomEvent: ${c}`),u.raiseError)throw c}},u.awaitHandlers)))}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new ir(this._parentRunId);for(const a of this.handlers){const o=this.inheritableHandlers.includes(a);r.addHandler(a,o)}for(const a of this.tags){const o=this.inheritableTags.includes(a);r.addTags([a],o)}for(const a of Object.keys(this.metadata)){const o=Object.keys(this.inheritableMetadata).includes(a);r.addMetadata({[a]:this.metadata[a]},o)}for(const a of e)r.handlers.filter(o=>o.name==="console_callback_handler").some(o=>o.name===a.name)||r.addHandler(a,n);return r}static fromHandlers(e){class n extends Lc{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:hr()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static configure(e,n,r,a,o,u,c){return this._configureSync(e,n,r,a,o,u,c)}static _configureSync(e,n,r,a,o,u,c){let d;(e||n)&&(Array.isArray(e)||!e?(d=new ir,d.setHandlers(e?.map(qf)??[],!0)):d=e,d=d.copy(Array.isArray(n)?n.map(qf):n?.handlers,!1));const f=ou("LANGCHAIN_VERBOSE")==="true"||c?.verbose,p=ac.getTraceableRunTree()?.tracingEnabled||ZL(),m=p||(ou("LANGCHAIN_TRACING")??!1);if(f||m){if(d||(d=new ir),f&&!d.handlers.some(b=>b.name===fv.prototype.name)){const b=new fv;d.addHandler(b,!0)}if(m&&!d.handlers.some(b=>b.name==="langchain_tracer")&&p){const b=new ac;d.addHandler(b,!0)}if(p){const b=ac.getTraceableRunTree();b&&d._parentRunId===void 0&&(d._parentRunId=b.id,d.handlers.find(T=>T.name==="langchain_tracer")?.updateFromRunTree(b))}}for(const{contextVar:b,inheritable:E=!0,handlerClass:T,envVar:w}of QL()){const A=w&&ou(w)==="true"&&T;let O;const k=b!==void 0?iO(b):void 0;k&&HL(k)?O=k:A&&(O=new T({})),O!==void 0&&(d||(d=new ir),d.handlers.some(C=>C.name===O.name)||d.addHandler(O,E))}return(r||a)&&d&&(d.addTags(r??[]),d.addTags(a??[],!1)),(o||u)&&d&&(d.addMetadata(o??{}),d.addMetadata(u??{},!1)),d}}function qf(t){return"name"in t?t:Lc.fromMethods(t)}class nD{getStore(){}run(e,n){return n()}enterWith(e){}}const rD=new nD,pv=Symbol.for("lc:child_config");class aD{getInstance(){return vc()??rD}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[pv]}runWithConfig(e,n,r){const a=ir._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),o=this.getInstance(),u=o.getStore(),c=a?.getParentRunId(),d=a?.handlers?.find(p=>p?.name==="langchain_tracer");let f;return d&&c?f=d.getRunTreeWithTracingConfig(c):r||(f=new Fr({name:"<runnable_lambda>",tracingEnabled:!1})),f&&(f.extra={...f.extra,[pv]:e}),u!==void 0&&u[Nf]!==void 0&&(f===void 0&&(f={}),f[Nf]=u[Nf]),o.run(f,n)}initializeGlobalInstance(e){vc()===void 0&&YL(e)}}const pi=new aD,jg=25;async function Ba(t){return ir._configureSync(t?.callbacks,void 0,t?.tags,void 0,t?.metadata)}function Kb(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const a=e[r]??[];e[r]=[...new Set(a.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const a=e.callbacks,o=n.callbacks;if(Array.isArray(o))if(!a)e.callbacks=o;else if(Array.isArray(a))e.callbacks=a.concat(o);else{const u=a.copy();for(const c of o)u.addHandler(qf(c),!0);e.callbacks=u}else if(o)if(!a)e.callbacks=o;else if(Array.isArray(a)){const u=o.copy();for(const c of a)u.addHandler(qf(c),!0);e.callbacks=u}else e.callbacks=new ir(o._parentRunId,{handlers:a.handlers.concat(o.handlers),inheritableHandlers:a.inheritableHandlers.concat(o.inheritableHandlers),tags:Array.from(new Set(a.tags.concat(o.tags))),inheritableTags:Array.from(new Set(a.inheritableTags.concat(o.inheritableTags))),metadata:{...a.metadata,...o.metadata}})}else{const a=r;e[a]=n[a]??e[a]}return e}const iD=new Set(["string","number","boolean"]);function kt(t){const e=pi.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:r,runName:a,...o}=e;n=Object.entries(o).reduce((u,[c,d])=>(d!==void 0&&(u[c]=d),u),n)}if(t&&(n=Object.entries(t).reduce((r,[a,o])=>(o!==void 0&&(r[a]=o),r),n)),n?.configurable)for(const r of Object.keys(n.configurable))iD.has(typeof n.configurable[r])&&!n.metadata?.[r]&&(n.metadata||(n.metadata={}),n.metadata[r]=n.configurable[r]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const r=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,r])):n.signal=r,delete n.timeout}return n}function Sn(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:a,configurable:o,runId:u}={}){const c=kt(t);return e!==void 0&&(delete c.runName,c.callbacks=e),r!==void 0&&(c.recursionLimit=r),n!==void 0&&(c.maxConcurrency=n),a!==void 0&&(c.runName=a),o!==void 0&&(c.configurable={...c.configurable,...o}),u!==void 0&&delete c.runId,c}function Rs(t){return t?{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal}:void 0}async function ks(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!e?.aborted)throw r}),new Promise((r,a)=>{n=()=>{a(new Error("Aborted"))},e.addEventListener("abort",n),e.aborted&&a(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",n))}class aa extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const n=e.getReader();return new aa({start(r){return a();function a(){return n.read().then(({done:o,value:u})=>{if(o){r.close();return}return r.enqueue(u),a()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new aa({async pull(n){const{value:r,done:a}=await e.next();a&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function sO(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(a){for(;;)if(a.length===0){const o=await t.next();for(const u of n)u.push(o)}else{if(a[0].done)return;yield a.shift().value}})}function Pc(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,a]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=Pc(n[r],a):n[r]=a;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}class Ou{constructor(e){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((n,r)=>{pi.runWithConfig(Rs(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(n,r):this.firstResult.then(a=>n(void 0),r)},!0)})}async next(...e){return this.signal?.throwIfAborted(),this.firstResultUsed?pi.runWithConfig(Rs(this.config),this.signal?async()=>ks(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}async function sD(t,e,n,r,...a){const o=new Ou({generator:e,startSetup:n,signal:r}),u=await o.setup;return{output:t(o,u,...a),setup:u}}class _s{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=$f({},n);return new Sc({ops:n,state:r[r.length-1].newDocument})}}class Sc extends _s{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=$f(this.state,e.ops);return new Sc({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=$f({},e.ops);return new Sc({ops:e.ops,state:n[n.length-1].newDocument})}}const oD=t=>t.name==="log_stream_tracer";async function mv(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&n?.input===""))return n.input}async function gv(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&n?.output!==void 0?n.output:n}function uD(t){return t!==void 0&&t.message!==void 0}class bv extends Dc{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=aa.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(a=>this.includeTags?.includes(a))!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(a=>!this.excludeTags?.includes(a))),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const a=this.keyMapByRunId[e];a&&await this.writer.write(new _s({ops:[{op:"add",path:`/logs/${a}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new _s({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await mv(e,this._schemaFormat)),await this.writer.write(new _s({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await mv(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await gv(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const a=new _s({ops:r});await this.writer.write(a)}finally{if(e.id===this.rootId){const n=new _s({ops:[{op:"replace",path:"/final_output",value:await gv(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const a=this.keyMapByRunId[e.id];if(a===void 0)return;const o=e.inputs.messages!==void 0;let u;o?uD(r?.chunk)?u=r?.chunk:u=new ho({id:`run-${e.id}`,content:n}):u=n;const c=new _s({ops:[{op:"add",path:`/logs/${a}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${a}/streamed_output/-`,value:u}]});await this.writer.write(c)}}const Zb="__run";class mu{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new mu({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class gu extends mu{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new gu({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function df({name:t,serialized:e}){return t!==void 0?t:e?.name!==void 0?e.name:e?.id!==void 0&&Array.isArray(e?.id)?e.id[e.id.length-1]:"Unnamed"}const lD=t=>t.name==="event_stream_tracer";class cD extends Dc{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=aa.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(a=>this.includeTags?.includes(a))!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(a=>!this.excludeTags?.includes(a))),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const a=this.runInfoMap.get(e);if(a===void 0){yield r.value;return}function o(c,d){return c==="llm"&&typeof d=="string"?new mu({text:d}):d}let u=this.tappedPromises.get(e);if(u===void 0){let c;u=new Promise(d=>{c=d}),this.tappedPromises.set(e,u);try{const d={event:`on_${a.runType}_stream`,run_id:e,name:a.name,tags:a.tags,metadata:a.metadata,data:{}};await this.send({...d,data:{chunk:o(a.runType,r.value)}},a),yield r.value;for await(const f of n)a.runType!=="tool"&&a.runType!=="retriever"&&await this.send({...d,data:{chunk:o(a.runType,f)}},a),yield f}finally{c()}}else{yield r.value;for await(const c of n)yield c}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){const n=df(e),r=e.inputs.messages!==void 0?"chat_model":"llm",a={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,a);const o=`on_${r}_start`;await this.send({event:o,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},a)}async onLLMNewToken(e,n,r){const a=this.runInfoMap.get(e.id);let o,u;if(a===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(a.runType==="chat_model")u="on_chat_model_stream",r?.chunk===void 0?o=new ho({content:n,id:`run-${e.id}`}):o=r.chunk.message;else if(a.runType==="llm")u="on_llm_stream",r?.chunk===void 0?o=new mu({text:n}):o=r.chunk;else throw new Error(`Unexpected run type ${a.runType}`);await this.send({event:u,data:{chunk:o},run_id:e.id,name:a.name,tags:a.tags,metadata:a.metadata},a)}}async onLLMEnd(e){const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const a=e.outputs?.generations;let o;if(n.runType==="chat_model"){for(const u of a??[]){if(o!==void 0)break;o=u[0]?.message}r="on_chat_model_end"}else if(n.runType==="llm")o={generations:a?.map(u=>u.map(c=>({text:c.text,generationInfo:c.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:o,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){const n=df(e),r=e.run_type??"chain",a={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:e.run_type};let o={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(o={},a.inputs={}):e.inputs.input!==void 0?(o.input=e.inputs.input,a.inputs=e.inputs.input):(o.input=e.inputs,a.inputs=e.inputs),this.runInfoMap.set(e.id,a),await this.send({event:`on_${r}_start`,data:o,name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},a)}async onChainEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,a=e.inputs??n.inputs??{},u={output:e.outputs?.output??e.outputs,input:a};a.input&&Object.keys(a).length===1&&(u.input=a.input,n.inputs=a.input),await this.sendEndEvent({event:r,data:u,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){const n=df(e),r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},r)}async onToolEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){const n=df(e),a={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,a),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},a)}async onRetrieverEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const a=this.runInfoMap.get(r);if(a===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:a.tags,metadata:a.metadata,data:n},a)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}const dD=[400,401,402,403,404,405,406,407,409],fD=t=>{if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||t?.code==="ECONNABORTED")throw t;const e=t?.response?.status??t?.status;if(e&&dD.includes(+e))throw t;if(t?.error?.code==="insufficient_quota"){const n=new Error(t?.message);throw n.name="InsufficientQuotaError",n}};class G0{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??fD;const n="default"in Pi?Pi.default:Pi;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>Ff(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((a,o)=>{e.signal?.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}class oO extends Dc{constructor({config:e,onStart:n,onEnd:r,onError:a}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=a}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function Y0(t){return t?t.lc_runnable:!1}class hD{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const a=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||a.some(o=>this.includeTags?.includes(o))),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&a.every(o=>!this.excludeTags?.includes(o))),r}}function qg(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const pD=["*","_","`"];function mD(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function gD(t,e,n){const{firstNode:r,lastNode:a,nodeColors:o,withStyles:u=!0,curveStyle:c="linear",wrapLabelNWords:d=9}=n??{};let f=u?`%%{init: {'flowchart': {'curve': '${c}'}}}%%
graph TD;
`:`graph TD;
`;if(u){const E="default",T={[E]:"{0}({1})"};r!==void 0&&(T[r]="{0}([{1}]):::first"),a!==void 0&&(T[a]="{0}([{1}]):::last");for(const[w,A]of Object.entries(t)){const O=A.name.split(":").pop()??"";let C=pD.some(P=>O.startsWith(P)&&O.endsWith(P))?`<p>${O}</p>`:O;Object.keys(A.metadata??{}).length&&(C+=`<hr/><small><em>${Object.entries(A.metadata??{}).map(([P,M])=>`${P} = ${M}`).join(`
`)}</em></small>`);const $=(T[w]??T[E]).replace("{0}",qg(w)).replace("{1}",C);f+=`	${$}
`}}const p={};for(const E of e){const T=E.source.split(":"),w=E.target.split(":"),A=T.filter((O,k)=>O===w[k]).join(":");p[A]||(p[A]=[]),p[A].push(E)}const m=new Set;function b(E,T){const w=E.length===1&&E[0].source===E[0].target;if(T&&!w){const A=T.split(":").pop();if(m.has(A))throw new Error(`Found duplicate subgraph '${A}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);m.add(A),f+=`	subgraph ${A}
`}for(const A of E){const{source:O,target:k,data:C,conditional:$}=A;let P="";if(C!==void 0){let M=C;const se=M.split(" ");se.length>d&&(M=Array.from({length:Math.ceil(se.length/d)},(q,me)=>se.slice(me*d,(me+1)*d).join(" ")).join("&nbsp;<br>&nbsp;")),P=$?` -. &nbsp;${M}&nbsp; .-> `:` -- &nbsp;${M}&nbsp; --> `}else P=$?" -.-> ":" --> ";f+=`	${qg(O)}${P}${qg(k)};
`}for(const A in p)A.startsWith(`${T}:`)&&A!==T&&b(p[A],A);T&&!w&&(f+=`	end
`)}b(p[""]??[],"");for(const E in p)!E.includes(":")&&E!==""&&b(p[E],E);return u&&(f+=mD(o??{})),f}async function bD(t,e){return _D(t,{...e,imageType:"png"})}async function _D(t,e){let n=e?.backgroundColor??"white";const r=e?.imageType,a=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const o=`https://mermaid.ink/img/${a}?bgColor=${n}&type=${r}`,u=await fetch(o);if(!u.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${u.status}`,`Status text: ${u.statusText}`].join(`
`));return await u.blob()}function mh(t,e,n){function r(c,d){var f;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(f=c._zod).traits??(f.traits=new Set),c._zod.traits.add(t),e(c,d);for(const p in u.prototype)p in c||Object.defineProperty(c,p,{value:u.prototype[p].bind(c)});c._zod.constr=u,c._zod.def=d}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function u(c){var d;const f=n?.Parent?new o:this;r(f,c),(d=f._zod).deferred??(d.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class Gf extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const yD={};function V0(t){return yD}function ED(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function TD(t,e){return typeof e=="bigint"?e.toString():e}const wD=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function Yf(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function vD(t){return{}}function Gg(t,e=0){for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function ff(t){return typeof t=="string"?t:t?.message}function K0(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=ff(t.inst?._zod.def?.error?.(t))??ff(e?.error?.(t))??ff(n.customError?.(t))??ff(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}const uO=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,TD,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},SD=mh("$ZodError",uO),Z0=mh("$ZodError",uO,{Parent:Error}),AD=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new Gf;if(u.issues.length){const c=new(a?.Err??t)(u.issues.map(d=>K0(d,o,V0())));throw wD(c,a?.callee),c}return u.value},OD=AD(Z0),ND=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Gf;return o.issues.length?{success:!1,error:new(t??SD)(o.issues.map(u=>K0(u,a,V0())))}:{success:!0,data:o.value}},xD=ND(Z0),CD=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(u=>K0(u,a,V0())))}:{success:!0,data:o.value}},RD=CD(Z0),kD={major:4,minor:0,patch:0},ID=mh("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=kD;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,u,c)=>{let d=Gg(o),f;for(const p of u){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(d)continue;const m=o.issues.length,b=p._zod.check(o);if(b instanceof Promise&&c?.async===!1)throw new Gf;if(f||b instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await b,o.issues.length!==m&&(d||(d=Gg(o,m)))});else{if(o.issues.length===m)continue;d||(d=Gg(o,m))}}return f?f.then(()=>o):o};t._zod.run=(o,u)=>{const c=t._zod.parse(o,u);if(c instanceof Promise){if(u.async===!1)throw new Gf;return c.then(d=>a(d,r,u))}return a(c,r,u)}}t["~standard"]={validate:a=>{try{const o=xD(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return RD(t,a).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),MD=mh("$ZodNever",(t,e)=>{ID.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});class lO{constructor(){this._map=new Map,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function LD(){return new lO}const ws=LD();function DD(t,e){return new t({type:"never",...vD()})}class _v{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??ws,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var r;const a=e._zod.def,o={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},u=this.seen.get(e);if(u)return u.count++,n.schemaPath.includes(e)&&(u.cycle=n.path),u.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,c);const d=e._zod.toJSONSchema?.();if(d)c.schema=d;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path},b=e._zod.parent;if(b)c.ref=b,this.process(b,m),this.seen.get(b).isParent=!0;else{const E=c.schema;switch(a.type){case"string":{const T=E;T.type="string";const{minimum:w,maximum:A,format:O,patterns:k,contentEncoding:C}=e._zod.bag;if(typeof w=="number"&&(T.minLength=w),typeof A=="number"&&(T.maxLength=A),O&&(T.format=o[O]??O,T.format===""&&delete T.format),C&&(T.contentEncoding=C),k&&k.size>0){const $=[...k];$.length===1?T.pattern=$[0].source:$.length>1&&(c.schema.allOf=[...$.map(P=>({...this.target==="draft-7"?{type:"string"}:{},pattern:P.source}))])}break}case"number":{const T=E,{minimum:w,maximum:A,format:O,multipleOf:k,exclusiveMaximum:C,exclusiveMinimum:$}=e._zod.bag;typeof O=="string"&&O.includes("int")?T.type="integer":T.type="number",typeof $=="number"&&(T.exclusiveMinimum=$),typeof w=="number"&&(T.minimum=w,typeof $=="number"&&($>=w?delete T.minimum:delete T.exclusiveMinimum)),typeof C=="number"&&(T.exclusiveMaximum=C),typeof A=="number"&&(T.maximum=A,typeof C=="number"&&(C<=A?delete T.maximum:delete T.exclusiveMaximum)),typeof k=="number"&&(T.multipleOf=k);break}case"boolean":{const T=E;T.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{E.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{E.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const T=E,{minimum:w,maximum:A}=e._zod.bag;typeof w=="number"&&(T.minItems=w),typeof A=="number"&&(T.maxItems=A),T.type="array",T.items=this.process(a.element,{...m,path:[...m.path,"items"]});break}case"object":{const T=E;T.type="object",T.properties={};const w=a.shape;for(const k in w)T.properties[k]=this.process(w[k],{...m,path:[...m.path,"properties",k]});const A=new Set(Object.keys(w)),O=new Set([...A].filter(k=>{const C=a.shape[k]._zod;return this.io==="input"?C.optin===void 0:C.optout===void 0}));O.size>0&&(T.required=Array.from(O)),a.catchall?._zod.def.type==="never"?T.additionalProperties=!1:a.catchall?a.catchall&&(T.additionalProperties=this.process(a.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(T.additionalProperties=!1);break}case"union":{const T=E;T.anyOf=a.options.map((w,A)=>this.process(w,{...m,path:[...m.path,"anyOf",A]}));break}case"intersection":{const T=E,w=this.process(a.left,{...m,path:[...m.path,"allOf",0]}),A=this.process(a.right,{...m,path:[...m.path,"allOf",1]}),O=C=>"allOf"in C&&Object.keys(C).length===1,k=[...O(w)?w.allOf:[w],...O(A)?A.allOf:[A]];T.allOf=k;break}case"tuple":{const T=E;T.type="array";const w=a.items.map((k,C)=>this.process(k,{...m,path:[...m.path,"prefixItems",C]}));if(this.target==="draft-2020-12"?T.prefixItems=w:T.items=w,a.rest){const k=this.process(a.rest,{...m,path:[...m.path,"items"]});this.target==="draft-2020-12"?T.items=k:T.additionalItems=k}a.rest&&(T.items=this.process(a.rest,{...m,path:[...m.path,"items"]}));const{minimum:A,maximum:O}=e._zod.bag;typeof A=="number"&&(T.minItems=A),typeof O=="number"&&(T.maxItems=O);break}case"record":{const T=E;T.type="object",T.propertyNames=this.process(a.keyType,{...m,path:[...m.path,"propertyNames"]}),T.additionalProperties=this.process(a.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const T=E,w=ED(a.entries);w.every(A=>typeof A=="number")&&(T.type="number"),w.every(A=>typeof A=="string")&&(T.type="string"),T.enum=w;break}case"literal":{const T=E,w=[];for(const A of a.values)if(A===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof A=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");w.push(Number(A))}else w.push(A);if(w.length!==0)if(w.length===1){const A=w[0];T.type=A===null?"null":typeof A,T.const=A}else w.every(A=>typeof A=="number")&&(T.type="number"),w.every(A=>typeof A=="string")&&(T.type="string"),w.every(A=>typeof A=="boolean")&&(T.type="string"),w.every(A=>A===null)&&(T.type="null"),T.enum=w;break}case"file":{const T=E,w={type:"string",format:"binary",contentEncoding:"binary"},{minimum:A,maximum:O,mime:k}=e._zod.bag;A!==void 0&&(w.minLength=A),O!==void 0&&(w.maxLength=O),k?k.length===1?(w.contentMediaType=k[0],Object.assign(T,w)):T.anyOf=k.map(C=>({...w,contentMediaType:C})):Object.assign(T,w);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const T=this.process(a.innerType,m);E.anyOf=[T,{type:"null"}];break}case"nonoptional":{this.process(a.innerType,m),c.ref=a.innerType;break}case"success":{const T=E;T.type="boolean";break}case"default":{this.process(a.innerType,m),c.ref=a.innerType,E.default=JSON.parse(JSON.stringify(a.defaultValue));break}case"prefault":{this.process(a.innerType,m),c.ref=a.innerType,this.io==="input"&&(E._prefault=JSON.parse(JSON.stringify(a.defaultValue)));break}case"catch":{this.process(a.innerType,m),c.ref=a.innerType;let T;try{T=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}E.default=T;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const T=E,w=e._zod.pattern;if(!w)throw new Error("Pattern not found in template literal");T.type="string",T.pattern=w.source;break}case"pipe":{const T=this.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;this.process(T,m),c.ref=T;break}case"readonly":{this.process(a.innerType,m),c.ref=a.innerType,E.readOnly=!0;break}case"promise":{this.process(a.innerType,m),c.ref=a.innerType;break}case"optional":{this.process(a.innerType,m),c.ref=a.innerType;break}case"lazy":{const T=e._zod.innerType;this.process(T,m),c.ref=T;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const f=this.metadataRegistry.get(e);return f&&Object.assign(c.schema,f),this.io==="input"&&Bn(e)&&(delete c.schema.examples,delete c.schema.default),this.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,this.seen.get(e).schema}emit(e,n){const r={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},a=this.seen.get(e);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=p=>{const m=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const w=r.external.registry.get(p[0])?.id,A=r.external.uri??(k=>k);if(w)return{ref:A(w)};const O=p[1].defId??p[1].schema.id??`schema${this.counter++}`;return p[1].defId=O,{defId:O,ref:`${A("__shared")}#/${m}/${O}`}}if(p[1]===a)return{ref:"#"};const E=`#/${m}/`,T=p[1].schema.id??`__schema${this.counter++}`;return{defId:T,ref:E+T}},u=p=>{if(p[1].schema.$ref)return;const m=p[1],{ref:b,defId:E}=o(p);m.def={...m.schema},E&&(m.defId=E);const T=m.schema;for(const w in T)delete T[w];T.$ref=b};if(r.cycles==="throw")for(const p of this.seen.entries()){const m=p[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of this.seen.entries()){const m=p[1];if(e===p[0]){u(p);continue}if(r.external){const E=r.external.registry.get(p[0])?.id;if(e!==p[0]&&E){u(p);continue}}if(this.metadataRegistry.get(p[0])?.id){u(p);continue}if(m.cycle){u(p);continue}if(m.count>1&&r.reused==="ref"){u(p);continue}}const c=(p,m)=>{const b=this.seen.get(p),E=b.def??b.schema,T={...E};if(b.ref===null)return;const w=b.ref;if(b.ref=null,w){c(w,m);const A=this.seen.get(w).schema;A.$ref&&m.target==="draft-7"?(E.allOf=E.allOf??[],E.allOf.push(A)):(Object.assign(E,A),Object.assign(E,T))}b.isParent||this.override({zodSchema:p,jsonSchema:E,path:b.path??[]})};for(const p of[...this.seen.entries()].reverse())c(p[0],{target:this.target});const d={};if(this.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?d.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),r.external?.uri){const p=r.external.registry.get(e)?.id;if(!p)throw new Error("Schema is missing an `id` property");d.$id=r.external.uri(p)}Object.assign(d,a.def);const f=r.external?.defs??{};for(const p of this.seen.entries()){const m=p[1];m.def&&m.defId&&(f[m.defId]=m.def)}r.external||Object.keys(f).length>0&&(this.target==="draft-2020-12"?d.$defs=f:d.definitions=f);try{return JSON.parse(JSON.stringify(d))}catch{throw new Error("Error converting schema to JSON.")}}}function yv(t,e){if(t instanceof lO){const r=new _v(e),a={};for(const c of t._idmap.entries()){const[d,f]=c;r.process(f)}const o={},u={registry:t,uri:e?.uri,defs:a};for(const c of t._idmap.entries()){const[d,f]=c;o[d]=r.emit(f,{...e,external:u})}if(Object.keys(a).length>0){const c=r.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[c]:a}}return{schemas:o}}const n=new _v(e);return n.process(t),n.emit(t,e)}function Bn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const a=t._zod.def;switch(a.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return Bn(a.element,n);case"object":{for(const o in a.shape)if(Bn(a.shape[o],n))return!0;return!1}case"union":{for(const o of a.options)if(Bn(o,n))return!0;return!1}case"intersection":return Bn(a.left,n)||Bn(a.right,n);case"tuple":{for(const o of a.items)if(Bn(o,n))return!0;return!!(a.rest&&Bn(a.rest,n))}case"record":return Bn(a.keyType,n)||Bn(a.valueType,n);case"map":return Bn(a.keyType,n)||Bn(a.valueType,n);case"set":return Bn(a.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return Bn(a.innerType,n);case"lazy":return Bn(a.getter(),n);case"default":return Bn(a.innerType,n);case"prefault":return Bn(a.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return Bn(a.in,n)||Bn(a.out,n);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${a.type}`)}const PD=Symbol("Let zodToJsonSchema decide on which parser to use"),UD={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},BD=t=>({...UD,...t}),FD=t=>{const e=BD(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function cO(t,e,n,r){r?.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function jt(t,e,n,r,a){t[e]=n,cO(t,e,r,a)}const dO=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")};function ia(t){if(t.target!=="openAi")return{};const e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?dO(e,t.currentPath):e.join("/")}}function $D(t,e){const n={type:"array"};return t.type?._def&&t.type?._def?.typeName!==Ne.ZodAny&&(n.items=Bt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&jt(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&jt(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(jt(n,"minItems",t.exactLength.value,t.exactLength.message,e),jt(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function HD(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?jt(n,"minimum",r.value,r.message,e):jt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),jt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?jt(n,"maximum",r.value,r.message,e):jt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),jt(n,"maximum",r.value,r.message,e));break;case"multipleOf":jt(n,"multipleOf",r.value,r.message,e);break}return n}function zD(){return{type:"boolean"}}function fO(t,e){return Bt(t.type._def,e)}const jD=(t,e)=>Bt(t.innerType._def,e);function hO(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,o)=>hO(t,e,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return qD(t,e)}}const qD=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":jt(n,"minimum",r.value,r.message,e);break;case"max":jt(n,"maximum",r.value,r.message,e);break}return n};function GD(t,e){return{...Bt(t.innerType._def,e),default:t.defaultValue()}}function YD(t,e){return e.effectStrategy==="input"?Bt(t.schema._def,e):ia(e)}function VD(t){return{type:"string",enum:Array.from(t.values)}}const KD=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function ZD(t,e){const n=[Bt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Bt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach(o=>{if(KD(o))a.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let u=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:c,...d}=o;u=d}else r=void 0;a.push(u)}}),a.length?{allOf:a,...r}:void 0}function XD(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let Yg;const ka={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Yg===void 0&&(Yg=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Yg),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function pO(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":jt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":jt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Ia(n,"email",r.message,e);break;case"format:idn-email":Ia(n,"idn-email",r.message,e);break;case"pattern:zod":Tr(n,ka.email,r.message,e);break}break;case"url":Ia(n,"uri",r.message,e);break;case"uuid":Ia(n,"uuid",r.message,e);break;case"regex":Tr(n,r.regex,r.message,e);break;case"cuid":Tr(n,ka.cuid,r.message,e);break;case"cuid2":Tr(n,ka.cuid2,r.message,e);break;case"startsWith":Tr(n,RegExp(`^${Vg(r.value,e)}`),r.message,e);break;case"endsWith":Tr(n,RegExp(`${Vg(r.value,e)}$`),r.message,e);break;case"datetime":Ia(n,"date-time",r.message,e);break;case"date":Ia(n,"date",r.message,e);break;case"time":Ia(n,"time",r.message,e);break;case"duration":Ia(n,"duration",r.message,e);break;case"length":jt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),jt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":{Tr(n,RegExp(Vg(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&Ia(n,"ipv4",r.message,e),r.version!=="v4"&&Ia(n,"ipv6",r.message,e);break}case"base64url":Tr(n,ka.base64url,r.message,e);break;case"jwt":Tr(n,ka.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&Tr(n,ka.ipv4Cidr,r.message,e),r.version!=="v4"&&Tr(n,ka.ipv6Cidr,r.message,e);break}case"emoji":Tr(n,ka.emoji(),r.message,e);break;case"ulid":{Tr(n,ka.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Ia(n,"binary",r.message,e);break}case"contentEncoding:base64":{jt(n,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{Tr(n,ka.base64,r.message,e);break}}break}case"nanoid":Tr(n,ka.nanoid,r.message,e)}return n}function Vg(t,e){return e.patternStrategy==="escape"?WD(t):t}const QD=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function WD(t){let e="";for(let n=0;n<t.length;n++)QD.has(t[n])||(e+="\\"),e+=t[n];return e}function Ia(t,e,n,r){t.format||t.anyOf?.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):jt(t,"format",e,n,r)}function Tr(t,e,n,r){t.pattern||t.allOf?.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:Ev(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):jt(t,"pattern",Ev(e,r),n,r)}function Ev(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let a="",o=!1,u=!1,c=!1;for(let d=0;d<r.length;d++){if(o){a+=r[d],o=!1;continue}if(n.i){if(u){if(r[d].match(/[a-z]/)){c?(a+=r[d],a+=`${r[d-2]}-${r[d]}`.toUpperCase(),c=!1):r[d+1]==="-"&&r[d+2]?.match(/[a-z]/)?(a+=r[d],c=!0):a+=`${r[d]}${r[d].toUpperCase()}`;continue}}else if(r[d].match(/[a-z]/)){a+=`[${r[d]}${r[d].toUpperCase()}]`;continue}}if(n.m){if(r[d]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(r[d]==="$"){a+=`($|(?=[\r
]))`;continue}}if(n.s&&r[d]==="."){a+=u?`${r[d]}\r
`:`[${r[d]}\r
]`;continue}a+=r[d],r[d]==="\\"?o=!0:u&&r[d]==="]"?u=!1:!u&&r[d]==="["&&(u=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return a}function mO(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===Ne.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((r,a)=>({...r,[a]:Bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",a]})??ia(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:Bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(t.keyType?._def.typeName===Ne.ZodString&&t.keyType._def.checks?.length){const{type:r,...a}=pO(t.keyType._def,e);return{...n,propertyNames:a}}else{if(t.keyType?._def.typeName===Ne.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===Ne.ZodBranded&&t.keyType._def.type._def.typeName===Ne.ZodString&&t.keyType._def.type._def.checks?.length){const{type:r,...a}=fO(t.keyType._def,e);return{...n,propertyNames:a}}}return n}function JD(t,e){if(e.mapStrategy==="record")return mO(t,e);const n=Bt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||ia(e),r=Bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||ia(e);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function e3(t){const e=t.values,r=Object.keys(t.values).filter(o=>typeof e[e[o]]!="number").map(o=>e[o]),a=Array.from(new Set(r.map(o=>typeof o)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function t3(t){return t.target==="openAi"?void 0:{not:ia({...t,currentPath:[...t.currentPath,"not"]})}}function n3(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Vf={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function r3(t,e){if(e.target==="openApi3")return Tv(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in Vf&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,o)=>{const u=Vf[o._def.typeName];return u&&!a.includes(u)?[...a,u]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,o)=>{const u=typeof o._def.value;switch(u){case"string":case"number":case"boolean":return[...a,u];case"bigint":return[...a,"integer"];case"object":if(o._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((o,u,c)=>c.indexOf(o)===u);return{type:a.length>1?a:a[0],enum:n.reduce((o,u)=>o.includes(u._def.value)?o:[...o,u._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(o=>!r.includes(o))],[])};return Tv(t,e)}const Tv=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,a)=>Bt(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function a3(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Vf[t.innerType._def.typeName],nullable:!0}:{type:[Vf[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=Bt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Bt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function i3(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",cO(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?jt(n,"minimum",r.value,r.message,e):jt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),jt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?jt(n,"maximum",r.value,r.message,e):jt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),jt(n,"maximum",r.value,r.message,e));break;case"multipleOf":jt(n,"multipleOf",r.value,r.message,e);break}return n}function s3(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},a=[],o=t.shape();for(const c in o){let d=o[c];if(d===void 0||d._def===void 0)continue;let f=u3(d);f&&n&&(d._def.typeName==="ZodOptional"&&(d=d._def.innerType),d.isNullable()||(d=d.nullable()),f=!1);const p=Bt(d._def,{...e,currentPath:[...e.currentPath,"properties",c],propertyPath:[...e.currentPath,"properties",c]});p!==void 0&&(r.properties[c]=p,f||a.push(c))}a.length&&(r.required=a);const u=o3(t,e);return u!==void 0&&(r.additionalProperties=u),r}function o3(t,e){if(t.catchall._def.typeName!=="ZodNever")return Bt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function u3(t){try{return t.isOptional()}catch{return!0}}const l3=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return Bt(t.innerType._def,e);const n=Bt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:ia(e)},n]}:ia(e)},c3=(t,e)=>{if(e.pipeStrategy==="input")return Bt(t.in._def,e);if(e.pipeStrategy==="output")return Bt(t.out._def,e);const n=Bt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=Bt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function d3(t,e){return Bt(t.type._def,e)}function f3(t,e){const r={type:"array",uniqueItems:!0,items:Bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&jt(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&jt(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function h3(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>Bt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Bt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>Bt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function p3(t){return{not:ia(t)}}function m3(t){return ia(t)}const g3=(t,e)=>Bt(t.innerType._def,e),b3=(t,e,n)=>{switch(e){case Ne.ZodString:return pO(t,n);case Ne.ZodNumber:return i3(t,n);case Ne.ZodObject:return s3(t,n);case Ne.ZodBigInt:return HD(t,n);case Ne.ZodBoolean:return zD();case Ne.ZodDate:return hO(t,n);case Ne.ZodUndefined:return p3(n);case Ne.ZodNull:return n3(n);case Ne.ZodArray:return $D(t,n);case Ne.ZodUnion:case Ne.ZodDiscriminatedUnion:return r3(t,n);case Ne.ZodIntersection:return ZD(t,n);case Ne.ZodTuple:return h3(t,n);case Ne.ZodRecord:return mO(t,n);case Ne.ZodLiteral:return XD(t,n);case Ne.ZodEnum:return VD(t);case Ne.ZodNativeEnum:return e3(t);case Ne.ZodNullable:return a3(t,n);case Ne.ZodOptional:return l3(t,n);case Ne.ZodMap:return JD(t,n);case Ne.ZodSet:return f3(t,n);case Ne.ZodLazy:return()=>t.getter()._def;case Ne.ZodPromise:return d3(t,n);case Ne.ZodNaN:case Ne.ZodNever:return t3(n);case Ne.ZodEffects:return YD(t,n);case Ne.ZodAny:return ia(n);case Ne.ZodUnknown:return m3(n);case Ne.ZodDefault:return GD(t,n);case Ne.ZodBranded:return fO(t,n);case Ne.ZodReadonly:return g3(t,n);case Ne.ZodCatch:return jD(t,n);case Ne.ZodPipeline:return c3(t,n);case Ne.ZodFunction:case Ne.ZodVoid:case Ne.ZodSymbol:return;default:return(r=>{})()}};function Bt(t,e,n=!1){const r=e.seen.get(t);if(e.override){const c=e.override?.(t,e,r,n);if(c!==PD)return c}if(r&&!n){const c=_3(r,e);if(c!==void 0)return c}const a={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,a);const o=b3(t,t.typeName,e),u=typeof o=="function"?Bt(o(),e):o;if(u&&y3(t,e,u),e.postProcess){const c=e.postProcess(u,t,e);return a.jsonSchema=u,c}return a.jsonSchema=u,u}const _3=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:dO(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),ia(e)):e.$refStrategy==="seen"?ia(e):void 0}},y3=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),E3=(t,e)=>{const n=FD(e);let r;const a=e?.name,o=Bt(t._def,n,!1)??ia(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const u=a===void 0?r?{...o,[n.definitionPath]:r}:o:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...r,[a]:o}};return n.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u};function uu(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(!uu(t[a],e[a]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;for(const u of r)if(!uu(t[u],e[u]))return!1;return!0}return t===e}function La(t){return encodeURI(T3(t))}function T3(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}const w3={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},v3={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},S3={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let A3=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function iu(t,e=Object.create(null),n=A3,r=""){if(t&&typeof t=="object"&&!Array.isArray(t)){const o=t.$id||t.id;if(o){const u=new URL(o,n.href);u.hash.length>1?e[u.href]=t:(u.hash="",r===""?n=u:iu(t,e,n))}}else if(t!==!0&&t!==!1)return e;const a=n.href+(r?"#"+r:"");if(e[a]!==void 0)throw new Error(`Duplicate schema URI "${a}".`);if(e[a]=t,t===!0||t===!1)return e;if(t.__absolute_uri__===void 0&&Object.defineProperty(t,"__absolute_uri__",{enumerable:!1,value:a}),t.$ref&&t.__absolute_ref__===void 0){const o=new URL(t.$ref,n.href);o.hash=o.hash,Object.defineProperty(t,"__absolute_ref__",{enumerable:!1,value:o.href})}if(t.$recursiveRef&&t.__absolute_recursive_ref__===void 0){const o=new URL(t.$recursiveRef,n.href);o.hash=o.hash,Object.defineProperty(t,"__absolute_recursive_ref__",{enumerable:!1,value:o.href})}if(t.$anchor){const o=new URL("#"+t.$anchor,n.href);e[o.href]=t}for(let o in t){if(S3[o])continue;const u=`${r}/${La(o)}`,c=t[o];if(Array.isArray(c)){if(w3[o]){const d=c.length;for(let f=0;f<d;f++)iu(c[f],e,n,`${u}/${f}`)}}else if(v3[o])for(let d in c)iu(c[d],e,n,`${u}/${La(d)}`);else iu(c,e,n,u)}return e}const O3=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,N3=[0,31,28,31,30,31,30,31,31,30,31,30,31],x3=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,C3=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,R3=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,k3=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,I3=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,M3=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,L3=/^(?:\/(?:[^~/]|~0|~1)*)*$/,D3=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,P3=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,U3=t=>{if(t[0]==='"')return!1;const[e,n,...r]=t.split("@");return!e||!n||r.length!==0||e.length>64||n.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:n.split(".").every(a=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(a))},B3=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,F3=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,$3=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));function ai(t){return t.test.bind(t)}const wv={date:gO,time:bO.bind(void 0,!1),"date-time":j3,duration:$3,uri:Y3,"uri-reference":ai(R3),"uri-template":ai(k3),url:ai(I3),email:U3,hostname:ai(C3),ipv4:ai(B3),ipv6:ai(F3),regex:K3,uuid:ai(M3),"json-pointer":ai(L3),"json-pointer-uri-fragment":ai(D3),"relative-json-pointer":ai(P3)};function H3(t){return t%4===0&&(t%100!==0||t%400===0)}function gO(t){const e=t.match(O3);if(!e)return!1;const n=+e[1],r=+e[2],a=+e[3];return r>=1&&r<=12&&a>=1&&a<=(r==2&&H3(n)?29:N3[r])}function bO(t,e){const n=e.match(x3);if(!n)return!1;const r=+n[1],a=+n[2],o=+n[3],u=!!n[5];return(r<=23&&a<=59&&o<=59||r==23&&a==59&&o==60)&&(!t||u)}const z3=/t|\s/i;function j3(t){const e=t.split(z3);return e.length==2&&gO(e[0])&&bO(!0,e[1])}const q3=/\/|:/,G3=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Y3(t){return q3.test(t)&&G3.test(t)}const V3=/[^\\]\\Z/;function K3(t){if(V3.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}function Z3(t){let e=0,n=t.length,r=0,a;for(;r<n;)e++,a=t.charCodeAt(r++),a>=55296&&a<=56319&&r<n&&(a=t.charCodeAt(r),(a&64512)==56320&&r++);return e}function fn(t,e,n="2019-09",r=iu(e),a=!0,o=null,u="#",c="#",d=Object.create(null)){if(e===!0)return{valid:!0,errors:[]};if(e===!1)return{valid:!1,errors:[{instanceLocation:u,keyword:"false",keywordLocation:u,error:"False boolean schema."}]};const f=typeof t;let p;switch(f){case"boolean":case"number":case"string":p=f;break;case"object":t===null?p="null":Array.isArray(t)?p="array":p="object";break;default:throw new Error(`Instances of "${f}" type are not supported.`)}const{$ref:m,$recursiveRef:b,$recursiveAnchor:E,type:T,const:w,enum:A,required:O,not:k,anyOf:C,allOf:$,oneOf:P,if:M,then:se,else:q,format:me,properties:V,patternProperties:ce,additionalProperties:he,unevaluatedProperties:ve,minProperties:X,maxProperties:K,propertyNames:U,dependentRequired:Z,dependentSchemas:z,dependencies:ue,prefixItems:v,items:G,additionalItems:re,unevaluatedItems:x,contains:ge,minContains:be,maxContains:Se,minItems:We,maxItems:nt,uniqueItems:Ft,minimum:Nt,maximum:qt,exclusiveMinimum:Zt,exclusiveMaximum:On,multipleOf:hn,minLength:Xn,maxLength:lt,pattern:Dt,__absolute_ref__:yn,__absolute_recursive_ref__:sr}=e,Ce=[];if(E===!0&&o===null&&(o=e),b==="#"){const Ze=o===null?r[sr]:o,Pe=`${c}/$recursiveRef`,He=fn(t,o===null?e:o,n,r,a,Ze,u,Pe,d);He.valid||Ce.push({instanceLocation:u,keyword:"$recursiveRef",keywordLocation:Pe,error:"A subschema had errors."},...He.errors)}if(m!==void 0){const Pe=r[yn||m];if(Pe===void 0){let F=`Unresolved $ref "${m}".`;throw yn&&yn!==m&&(F+=`  Absolute URI "${yn}".`),F+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(F)}const He=`${c}/$ref`,Re=fn(t,Pe,n,r,a,o,u,He,d);if(Re.valid||Ce.push({instanceLocation:u,keyword:"$ref",keywordLocation:He,error:"A subschema had errors."},...Re.errors),n==="4"||n==="7")return{valid:Ce.length===0,errors:Ce}}if(Array.isArray(T)){let Ze=T.length,Pe=!1;for(let He=0;He<Ze;He++)if(p===T[He]||T[He]==="integer"&&p==="number"&&t%1===0&&t===t){Pe=!0;break}Pe||Ce.push({instanceLocation:u,keyword:"type",keywordLocation:`${c}/type`,error:`Instance type "${p}" is invalid. Expected "${T.join('", "')}".`})}else T==="integer"?(p!=="number"||t%1||t!==t)&&Ce.push({instanceLocation:u,keyword:"type",keywordLocation:`${c}/type`,error:`Instance type "${p}" is invalid. Expected "${T}".`}):T!==void 0&&p!==T&&Ce.push({instanceLocation:u,keyword:"type",keywordLocation:`${c}/type`,error:`Instance type "${p}" is invalid. Expected "${T}".`});if(w!==void 0&&(p==="object"||p==="array"?uu(t,w)||Ce.push({instanceLocation:u,keyword:"const",keywordLocation:`${c}/const`,error:`Instance does not match ${JSON.stringify(w)}.`}):t!==w&&Ce.push({instanceLocation:u,keyword:"const",keywordLocation:`${c}/const`,error:`Instance does not match ${JSON.stringify(w)}.`})),A!==void 0&&(p==="object"||p==="array"?A.some(Ze=>uu(t,Ze))||Ce.push({instanceLocation:u,keyword:"enum",keywordLocation:`${c}/enum`,error:`Instance does not match any of ${JSON.stringify(A)}.`}):A.some(Ze=>t===Ze)||Ce.push({instanceLocation:u,keyword:"enum",keywordLocation:`${c}/enum`,error:`Instance does not match any of ${JSON.stringify(A)}.`})),k!==void 0){const Ze=`${c}/not`;fn(t,k,n,r,a,o,u,Ze).valid&&Ce.push({instanceLocation:u,keyword:"not",keywordLocation:Ze,error:'Instance matched "not" schema.'})}let or=[];if(C!==void 0){const Ze=`${c}/anyOf`,Pe=Ce.length;let He=!1;for(let Re=0;Re<C.length;Re++){const F=C[Re],te=Object.create(d),pe=fn(t,F,n,r,a,E===!0?o:null,u,`${Ze}/${Re}`,te);Ce.push(...pe.errors),He=He||pe.valid,pe.valid&&or.push(te)}He?Ce.length=Pe:Ce.splice(Pe,0,{instanceLocation:u,keyword:"anyOf",keywordLocation:Ze,error:"Instance does not match any subschemas."})}if($!==void 0){const Ze=`${c}/allOf`,Pe=Ce.length;let He=!0;for(let Re=0;Re<$.length;Re++){const F=$[Re],te=Object.create(d),pe=fn(t,F,n,r,a,E===!0?o:null,u,`${Ze}/${Re}`,te);Ce.push(...pe.errors),He=He&&pe.valid,pe.valid&&or.push(te)}He?Ce.length=Pe:Ce.splice(Pe,0,{instanceLocation:u,keyword:"allOf",keywordLocation:Ze,error:"Instance does not match every subschema."})}if(P!==void 0){const Ze=`${c}/oneOf`,Pe=Ce.length,He=P.filter((Re,F)=>{const te=Object.create(d),pe=fn(t,Re,n,r,a,E===!0?o:null,u,`${Ze}/${F}`,te);return Ce.push(...pe.errors),pe.valid&&or.push(te),pe.valid}).length;He===1?Ce.length=Pe:Ce.splice(Pe,0,{instanceLocation:u,keyword:"oneOf",keywordLocation:Ze,error:`Instance does not match exactly one subschema (${He} matches).`})}if((p==="object"||p==="array")&&Object.assign(d,...or),M!==void 0){const Ze=`${c}/if`;if(fn(t,M,n,r,a,o,u,Ze,d).valid){if(se!==void 0){const He=fn(t,se,n,r,a,o,u,`${c}/then`,d);He.valid||Ce.push({instanceLocation:u,keyword:"if",keywordLocation:Ze,error:'Instance does not match "then" schema.'},...He.errors)}}else if(q!==void 0){const He=fn(t,q,n,r,a,o,u,`${c}/else`,d);He.valid||Ce.push({instanceLocation:u,keyword:"if",keywordLocation:Ze,error:'Instance does not match "else" schema.'},...He.errors)}}if(p==="object"){if(O!==void 0)for(const Re of O)Re in t||Ce.push({instanceLocation:u,keyword:"required",keywordLocation:`${c}/required`,error:`Instance does not have required property "${Re}".`});const Ze=Object.keys(t);if(X!==void 0&&Ze.length<X&&Ce.push({instanceLocation:u,keyword:"minProperties",keywordLocation:`${c}/minProperties`,error:`Instance does not have at least ${X} properties.`}),K!==void 0&&Ze.length>K&&Ce.push({instanceLocation:u,keyword:"maxProperties",keywordLocation:`${c}/maxProperties`,error:`Instance does not have at least ${K} properties.`}),U!==void 0){const Re=`${c}/propertyNames`;for(const F in t){const te=`${u}/${La(F)}`,pe=fn(F,U,n,r,a,o,te,Re);pe.valid||Ce.push({instanceLocation:u,keyword:"propertyNames",keywordLocation:Re,error:`Property name "${F}" does not match schema.`},...pe.errors)}}if(Z!==void 0){const Re=`${c}/dependantRequired`;for(const F in Z)if(F in t){const te=Z[F];for(const pe of te)pe in t||Ce.push({instanceLocation:u,keyword:"dependentRequired",keywordLocation:Re,error:`Instance has "${F}" but does not have "${pe}".`})}}if(z!==void 0)for(const Re in z){const F=`${c}/dependentSchemas`;if(Re in t){const te=fn(t,z[Re],n,r,a,o,u,`${F}/${La(Re)}`,d);te.valid||Ce.push({instanceLocation:u,keyword:"dependentSchemas",keywordLocation:F,error:`Instance has "${Re}" but does not match dependant schema.`},...te.errors)}}if(ue!==void 0){const Re=`${c}/dependencies`;for(const F in ue)if(F in t){const te=ue[F];if(Array.isArray(te))for(const pe of te)pe in t||Ce.push({instanceLocation:u,keyword:"dependencies",keywordLocation:Re,error:`Instance has "${F}" but does not have "${pe}".`});else{const pe=fn(t,te,n,r,a,o,u,`${Re}/${La(F)}`);pe.valid||Ce.push({instanceLocation:u,keyword:"dependencies",keywordLocation:Re,error:`Instance has "${F}" but does not match dependant schema.`},...pe.errors)}}}const Pe=Object.create(null);let He=!1;if(V!==void 0){const Re=`${c}/properties`;for(const F in V){if(!(F in t))continue;const te=`${u}/${La(F)}`,pe=fn(t[F],V[F],n,r,a,o,te,`${Re}/${La(F)}`);if(pe.valid)d[F]=Pe[F]=!0;else if(He=a,Ce.push({instanceLocation:u,keyword:"properties",keywordLocation:Re,error:`Property "${F}" does not match schema.`},...pe.errors),He)break}}if(!He&&ce!==void 0){const Re=`${c}/patternProperties`;for(const F in ce){const te=new RegExp(F,"u"),pe=ce[F];for(const De in t){if(!te.test(De))continue;const gt=`${u}/${La(De)}`,En=fn(t[De],pe,n,r,a,o,gt,`${Re}/${La(F)}`);En.valid?d[De]=Pe[De]=!0:(He=a,Ce.push({instanceLocation:u,keyword:"patternProperties",keywordLocation:Re,error:`Property "${De}" matches pattern "${F}" but does not match associated schema.`},...En.errors))}}}if(!He&&he!==void 0){const Re=`${c}/additionalProperties`;for(const F in t){if(Pe[F])continue;const te=`${u}/${La(F)}`,pe=fn(t[F],he,n,r,a,o,te,Re);pe.valid?d[F]=!0:(He=a,Ce.push({instanceLocation:u,keyword:"additionalProperties",keywordLocation:Re,error:`Property "${F}" does not match additional properties schema.`},...pe.errors))}}else if(!He&&ve!==void 0){const Re=`${c}/unevaluatedProperties`;for(const F in t)if(!d[F]){const te=`${u}/${La(F)}`,pe=fn(t[F],ve,n,r,a,o,te,Re);pe.valid?d[F]=!0:Ce.push({instanceLocation:u,keyword:"unevaluatedProperties",keywordLocation:Re,error:`Property "${F}" does not match unevaluated properties schema.`},...pe.errors)}}}else if(p==="array"){nt!==void 0&&t.length>nt&&Ce.push({instanceLocation:u,keyword:"maxItems",keywordLocation:`${c}/maxItems`,error:`Array has too many items (${t.length} > ${nt}).`}),We!==void 0&&t.length<We&&Ce.push({instanceLocation:u,keyword:"minItems",keywordLocation:`${c}/minItems`,error:`Array has too few items (${t.length} < ${We}).`});const Ze=t.length;let Pe=0,He=!1;if(v!==void 0){const Re=`${c}/prefixItems`,F=Math.min(v.length,Ze);for(;Pe<F;Pe++){const te=fn(t[Pe],v[Pe],n,r,a,o,`${u}/${Pe}`,`${Re}/${Pe}`);if(d[Pe]=!0,!te.valid&&(He=a,Ce.push({instanceLocation:u,keyword:"prefixItems",keywordLocation:Re,error:"Items did not match schema."},...te.errors),He))break}}if(G!==void 0){const Re=`${c}/items`;if(Array.isArray(G)){const F=Math.min(G.length,Ze);for(;Pe<F;Pe++){const te=fn(t[Pe],G[Pe],n,r,a,o,`${u}/${Pe}`,`${Re}/${Pe}`);if(d[Pe]=!0,!te.valid&&(He=a,Ce.push({instanceLocation:u,keyword:"items",keywordLocation:Re,error:"Items did not match schema."},...te.errors),He))break}}else for(;Pe<Ze;Pe++){const F=fn(t[Pe],G,n,r,a,o,`${u}/${Pe}`,Re);if(d[Pe]=!0,!F.valid&&(He=a,Ce.push({instanceLocation:u,keyword:"items",keywordLocation:Re,error:"Items did not match schema."},...F.errors),He))break}if(!He&&re!==void 0){const F=`${c}/additionalItems`;for(;Pe<Ze;Pe++){const te=fn(t[Pe],re,n,r,a,o,`${u}/${Pe}`,F);d[Pe]=!0,te.valid||(He=a,Ce.push({instanceLocation:u,keyword:"additionalItems",keywordLocation:F,error:"Items did not match additional items schema."},...te.errors))}}}if(ge!==void 0)if(Ze===0&&be===void 0)Ce.push({instanceLocation:u,keyword:"contains",keywordLocation:`${c}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(be!==void 0&&Ze<be)Ce.push({instanceLocation:u,keyword:"minContains",keywordLocation:`${c}/minContains`,error:`Array has less items (${Ze}) than minContains (${be}).`});else{const Re=`${c}/contains`,F=Ce.length;let te=0;for(let pe=0;pe<Ze;pe++){const De=fn(t[pe],ge,n,r,a,o,`${u}/${pe}`,Re);De.valid?(d[pe]=!0,te++):Ce.push(...De.errors)}te>=(be||0)&&(Ce.length=F),be===void 0&&Se===void 0&&te===0?Ce.splice(F,0,{instanceLocation:u,keyword:"contains",keywordLocation:Re,error:"Array does not contain item matching schema."}):be!==void 0&&te<be?Ce.push({instanceLocation:u,keyword:"minContains",keywordLocation:`${c}/minContains`,error:`Array must contain at least ${be} items matching schema. Only ${te} items were found.`}):Se!==void 0&&te>Se&&Ce.push({instanceLocation:u,keyword:"maxContains",keywordLocation:`${c}/maxContains`,error:`Array may contain at most ${Se} items matching schema. ${te} items were found.`})}if(!He&&x!==void 0){const Re=`${c}/unevaluatedItems`;for(Pe;Pe<Ze;Pe++){if(d[Pe])continue;const F=fn(t[Pe],x,n,r,a,o,`${u}/${Pe}`,Re);d[Pe]=!0,F.valid||Ce.push({instanceLocation:u,keyword:"unevaluatedItems",keywordLocation:Re,error:"Items did not match unevaluated items schema."},...F.errors)}}if(Ft)for(let Re=0;Re<Ze;Re++){const F=t[Re],te=typeof F=="object"&&F!==null;for(let pe=0;pe<Ze;pe++){if(Re===pe)continue;const De=t[pe];(F===De||te&&(typeof De=="object"&&De!==null)&&uu(F,De))&&(Ce.push({instanceLocation:u,keyword:"uniqueItems",keywordLocation:`${c}/uniqueItems`,error:`Duplicate items at indexes ${Re} and ${pe}.`}),Re=Number.MAX_SAFE_INTEGER,pe=Number.MAX_SAFE_INTEGER)}}}else if(p==="number"){if(n==="4"?(Nt!==void 0&&(Zt===!0&&t<=Nt||t<Nt)&&Ce.push({instanceLocation:u,keyword:"minimum",keywordLocation:`${c}/minimum`,error:`${t} is less than ${Zt?"or equal to ":""} ${Nt}.`}),qt!==void 0&&(On===!0&&t>=qt||t>qt)&&Ce.push({instanceLocation:u,keyword:"maximum",keywordLocation:`${c}/maximum`,error:`${t} is greater than ${On?"or equal to ":""} ${qt}.`})):(Nt!==void 0&&t<Nt&&Ce.push({instanceLocation:u,keyword:"minimum",keywordLocation:`${c}/minimum`,error:`${t} is less than ${Nt}.`}),qt!==void 0&&t>qt&&Ce.push({instanceLocation:u,keyword:"maximum",keywordLocation:`${c}/maximum`,error:`${t} is greater than ${qt}.`}),Zt!==void 0&&t<=Zt&&Ce.push({instanceLocation:u,keyword:"exclusiveMinimum",keywordLocation:`${c}/exclusiveMinimum`,error:`${t} is less than ${Zt}.`}),On!==void 0&&t>=On&&Ce.push({instanceLocation:u,keyword:"exclusiveMaximum",keywordLocation:`${c}/exclusiveMaximum`,error:`${t} is greater than or equal to ${On}.`})),hn!==void 0){const Ze=t%hn;Math.abs(0-Ze)>=11920929e-14&&Math.abs(hn-Ze)>=11920929e-14&&Ce.push({instanceLocation:u,keyword:"multipleOf",keywordLocation:`${c}/multipleOf`,error:`${t} is not a multiple of ${hn}.`})}}else if(p==="string"){const Ze=Xn===void 0&&lt===void 0?0:Z3(t);Xn!==void 0&&Ze<Xn&&Ce.push({instanceLocation:u,keyword:"minLength",keywordLocation:`${c}/minLength`,error:`String is too short (${Ze} < ${Xn}).`}),lt!==void 0&&Ze>lt&&Ce.push({instanceLocation:u,keyword:"maxLength",keywordLocation:`${c}/maxLength`,error:`String is too long (${Ze} > ${lt}).`}),Dt!==void 0&&!new RegExp(Dt,"u").test(t)&&Ce.push({instanceLocation:u,keyword:"pattern",keywordLocation:`${c}/pattern`,error:"String does not match pattern."}),me!==void 0&&wv[me]&&!wv[me](t)&&Ce.push({instanceLocation:u,keyword:"format",keywordLocation:`${c}/format`,error:`String does not match format "${me}".`})}return{valid:Ce.length===0,errors:Ce}}function Bi(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_zod"in e))return!1;const n=e._zod;return typeof n=="object"&&n!==null&&"def"in n}function Ls(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_def"in e)||"_zod"in e)return!1;const n=e._def;return typeof n=="object"&&n!=null&&"typeName"in n}function Uc(t){return!t||typeof t!="object"||Array.isArray(t)?!1:!!(Bi(t)||Ls(t))}async function X0(t,e){if(Bi(t))return OD(t,e);if(Ls(t))return t.parse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Q0(t){if(Bi(t))return ws.get(t)?.description;if(Ls(t)||"description"in t&&typeof t.description=="string")return t.description}function _O(t){return Uc(t)?Ls(t)?t._def.typeName==="ZodString":Bi(t)?t._zod.def.type==="string":!1:!1}function sc(t){return Bi(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="object":!1}function yO(t){return Bi(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="array":!1}function Xb(t,e=!1){if(Ls(t))return t.strict();if(sc(t)){const n=t._zod.def.shape;if(e)for(const[o,u]of Object.entries(t._zod.def.shape)){if(sc(u)){const d=Xb(u,e);n[o]=d}else if(yO(u)){let d=u._zod.def.element;sc(d)&&(d=Xb(d,e)),n[o]=Yf(u,{...u._zod.def,element:d})}else n[o]=u;const c=ws.get(u);c&&ws.add(n[o],c)}const r=Yf(t,{...t._zod.def,shape:n,catchall:DD(MD)}),a=ws.get(t);return a&&ws.add(r,a),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function X3(t){return Ls(t)&&"typeName"in t._def&&t._def.typeName==="ZodEffects"}function Q3(t){return Bi(t)&&t._zod.def.type==="pipe"}function Jl(t,e=!1){if(Ls(t))return X3(t)?Jl(t._def.schema,e):t;if(Bi(t)){let n=t;if(Q3(t)&&(n=Jl(t._zod.def.in,e)),e){if(sc(n)){const a=n._zod.def.shape;for(const[o,u]of Object.entries(n._zod.def.shape))a[o]=Jl(u,e);n=Yf(n,{...n._zod.def,shape:a})}else if(yO(n)){const a=Jl(n._zod.def.element,e);n=Yf(n,{...n._zod.def,element:a})}}const r=ws.get(t);return r&&ws.add(n,r),n}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function bu(t){if(Bi(t)){const e=Jl(t,!0);if(sc(e)){const n=Xb(e,!0);return yv(n)}else return yv(t)}return Ls(t)?E3(t):t}function xf(t){if(!t||typeof t!="object"||Object.keys(t).length===0||Array.isArray(t))return!1;if("type"in t)return typeof t.type=="string"?t.type==="string":Array.isArray(t.type)?t.type.every(e=>e==="string"):!1;if("enum"in t)return Array.isArray(t.enum)&&t.enum.length>0&&t.enum.every(e=>typeof e=="string");if("const"in t)return typeof t.const=="string";if("allOf"in t&&Array.isArray(t.allOf))return t.allOf.some(e=>xf(e));if("anyOf"in t&&Array.isArray(t.anyOf)||"oneOf"in t&&Array.isArray(t.oneOf)){const e="anyOf"in t?t.anyOf:t.oneOf;return e.length>0&&e.every(n=>xf(n))}if("not"in t)return!1;if("$ref"in t&&typeof t.$ref=="string"){const e=t.$ref,n=iu(t);return n[e]?xf(n[e]):!1}return!1}function W3(t,e){if(t!==void 0&&!nc(t))return t;if(Y0(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function J3(t){return Y0(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...bu(t.data.schema),title:t.data.name}}}class gh{constructor(e){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=e?.nodes??this.nodes,this.edges=e?.edges??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=nc(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...J3(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const a=n??hr(),o={id:a,data:e,name:W3(n,e),metadata:r};return this.nodes[a]=o,o}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,a){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const o={source:e.id,target:n.id,data:r,conditional:a};return this.edges.push(o),o}firstNode(){return vv(this)}lastNode(){return Sv(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(f=>f.id).every(nc)&&(r="");const o=f=>r?`${r}:${f}`:f;Object.entries(e.nodes).forEach(([f,p])=>{this.nodes[o(f)]={...p,id:o(f)}});const u=e.edges.map(f=>({...f,source:o(f.source),target:o(f.target)}));this.edges=[...this.edges,...u];const c=e.firstNode(),d=e.lastNode();return[c?{id:o(c.id),data:c.data}:void 0,d?{id:o(d.id),data:d.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&vv(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&Sv(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(a=>[a.id,a.name])),n=new Map;Object.values(e).forEach(a=>{n.set(a,(n.get(a)||0)+1)});const r=a=>{const o=e[a];return nc(a)&&n.get(o)===1?o:a};return new gh({nodes:Object.fromEntries(Object.entries(this.nodes).map(([a,o])=>[r(a),{...o,id:r(a)}])),edges:this.edges.map(a=>({...a,source:r(a.source),target:r(a.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:a={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:o}=e??{},u=this.reid(),c=u.firstNode(),d=u.lastNode();return gD(u.nodes,u.edges,{firstNode:c?.id,lastNode:d?.id,withStyles:n,curveStyle:r,nodeColors:a,wrapLabelNWords:o})}async drawMermaidPng(e){const n=this.drawMermaid(e);return bD(n,{backgroundColor:e?.backgroundColor})}}function vv(t,e=[]){const n=new Set(t.edges.filter(a=>!e.includes(a.source)).map(a=>a.target)),r=[];for(const a of Object.values(t.nodes))!e.includes(a.id)&&!n.has(a.id)&&r.push(a);return r.length===1?r[0]:void 0}function Sv(t,e=[]){const n=new Set(t.edges.filter(a=>!e.includes(a.target)).map(a=>a.source)),r=[];for(const a of Object.values(t.nodes))!e.includes(a.id)&&!n.has(a.id)&&r.push(a);return r.length===1?r[0]:void 0}function eP(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const a of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(a)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return aa.fromReadableStream(n)}function Av(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const tP=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function Qb(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*Ov(t,e){for(;;){const{value:n,done:r}=pi.runWithConfig(Rs(t),e.next.bind(e),!0);if(r)break;yield n}}async function*Wb(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:a}=await pi.runWithConfig(Rs(t),n.next.bind(e),!0);if(a)break;yield r}}function Kn(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}class _n extends fi{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new Os({bound:this,kwargs:e,config:{}})}map(){return new Kf({bound:this})}withRetry(e){return new EO({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new Os({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new rP({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(kt);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([a])=>a!=="runId"));return Array.from({length:n},(a,o)=>kt(o===0?e:r))}return Array.from({length:n},()=>kt(e))}async batch(e,n,r){const a=this._getOptionsList(n??{},e.length),o=a[0]?.maxConcurrency??r?.maxConcurrency,u=new G0({maxConcurrency:o,onFailedAttempt:d=>{throw d}}),c=e.map((d,f)=>u.call(async()=>{try{return await this.invoke(d,a[f])}catch(p){if(r?.returnExceptions)return p;throw p}}));return Promise.all(c)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=kt(n),a=new Ou({generator:this._streamIterator(e,r),config:r});return await a.setup,aa.fromAsyncGenerator(a)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=kt(e):n=kt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const a=kt(r),u=await(await Ba(a))?.handleChainStart(this.toJSON(),Kn(n,"input"),a.runId,a?.runType,void 0,void 0,a?.runName??this.getName());delete a.runId;let c;try{const d=e.call(this,n,a,u);c=await ks(d,r?.signal)}catch(d){throw await u?.handleChainError(d),d}return await u?.handleChainEnd(Kn(c,"output")),c}async _batchWithConfig(e,n,r,a){const o=this._getOptionsList(r??{},n.length),u=await Promise.all(o.map(Ba)),c=await Promise.all(u.map(async(f,p)=>{const m=await f?.handleChainStart(this.toJSON(),Kn(n[p],"input"),o[p].runId,o[p].runType,void 0,void 0,o[p].runName??this.getName());return delete o[p].runId,m}));let d;try{const f=e.call(this,n,o,c,a);d=await ks(f,o?.[0]?.signal)}catch(f){throw await Promise.all(c.map(p=>p?.handleChainError(f))),f}return await Promise.all(c.map(f=>f?.handleChainEnd(Kn(d,"output")))),d}_concatOutputChunks(e,n){return Pc(e,n)}async*_transformStreamWithConfig(e,n,r){let a,o=!0,u,c=!0;const d=kt(r),f=await Ba(d),p=this;async function*m(){for await(const E of e){if(o)if(a===void 0)a=E;else try{a=p._concatOutputChunks(a,E)}catch{a=void 0,o=!1}yield E}}let b;try{const E=await sD(n.bind(this),m(),async()=>f?.handleChainStart(this.toJSON(),{input:""},d.runId,d.runType,void 0,void 0,d.runName??this.getName()),r?.signal,d);delete d.runId,b=E.setup;const T=b?.handlers.find(lD);let w=E.output;T!==void 0&&b!==void 0&&(w=T.tapOutputIterable(b.runId,w));const A=b?.handlers.find(oD);A!==void 0&&b!==void 0&&(w=A.tapOutputIterable(b.runId,w));for await(const O of w)if(yield O,c)if(u===void 0)u=O;else try{u=this._concatOutputChunks(u,O)}catch{u=void 0,c=!1}}catch(E){throw await b?.handleChainError(E,void 0,void 0,void 0,{inputs:Kn(a,"input")}),E}await b?.handleChainEnd(u??{},void 0,void 0,void 0,{inputs:Kn(a,"input")})}getGraph(e){const n=new gh,r=n.addNode({name:`${this.getName()}Input`,schema:j1()}),a=n.addNode(this),o=n.addNode({name:`${this.getName()}Output`,schema:j1()});return n.addEdge(r,a),n.addEdge(a,o),n}pipe(e){return new Ua({first:this,last:so(e)})}pick(e){return this.pipe(new aP(e))}assign(e){return this.pipe(new TO(new Nu({steps:e})))}async*transform(e,n){let r;for await(const a of e)r===void 0?r=a:r=this._concatOutputChunks(r,a);yield*this._streamIterator(r,kt(n))}async*streamLog(e,n,r){const a=new bv({...r,autoClose:!1,_schemaFormat:"original"}),o=kt(n);yield*this._streamLog(e,a,o)}async*_streamLog(e,n,r){const{callbacks:a}=r;if(a===void 0)r.callbacks=[n];else if(Array.isArray(a))r.callbacks=a.concat([n]);else{const d=a.copy();d.addHandler(n,!0),r.callbacks=d}const o=this.stream(e,r);async function u(){try{const d=await o;for await(const f of d){const p=new _s({ops:[{op:"add",path:"/streamed_output/-",value:f}]});await n.writer.write(p)}}finally{await n.writer.close()}}const c=u();try{for await(const d of n)yield d}finally{await c}}streamEvents(e,n,r){let a;if(n.version==="v1")a=this._streamEventsV1(e,n,r);else if(n.version==="v2")a=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?eP(a):aa.fromAsyncGenerator(a)}async*_streamEventsV2(e,n,r){const a=new cD({...r,autoClose:!1}),o=kt(n),u=o.runId??hr();o.runId=u;const c=o.callbacks;if(c===void 0)o.callbacks=[a];else if(Array.isArray(c))o.callbacks=c.concat(a);else{const T=c.copy();T.addHandler(a,!0),o.callbacks=T}const d=new AbortController,f=this;async function p(){let T,w=null;try{n?.signal?"any"in AbortSignal?T=AbortSignal.any([d.signal,n.signal]):(T=n.signal,w=()=>{d.abort()},n.signal.addEventListener("abort",w,{once:!0})):T=d.signal;const A=await f.stream(e,{...o,signal:T}),O=a.tapOutputIterable(u,A);for await(const k of O)if(d.signal.aborted)break}finally{await a.finish(),T&&w&&T.removeEventListener("abort",w)}}const m=p();let b=!1,E;try{for await(const T of a){if(!b){T.data.input=e,b=!0,E=T.run_id,yield T;continue}T.run_id===E&&T.event.endsWith("_end")&&T.data?.input&&delete T.data.input,yield T}}finally{d.abort(),await m}}async*_streamEventsV1(e,n,r){let a,o=!1;const u=kt(n),c=u.tags??[],d=u.metadata??{},f=u.runName??this.getName(),p=new bv({...r,autoClose:!1,_schemaFormat:"streaming_events"}),m=new hD({...r}),b=this._streamLog(e,p,u);for await(const T of b){if(a?a=a.concat(T):a=Sc.fromRunLogPatch(T),a.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!o){o=!0;const k={...a.state},C={run_id:k.id,event:`on_${k.type}_start`,name:f,tags:c,metadata:d,data:{input:e}};m.includeEvent(C,k.type)&&(yield C)}const w=T.ops.filter(k=>k.path.startsWith("/logs/")).map(k=>k.path.split("/")[2]),A=[...new Set(w)];for(const k of A){let C,$={};const P=a.state.logs[k];if(P.end_time===void 0?P.streamed_output.length>0?C="stream":C="start":C="end",C==="start")P.inputs!==void 0&&($.input=P.inputs);else if(C==="end")P.inputs!==void 0&&($.input=P.inputs),$.output=P.final_output;else if(C==="stream"){const M=P.streamed_output.length;if(M!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${M} instead. Encountered in: "${P.name}"`);$={chunk:P.streamed_output[0]},P.streamed_output=[]}yield{event:`on_${P.type}_${C}`,name:P.name,run_id:P.id,tags:P.tags,metadata:P.metadata,data:$}}const{state:O}=a;if(O.streamed_output.length>0){const k=O.streamed_output.length;if(k!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${k} instead. Encountered in: "${O.name}"`);const C={chunk:O.streamed_output[0]};O.streamed_output=[];const $={event:`on_${O.type}_stream`,run_id:O.id,tags:c,metadata:d,name:f,data:C};m.includeEvent($,O.type)&&(yield $)}}const E=a?.state;if(E!==void 0){const T={event:`on_${E.type}_end`,name:f,run_id:E.id,tags:c,metadata:d,data:{output:E.final_output}};m.includeEvent(T,E.type)&&(yield T)}}static isRunnable(e){return Y0(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Os({bound:this,config:{},configFactories:[a=>({callbacks:[new oO({config:a,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return iP(this,e)}}class Os extends _n{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=Kb(this.config,...e);return Kb(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new EO({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:e?.stopAfterAttempt,...e})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(kt(n),this.kwargs))}async batch(e,n,r){const a=Array.isArray(n)?await Promise.all(n.map(async o=>this._mergeConfig(kt(o),this.kwargs))):await this._mergeConfig(kt(n),this.kwargs);return this.bound.batch(e,a,r)}_concatOutputChunks(e,n){return this.bound._concatOutputChunks(e,n)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(kt(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(kt(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(kt(n),this.kwargs))}streamEvents(e,n,r){const a=this,o=async function*(){yield*a.bound.streamEvents(e,{...await a._mergeConfig(kt(n),a.kwargs),version:n.version},r)};return aa.fromAsyncGenerator(o())}static isRunnableBinding(e){return e.bound&&_n.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new Os({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new oO({config:a,onStart:e,onEnd:n,onError:r})]})]})}}class Kf extends _n{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new Kf({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _invoke(e,n,r){return this.bound.batch(e,Sn(n,{callbacks:r?.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new Kf({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class EO extends Os{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const a=e>1?`retry:attempt:${e}`:void 0;return Sn(n,{callbacks:r?.getChild(a)})}async _invoke(e,n,r){return Ff(a=>super.invoke(e,this._patchConfigForRetry(a,n,r)),{onFailedAttempt:a=>this.onFailedAttempt(a,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,a){const o={};try{await Ff(async u=>{const c=e.map((b,E)=>E).filter(b=>o[b.toString()]===void 0||o[b.toString()]instanceof Error),d=c.map(b=>e[b]),f=c.map(b=>this._patchConfigForRetry(u,n?.[b],r?.[b])),p=await super.batch(d,f,{...a,returnExceptions:!0});let m;for(let b=0;b<p.length;b+=1){const E=p[b],T=c[b];E instanceof Error&&m===void 0&&(m=E,m.input=d[b]),o[T.toString()]=E}if(m)throw m;return p},{onFailedAttempt:u=>this.onFailedAttempt(u,u.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(u){if(a?.returnExceptions!==!0)throw u}return Object.keys(o).sort((u,c)=>parseInt(u,10)-parseInt(c,10)).map(u=>o[parseInt(u,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class Ua extends _n{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){const r=kt(n),o=await(await Ba(r))?.handleChainStart(this.toJSON(),Kn(e,"input"),r.runId,void 0,void 0,void 0,r?.runName);delete r.runId;let u=e,c;try{const d=[this.first,...this.middle];for(let f=0;f<d.length;f+=1){const m=d[f].invoke(u,Sn(r,{callbacks:o?.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`)}));u=await ks(m,n?.signal)}if(n?.signal?.aborted)throw new Error("Aborted");c=await this.last.invoke(u,Sn(r,{callbacks:o?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(d){throw await o?.handleChainError(d),d}return await o?.handleChainEnd(Kn(c,"output")),c}async batch(e,n,r){const a=this._getOptionsList(n??{},e.length),o=await Promise.all(a.map(Ba)),u=await Promise.all(o.map(async(d,f)=>{const p=await d?.handleChainStart(this.toJSON(),Kn(e[f],"input"),a[f].runId,void 0,void 0,void 0,a[f].runName);return delete a[f].runId,p}));let c=e;try{for(let d=0;d<this.steps.length;d+=1){const p=this.steps[d].batch(c,u.map((m,b)=>{const E=m?.getChild(this.omitSequenceTags?void 0:`seq:step:${d+1}`);return Sn(a[b],{callbacks:E})}),r);c=await ks(p,a[0]?.signal)}}catch(d){throw await Promise.all(u.map(f=>f?.handleChainError(d))),d}return await Promise.all(u.map(d=>d?.handleChainEnd(Kn(c,"output")))),c}_concatOutputChunks(e,n){return this.last._concatOutputChunks(e,n)}async*_streamIterator(e,n){const r=await Ba(n),{runId:a,...o}=n??{},u=await r?.handleChainStart(this.toJSON(),Kn(e,"input"),a,void 0,void 0,void 0,o?.runName),c=[this.first,...this.middle,this.last];let d=!0,f;async function*p(){yield e}try{let m=c[0].transform(p(),Sn(o,{callbacks:u?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let b=1;b<c.length;b+=1)m=await c[b].transform(m,Sn(o,{callbacks:u?.getChild(this.omitSequenceTags?void 0:`seq:step:${b+1}`)}));for await(const b of m)if(n?.signal?.throwIfAborted(),yield b,d)if(f===void 0)f=b;else try{f=this._concatOutputChunks(f,b)}catch{f=void 0,d=!1}}catch(m){throw await u?.handleChainError(m),m}await u?.handleChainEnd(Kn(f,"output"))}getGraph(e){const n=new gh;let r=null;return this.steps.forEach((a,o)=>{const u=a.getGraph(e);o!==0&&u.trimFirstNode(),o!==this.steps.length-1&&u.trimLastNode(),n.extend(u);const c=u.firstNode();if(!c)throw new Error(`Runnable ${a} has no first node`);r&&n.addEdge(r,c),r=u.lastNode()}),n}pipe(e){return Ua.isRunnableSequence(e)?new Ua({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new Ua({first:this.first,middle:[...this.middle,this.last],last:so(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&_n.isRunnable(e)}static from([e,...n],r){let a={};return typeof r=="string"?a.name=r:r!==void 0&&(a=r),new Ua({...a,first:so(e),middle:n.slice(0,-1).map(so),last:so(n[n.length-1])})}}class Nu extends _n{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=so(r)}static from(e){return new Nu({steps:e})}async invoke(e,n){const r=kt(n),o=await(await Ba(r))?.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r?.runName);delete r.runId;const u={};try{const c=Object.entries(this.steps).map(async([d,f])=>{u[d]=await f.invoke(e,Sn(r,{callbacks:o?.getChild(`map:key:${d}`)}))});await ks(Promise.all(c),n?.signal)}catch(c){throw await o?.handleChainError(c),c}return await o?.handleChainEnd(u),u}async*_transform(e,n,r){const a={...this.steps},o=sO(e,Object.keys(a).length),u=new Map(Object.entries(a).map(([c,d],f)=>{const p=d.transform(o[f],Sn(r,{callbacks:n?.getChild(`map:key:${c}`)}));return[c,p.next().then(m=>({key:c,gen:p,result:m}))]}));for(;u.size;){const c=Promise.race(u.values()),{key:d,result:f,gen:p}=await ks(c,r?.signal);u.delete(d),f.done||(yield{[d]:f.value},u.set(d,p.next().then(m=>({key:d,gen:p,result:m}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const a=kt(n),o=new Ou({generator:this.transform(r(),a),config:a});return await o.setup,aa.fromAsyncGenerator(o)}}class W0 extends _n{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!P0(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,n){const[r]=this._getOptionsList(n??{},1),a=await Ba(r),o=this.func(Sn(r,{callbacks:a}),e);return ks(o,r?.signal)}async*_streamIterator(e,n){const[r]=this._getOptionsList(n??{},1),a=await this.invoke(e,n);if(Qb(a)){for await(const o of a)r?.signal?.throwIfAborted(),yield o;return}if(tP(a)){for(;;){r?.signal?.throwIfAborted();const o=a.next();if(o.done)break;yield o.value}return}yield a}static from(e){return new W0({func:e})}}function nP(t){if(P0(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}class xu extends _n{static lc_name(){return"RunnableLambda"}constructor(e){if(P0(e.func))return W0.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),nP(e.func),this.func=e.func}static from(e){return new xu({func:e})}async _invoke(e,n,r){return new Promise((a,o)=>{const u=Sn(n,{callbacks:r?.getChild(),recursionLimit:(n?.recursionLimit??jg)-1});pi.runWithConfig(Rs(u),async()=>{try{let c=await this.func(e,{...u});if(c&&_n.isRunnable(c)){if(n?.recursionLimit===0)throw new Error("Recursion limit reached.");c=await c.invoke(e,{...u,recursionLimit:(u.recursionLimit??jg)-1})}else if(Qb(c)){let d;for await(const f of Wb(u,c))if(n?.signal?.throwIfAborted(),d===void 0)d=f;else try{d=this._concatOutputChunks(d,f)}catch{d=f}c=d}else if(Av(c)){let d;for(const f of Ov(u,c))if(n?.signal?.throwIfAborted(),d===void 0)d=f;else try{d=this._concatOutputChunks(d,f)}catch{d=f}c=d}a(c)}catch(c){o(c)}})})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async*_transform(e,n,r){let a;for await(const c of e)if(a===void 0)a=c;else try{a=this._concatOutputChunks(a,c)}catch{a=c}const o=Sn(r,{callbacks:n?.getChild(),recursionLimit:(r?.recursionLimit??jg)-1}),u=await new Promise((c,d)=>{pi.runWithConfig(Rs(o),async()=>{try{const f=await this.func(a,{...o,config:o});c(f)}catch(f){d(f)}})});if(u&&_n.isRunnable(u)){if(r?.recursionLimit===0)throw new Error("Recursion limit reached.");const c=await u.stream(a,o);for await(const d of c)yield d}else if(Qb(u))for await(const c of Wb(o,u))r?.signal?.throwIfAborted(),yield c;else if(Av(u))for(const c of Ov(o,u))r?.signal?.throwIfAborted(),yield c;else yield u}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const a=kt(n),o=new Ou({generator:this.transform(r(),a),config:a});return await o.setup,aa.fromAsyncGenerator(o)}}class rP extends _n{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=kt(n),a=await Ba(r),{runId:o,...u}=r,c=await a?.handleChainStart(this.toJSON(),Kn(e,"input"),o,void 0,void 0,void 0,u?.runName),d=Sn(u,{callbacks:c?.getChild()});return await pi.runWithConfig(d,async()=>{let p;for(const m of this.runnables()){r?.signal?.throwIfAborted();try{const b=await m.invoke(e,d);return await c?.handleChainEnd(Kn(b,"output")),b}catch(b){p===void 0&&(p=b)}}throw p===void 0?new Error("No error stored at end of fallback."):(await c?.handleChainError(p),p)})}async*_streamIterator(e,n){const r=kt(n),a=await Ba(r),{runId:o,...u}=r,c=await a?.handleChainStart(this.toJSON(),Kn(e,"input"),o,void 0,void 0,void 0,u?.runName);let d,f;for(const m of this.runnables()){r?.signal?.throwIfAborted();const b=Sn(u,{callbacks:c?.getChild()});try{const E=await m.stream(e,b);f=Wb(b,E);break}catch(E){d===void 0&&(d=E)}}if(f===void 0){const m=d??new Error("No error stored at end of fallback.");throw await c?.handleChainError(m),m}let p;try{for await(const m of f){yield m;try{p=p===void 0?p:this._concatOutputChunks(p,m)}catch{p=void 0}}}catch(m){throw await c?.handleChainError(m),m}await c?.handleChainEnd(Kn(p,"output"))}async batch(e,n,r){if(r?.returnExceptions)throw new Error("Not implemented.");const a=this._getOptionsList(n??{},e.length),o=await Promise.all(a.map(d=>Ba(d))),u=await Promise.all(o.map(async(d,f)=>{const p=await d?.handleChainStart(this.toJSON(),Kn(e[f],"input"),a[f].runId,void 0,void 0,void 0,a[f].runName);return delete a[f].runId,p}));let c;for(const d of this.runnables()){a[0].signal?.throwIfAborted();try{const f=await d.batch(e,u.map((p,m)=>Sn(a[m],{callbacks:p?.getChild()})),r);return await Promise.all(u.map((p,m)=>p?.handleChainEnd(Kn(f[m],"output")))),f}catch(f){c===void 0&&(c=f)}}throw c?(await Promise.all(u.map(d=>d?.handleChainError(c))),c):new Error("No error stored at end of fallbacks.")}}function so(t){if(typeof t=="function")return new xu({func:t});if(_n.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=so(r);return new Nu({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class TO extends _n{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof Nu&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const a=this.mapper.getStepsKeys(),[o,u]=sO(e),c=this.mapper.transform(u,Sn(r,{callbacks:n?.getChild()})),d=c.next();for await(const f of o){if(typeof f!="object"||Array.isArray(f))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof f}`);const p=Object.fromEntries(Object.entries(f).filter(([m])=>!a.includes(m)));Object.keys(p).length>0&&(yield p)}yield(await d).value;for await(const f of c)yield f}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const a=kt(n),o=new Ou({generator:this.transform(r(),a),config:a});return await o.setup,aa.fromAsyncGenerator(o)}}class aP extends _n{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const a=kt(n),o=new Ou({generator:this.transform(r(),a),config:a});return await o.setup,aa.fromAsyncGenerator(o)}}class Nv extends Os{constructor(e){const n=Ua.from([xu.from(async r=>{let a;if(tc(r))try{a=await X0(this.schema,r.args)}catch{throw new _c("Received tool input did not match expected schema",JSON.stringify(r.args))}else a=r;return a}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}function iP(t,e){const n=e.name??t.getName(),r=e.description??Q0(e.schema);return _O(e.schema)?new Nv({name:n,description:r,schema:D0({input:L0()}).transform(a=>a.input),bound:t}):new Nv({name:n,description:r,schema:e.schema,bound:t})}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var sP=typeof window=="object"?window:{},ht="0123456789abcdef".split(""),oP=[-2147483648,8388608,32768,128],Ma=[24,16,8,0],Yn=[];function $a(t){t?(Yn[0]=Yn[16]=Yn[1]=Yn[2]=Yn[3]=Yn[4]=Yn[5]=Yn[6]=Yn[7]=Yn[8]=Yn[9]=Yn[10]=Yn[11]=Yn[12]=Yn[13]=Yn[14]=Yn[15]=0,this.blocks=Yn):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}$a.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===sP.ArrayBuffer&&(t=new Uint8Array(t));for(var n,r=0,a,o=t.length||0,u=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),e)for(a=this.start;r<o&&a<64;++r)u[a>>2]|=t[r]<<Ma[a++&3];else for(a=this.start;r<o&&a<64;++r)n=t.charCodeAt(r),n<128?u[a>>2]|=n<<Ma[a++&3]:n<2048?(u[a>>2]|=(192|n>>6)<<Ma[a++&3],u[a>>2]|=(128|n&63)<<Ma[a++&3]):n<55296||n>=57344?(u[a>>2]|=(224|n>>12)<<Ma[a++&3],u[a>>2]|=(128|n>>6&63)<<Ma[a++&3],u[a>>2]|=(128|n&63)<<Ma[a++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++r)&1023),u[a>>2]|=(240|n>>18)<<Ma[a++&3],u[a>>2]|=(128|n>>12&63)<<Ma[a++&3],u[a>>2]|=(128|n>>6&63)<<Ma[a++&3],u[a>>2]|=(128|n&63)<<Ma[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=u[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};$a.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=oP[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};$a.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,a=this.h4,o,u,c,d=this.blocks;for(u=16;u<80;++u)c=d[u-3]^d[u-8]^d[u-14]^d[u-16],d[u]=c<<1|c>>>31;for(u=0;u<20;u+=5)o=e&n|~e&r,c=t<<5|t>>>27,a=c+o+a+1518500249+d[u]<<0,e=e<<30|e>>>2,o=t&e|~t&n,c=a<<5|a>>>27,r=c+o+r+1518500249+d[u+1]<<0,t=t<<30|t>>>2,o=a&t|~a&e,c=r<<5|r>>>27,n=c+o+n+1518500249+d[u+2]<<0,a=a<<30|a>>>2,o=r&a|~r&t,c=n<<5|n>>>27,e=c+o+e+1518500249+d[u+3]<<0,r=r<<30|r>>>2,o=n&r|~n&a,c=e<<5|e>>>27,t=c+o+t+1518500249+d[u+4]<<0,n=n<<30|n>>>2;for(;u<40;u+=5)o=e^n^r,c=t<<5|t>>>27,a=c+o+a+1859775393+d[u]<<0,e=e<<30|e>>>2,o=t^e^n,c=a<<5|a>>>27,r=c+o+r+1859775393+d[u+1]<<0,t=t<<30|t>>>2,o=a^t^e,c=r<<5|r>>>27,n=c+o+n+1859775393+d[u+2]<<0,a=a<<30|a>>>2,o=r^a^t,c=n<<5|n>>>27,e=c+o+e+1859775393+d[u+3]<<0,r=r<<30|r>>>2,o=n^r^a,c=e<<5|e>>>27,t=c+o+t+1859775393+d[u+4]<<0,n=n<<30|n>>>2;for(;u<60;u+=5)o=e&n|e&r|n&r,c=t<<5|t>>>27,a=c+o+a-1894007588+d[u]<<0,e=e<<30|e>>>2,o=t&e|t&n|e&n,c=a<<5|a>>>27,r=c+o+r-1894007588+d[u+1]<<0,t=t<<30|t>>>2,o=a&t|a&e|t&e,c=r<<5|r>>>27,n=c+o+n-1894007588+d[u+2]<<0,a=a<<30|a>>>2,o=r&a|r&t|a&t,c=n<<5|n>>>27,e=c+o+e-1894007588+d[u+3]<<0,r=r<<30|r>>>2,o=n&r|n&a|r&a,c=e<<5|e>>>27,t=c+o+t-1894007588+d[u+4]<<0,n=n<<30|n>>>2;for(;u<80;u+=5)o=e^n^r,c=t<<5|t>>>27,a=c+o+a-899497514+d[u]<<0,e=e<<30|e>>>2,o=t^e^n,c=a<<5|a>>>27,r=c+o+r-899497514+d[u+1]<<0,t=t<<30|t>>>2,o=a^t^e,c=r<<5|r>>>27,n=c+o+n-899497514+d[u+2]<<0,a=a<<30|a>>>2,o=r^a^t,c=n<<5|n>>>27,e=c+o+e-899497514+d[u+3]<<0,r=r<<30|r>>>2,o=n^r^a,c=e<<5|e>>>27,t=c+o+t-899497514+d[u+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+a<<0};$a.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,a=this.h4;return ht[t>>28&15]+ht[t>>24&15]+ht[t>>20&15]+ht[t>>16&15]+ht[t>>12&15]+ht[t>>8&15]+ht[t>>4&15]+ht[t&15]+ht[e>>28&15]+ht[e>>24&15]+ht[e>>20&15]+ht[e>>16&15]+ht[e>>12&15]+ht[e>>8&15]+ht[e>>4&15]+ht[e&15]+ht[n>>28&15]+ht[n>>24&15]+ht[n>>20&15]+ht[n>>16&15]+ht[n>>12&15]+ht[n>>8&15]+ht[n>>4&15]+ht[n&15]+ht[r>>28&15]+ht[r>>24&15]+ht[r>>20&15]+ht[r>>16&15]+ht[r>>12&15]+ht[r>>8&15]+ht[r>>4&15]+ht[r&15]+ht[a>>28&15]+ht[a>>24&15]+ht[a>>20&15]+ht[a>>16&15]+ht[a>>12&15]+ht[a>>8&15]+ht[a>>4&15]+ht[a&15]};$a.prototype.toString=$a.prototype.hex;$a.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,a=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,a>>24&255,a>>16&255,a>>8&255,a&255]};$a.prototype.array=$a.prototype.digest;$a.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};let xv=!1;const uP=t=>(xv||(console.warn(["The default method for hashing keys is insecure and will be replaced in a future version,","but hasn't been replaced yet as to not break existing caches. It's recommended that you use","a more secure hashing algorithm to avoid cache poisoning.","","See this page for more information:","|","> https://js.langchain.com/docs/troubleshooting/warnings/insecure-cache-algorithm"].join(`
`)),xv=!0),new $a(!0).update(t).hex()),lP=(...t)=>uP(t.join("_"));class cP{constructor(){Object.defineProperty(this,"keyEncoder",{enumerable:!0,configurable:!0,writable:!0,value:lP})}makeDefaultKeyEncoder(e){this.keyEncoder=e}}const dP=new Map;class J0 extends cP{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(this.keyEncoder(e,n))??null)}async update(e,n,r){this.cache.set(this.keyEncoder(e,n),r)}static global(){return new J0(dP)}}class e_ extends fi{}class wO extends e_{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Ms(this.value)]}}class vO extends e_{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return LA(this.messages)}toChatMessages(){return this.messages}}class fP extends e_{static lc_name(){return"ImagePromptValue"}constructor(e){"imageUrl"in e||(e={imageUrl:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"imageUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.imageUrl=e.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new Ms({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}}var Bl={},Cv;function hP(){if(Cv)return Bl;Cv=1,Bl.byteLength=c,Bl.toByteArray=f,Bl.fromByteArray=b;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=r.length;a<o;++a)t[a]=r[a],e[r.charCodeAt(a)]=a;e[45]=62,e[95]=63;function u(E){var T=E.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=E.indexOf("=");w===-1&&(w=T);var A=w===T?0:4-w%4;return[w,A]}function c(E){var T=u(E),w=T[0],A=T[1];return(w+A)*3/4-A}function d(E,T,w){return(T+w)*3/4-w}function f(E){var T,w=u(E),A=w[0],O=w[1],k=new n(d(E,A,O)),C=0,$=O>0?A-4:A,P;for(P=0;P<$;P+=4)T=e[E.charCodeAt(P)]<<18|e[E.charCodeAt(P+1)]<<12|e[E.charCodeAt(P+2)]<<6|e[E.charCodeAt(P+3)],k[C++]=T>>16&255,k[C++]=T>>8&255,k[C++]=T&255;return O===2&&(T=e[E.charCodeAt(P)]<<2|e[E.charCodeAt(P+1)]>>4,k[C++]=T&255),O===1&&(T=e[E.charCodeAt(P)]<<10|e[E.charCodeAt(P+1)]<<4|e[E.charCodeAt(P+2)]>>2,k[C++]=T>>8&255,k[C++]=T&255),k}function p(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function m(E,T,w){for(var A,O=[],k=T;k<w;k+=3)A=(E[k]<<16&16711680)+(E[k+1]<<8&65280)+(E[k+2]&255),O.push(p(A));return O.join("")}function b(E){for(var T,w=E.length,A=w%3,O=[],k=16383,C=0,$=w-A;C<$;C+=k)O.push(m(E,C,C+k>$?$:C+k));return A===1?(T=E[w-1],O.push(t[T>>2]+t[T<<4&63]+"==")):A===2&&(T=(E[w-2]<<8)+E[w-1],O.push(t[T>>10]+t[T>>4&63]+t[T<<2&63]+"=")),O.join("")}return Bl}var pP=hP();const mP=Is(pP);var gP=Object.defineProperty,bP=(t,e,n)=>e in t?gP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_P=(t,e,n)=>(bP(t,e+"",n),n);function yP(t,e){let n=Array.from({length:t.length},(r,a)=>({start:a,end:a+1}));for(;n.length>1;){let r=null;for(let a=0;a<n.length-1;a++){const o=t.slice(n[a].start,n[a+1].end),u=e.get(o.join(","));u!=null&&(r==null||u<r[0])&&(r=[u,a])}if(r!=null){const a=r[1];n[a]={start:n[a].start,end:n[a+1].end},n.splice(a+1,1)}else break}return n}function EP(t,e){return t.length===1?[e.get(t.join(","))]:yP(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function TP(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Jb=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(t,e){this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,a)=>{const[o,u,...c]=a.split(" "),d=Number.parseInt(u,10);return c.forEach((f,p)=>r[f]=d+p),r},{});for(const[r,a]of Object.entries(n)){const o=mP.toByteArray(r);this.rankMap.set(o.join(","),a),this.textMap.set(a,o)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[a,o])=>(r[o]=this.textEncoder.encode(a),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),a=Jb.specialTokenRegex(Object.keys(this.specialTokens)),o=[],u=new Set(e==="all"?Object.keys(this.specialTokens):e),c=new Set(n==="all"?Object.keys(this.specialTokens).filter(f=>!u.has(f)):n);if(c.size>0){const f=Jb.specialTokenRegex([...c]),p=t.match(f);if(p!=null)throw new Error(`The text contains a special token that is not allowed: ${p[0]}`)}let d=0;for(;;){let f=null,p=d;for(;a.lastIndex=p,f=a.exec(t),!(f==null||u.has(f[0]));)p=f.index+1;const m=f?.index??t.length;for(const E of t.substring(d,m).matchAll(r)){const T=this.textEncoder.encode(E[0]),w=this.rankMap.get(T.join(","));if(w!=null){o.push(w);continue}o.push(...EP(T,this.rankMap))}if(f==null)break;let b=this.specialTokens[f[0]];o.push(b),d=f.index+f[0].length}return o}decode(t){const e=[];let n=0;for(let o=0;o<t.length;++o){const u=t[o],c=this.textMap.get(u)??this.inverseSpecialTokens[u];c!=null&&(e.push(c),n+=c.length)}const r=new Uint8Array(n);let a=0;for(const o of e)r.set(o,a),a+=o.length;return this.textDecoder.decode(r)}},SO=Jb;_P(SO,"specialTokenRegex",t=>new RegExp(t.map(e=>TP(e)).join("|"),"g"));function wP(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}const hf={},vP=new G0({});async function SP(t){return t in hf||(hf[t]=vP.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new SO(e)).catch(e=>{throw delete hf[t],e})),await hf[t]}async function AP(t){return SP(wP(t))}const OP=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t,NP=()=>!1;class t_ extends _n{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??NP(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class xP extends t_{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){const{cache:a,...o}=r;super({callbacks:e??n,...o}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof a=="object"?this.cache=a:a?this.cache=J0.global():this.cache=void 0,this.caller=new G0(r??{})}async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(a=>typeof a=="string"?a:a.type==="text"&&"text"in a?a.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await AP("modelName"in this?OP(this.modelName):"gpt2")}catch(a){console.warn("Failed to calculate number of tokens, falling back to approximate count",a)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(a){console.warn("Failed to calculate number of tokens, falling back to approximate count",a)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new wO(e):Array.isArray(e)?new vO(e.map(Es)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([u,c])=>c!==void 0).map(([u,c])=>`${u}:${JSON.stringify(c)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class _u extends _n{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=kt(n);return this.func&&await this.func(e,r),this._callWithConfig(a=>Promise.resolve(a),e,r)}async*transform(e,n){const r=kt(n);let a,o=!0;for await(const u of this._transformStreamWithConfig(e,c=>c,r))if(yield u,o)if(a===void 0)a=u;else try{a=Pc(a,u)}catch{a=void 0,o=!1}this.func&&a!==void 0&&await this.func(a,r)}static assign(e){return new TO(new Nu({steps:e}))}}function Kg(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let a=0;a<n.content.length;a++){const o=n.content[a];(E2(o)||T2(o))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,a),w2(o),...n.content.slice(a+1)]}))}e.push(r)}return e}class ys extends xP{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=n.signal,[n,r]}async invoke(e,n){const r=ys._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n?.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){if(this._streamResponseChunks===ys.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(e,n);else{const a=ys._convertInputToPromptValue(e).toChatMessages(),[o,u]=this._separateRunnableConfigFromCallOptionsCompat(n),c={...o.metadata,...this.getLsParams(u)},d=await ir.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),f={options:u,invocation_params:this?.invocationParams(u),batch_size:1},p=await d?.handleChatModelStart(this.toJSON(),[Kg(a)],o.runId,void 0,f,void 0,void 0,o.runName);let m,b;try{for await(const E of this._streamResponseChunks(a,u,p?.[0])){if(E.message.id==null){const T=p?.at(0)?.runId;T!=null&&E.message._updateId(`run-${T}`)}E.message.response_metadata={...E.generationInfo,...E.message.response_metadata},yield E.message,m?m=m.concat(E):m=E,N1(E.message)&&E.message.usage_metadata!==void 0&&(b={tokenUsage:{promptTokens:E.message.usage_metadata.input_tokens,completionTokens:E.message.usage_metadata.output_tokens,totalTokens:E.message.usage_metadata.total_tokens}})}}catch(E){throw await Promise.all((p??[]).map(T=>T?.handleLLMError(E))),E}await Promise.all((p??[]).map(E=>E?.handleLLMEnd({generations:[[m]],llmOutput:b})))}}getLsParams(e){const n=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:n}}async _generateUncached(e,n,r,a){const o=e.map(m=>m.map(Es));let u;if(a!==void 0&&a.length===o.length)u=a;else{const m={...r.metadata,...this.getLsParams(n)},b=await ir.configure(r.callbacks,this.callbacks,r.tags,this.tags,m,this.metadata,{verbose:this.verbose}),E={options:n,invocation_params:this?.invocationParams(n),batch_size:1};u=await b?.handleChatModelStart(this.toJSON(),o.map(Kg),r.runId,void 0,E,void 0,void 0,r.runName)}const c=[],d=[];if(!!u?.[0].handlers.find($L)&&!this.disableStreaming&&o.length===1&&this._streamResponseChunks!==ys.prototype._streamResponseChunks)try{const m=await this._streamResponseChunks(o[0],n,u?.[0]);let b,E;for await(const T of m){if(T.message.id==null){const w=u?.at(0)?.runId;w!=null&&T.message._updateId(`run-${w}`)}b===void 0?b=T:b=Pc(b,T),N1(T.message)&&T.message.usage_metadata!==void 0&&(E={tokenUsage:{promptTokens:T.message.usage_metadata.input_tokens,completionTokens:T.message.usage_metadata.output_tokens,totalTokens:T.message.usage_metadata.total_tokens}})}if(b===void 0)throw new Error("Received empty response from chat model call.");c.push([b]),await u?.[0].handleLLMEnd({generations:c,llmOutput:E})}catch(m){throw await u?.[0].handleLLMError(m),m}else{const m=await Promise.allSettled(o.map((b,E)=>this._generate(b,{...n,promptIndex:E},u?.[E])));await Promise.all(m.map(async(b,E)=>{if(b.status==="fulfilled"){const T=b.value;for(const w of T.generations){if(w.message.id==null){const A=u?.at(0)?.runId;A!=null&&w.message._updateId(`run-${A}`)}w.message.response_metadata={...w.generationInfo,...w.message.response_metadata}}return T.generations.length===1&&(T.generations[0].message.response_metadata={...T.llmOutput,...T.generations[0].message.response_metadata}),c[E]=T.generations,d[E]=T.llmOutput,u?.[E]?.handleLLMEnd({generations:[T.generations],llmOutput:T.llmOutput})}else return await u?.[E]?.handleLLMError(b.reason),Promise.reject(b.reason)}))}const p={generations:c,llmOutput:d.length?this._combineLLMOutput?.(...d):void 0};return Object.defineProperty(p,Zb,{value:u?{runIds:u?.map(m=>m.runId)}:void 0,configurable:!0}),p}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:a,handledOptions:o}){const u=e.map(A=>A.map(Es)),c={...o.metadata,...this.getLsParams(a)},d=await ir.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),f={options:a,invocation_params:this?.invocationParams(a),batch_size:1},p=await d?.handleChatModelStart(this.toJSON(),u.map(Kg),o.runId,void 0,f,void 0,void 0,o.runName),m=[],E=(await Promise.allSettled(u.map(async(A,O)=>{const k=ys._convertInputToPromptValue(A).toString(),C=await n.lookup(k,r);return C==null&&m.push(O),C}))).map((A,O)=>({result:A,runManager:p?.[O]})).filter(({result:A})=>A.status==="fulfilled"&&A.value!=null||A.status==="rejected"),T=[];await Promise.all(E.map(async({result:A,runManager:O},k)=>{if(A.status==="fulfilled"){const C=A.value;return T[k]=C.map($=>("message"in $&&ui($.message)&&x2($.message)&&($.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),$.generationInfo={...$.generationInfo,tokenUsage:{}},$)),C.length&&await O?.handleLLMNewToken(C[0].text),O?.handleLLMEnd({generations:[C]},void 0,void 0,void 0,{cached:!0})}else return await O?.handleLLMError(A.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(A.reason)}));const w={generations:T,missingPromptIndices:m,startedRunManagers:p};return Object.defineProperty(w,Zb,{value:p?{runIds:p?.map(A=>A.runId)}:void 0,configurable:!0}),w}async generate(e,n,r){let a;Array.isArray(n)?a={stop:n}:a=n;const o=e.map(T=>T.map(Es)),[u,c]=this._separateRunnableConfigFromCallOptionsCompat(a);if(u.callbacks=u.callbacks??r,!this.cache)return this._generateUncached(o,c,u);const{cache:d}=this,f=this._getSerializedCacheKeyParametersForCall(c),{generations:p,missingPromptIndices:m,startedRunManagers:b}=await this._generateCached({messages:o,cache:d,llmStringKey:f,parsedOptions:c,handledOptions:u});let E={};if(m.length>0){const T=await this._generateUncached(m.map(w=>o[w]),c,u,b!==void 0?m.map(w=>b?.[w]):void 0);await Promise.all(T.generations.map(async(w,A)=>{const O=m[A];p[O]=w;const k=ys._convertInputToPromptValue(o[O]).toString();return d.update(k,f,w)})),E=T.llmOutput??{}}return{generations:p,llmOutput:E}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const a=e.map(o=>o.toChatMessages());return this.generate(a,n,r)}async call(e,n,r){return(await this.generate([e.map(Es)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const a=e.toChatMessages();return this.call(a,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const a=new Ms(e),o=await this.call([a],n,r);if(typeof o.content!="string")throw new Error("Cannot use predict when output is not a string.");return o.content}withStructuredOutput(e,n){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(n?.strict)throw new Error('"strict" mode is not supported for this model by default.');const r=e,a=n?.name,o=Q0(r)??"A function available to call.",u=n?.method,c=n?.includeRaw;if(u==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let d=a??"extract",f;Uc(r)?f=[{type:"function",function:{name:d,description:o,parameters:bu(r)}}]:("name"in r&&(d=r.name),f=[{type:"function",function:{name:d,description:o,parameters:r}}]);const p=this.bindTools(f),m=xu.from(w=>{if(!w.tool_calls||w.tool_calls.length===0)throw new Error("No tool calls found in the response.");const A=w.tool_calls.find(O=>O.name===d);if(!A)throw new Error(`No tool call found with name ${d}.`);return A.args});if(!c)return p.pipe(m).withConfig({runName:"StructuredOutput"});const b=_u.assign({parsed:(w,A)=>m.invoke(w.raw,A)}),E=_u.assign({parsed:()=>null}),T=b.withFallbacks({fallbacks:[E]});return Ua.from([{raw:p},T]).withConfig({runName:"StructuredOutputRunnable"})}}var ar=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},vr={searchParams:"URLSearchParams"in ar,iterable:"Symbol"in ar&&"iterator"in Symbol,blob:"FileReader"in ar&&"Blob"in ar&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in ar,arrayBuffer:"ArrayBuffer"in ar};function CP(t){return t&&DataView.prototype.isPrototypeOf(t)}if(vr.arrayBuffer)var RP=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],kP=ArrayBuffer.isView||function(t){return t&&RP.indexOf(Object.prototype.toString.call(t))>-1};function Cu(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function n_(t){return typeof t!="string"&&(t=String(t)),t}function r_(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return vr.iterable&&(e[Symbol.iterator]=function(){return e}),e}function $n(t){this.map={},t instanceof $n?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}$n.prototype.append=function(t,e){t=Cu(t),e=n_(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};$n.prototype.delete=function(t){delete this.map[Cu(t)]};$n.prototype.get=function(t){return t=Cu(t),this.has(t)?this.map[t]:null};$n.prototype.has=function(t){return this.map.hasOwnProperty(Cu(t))};$n.prototype.set=function(t,e){this.map[Cu(t)]=n_(e)};$n.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};$n.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r_(t)};$n.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r_(t)};$n.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r_(t)};vr.iterable&&($n.prototype[Symbol.iterator]=$n.prototype.entries);function Zg(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function AO(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function IP(t){var e=new FileReader,n=AO(e);return e.readAsArrayBuffer(t),n}function MP(t){var e=new FileReader,n=AO(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),a=r?r[1]:"utf-8";return e.readAsText(t,a),n}function LP(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function Rv(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function OO(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:vr.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:vr.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:vr.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():vr.arrayBuffer&&vr.blob&&CP(t)?(this._bodyArrayBuffer=Rv(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):vr.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||kP(t))?this._bodyArrayBuffer=Rv(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):vr.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},vr.blob&&(this.blob=function(){var t=Zg(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Zg(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(vr.blob)return this.blob().then(IP);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=Zg(this);if(t)return t;if(this._bodyBlob)return MP(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(LP(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},vr.formData&&(this.formData=function(){return this.text().then(UP)}),this.json=function(){return this.text().then(JSON.parse)},this}var DP=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function PP(t){var e=t.toUpperCase();return DP.indexOf(e)>-1?e:t}function co(t,e){if(!(this instanceof co))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof co){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new $n(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new $n(e.headers)),this.method=PP(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||(function(){if("AbortController"in ar){var o=new AbortController;return o.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var a=/\?/;this.url+=(a.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}co.prototype.clone=function(){return new co(this,{body:this._bodyInit})};function UP(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),a=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(a),decodeURIComponent(o))}}),e}function BP(t){var e=new $n,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var a=r.split(":"),o=a.shift().trim();if(o){var u=a.join(":").trim();try{e.append(o,u)}catch(c){console.warn("Response "+c.message)}}}),e}OO.call(co.prototype);function mi(t,e){if(!(this instanceof mi))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new $n(e.headers),this.url=e.url||"",this._initBody(t)}OO.call(mi.prototype);mi.prototype.clone=function(){return new mi(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new $n(this.headers),url:this.url})};mi.error=function(){var t=new mi(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var FP=[301,302,303,307,308];mi.redirect=function(t,e){if(FP.indexOf(e)===-1)throw new RangeError("Invalid status code");return new mi(null,{status:e,headers:{location:t}})};var io=ar.DOMException;try{new io}catch{io=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},io.prototype=Object.create(Error.prototype),io.prototype.constructor=io}function NO(t,e){return new Promise(function(n,r){var a=new co(t,e);if(a.signal&&a.signal.aborted)return r(new io("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}o.onload=function(){var f={statusText:o.statusText,headers:BP(o.getAllResponseHeaders()||"")};a.url.indexOf("file://")===0&&(o.status<200||o.status>599)?f.status=200:f.status=o.status,f.url="responseURL"in o?o.responseURL:f.headers.get("X-Request-URL");var p="response"in o?o.response:o.responseText;setTimeout(function(){n(new mi(p,f))},0)},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},o.onabort=function(){setTimeout(function(){r(new io("Aborted","AbortError"))},0)};function c(f){try{return f===""&&ar.location.href?ar.location.href:f}catch{return f}}if(o.open(a.method,c(a.url),!0),a.credentials==="include"?o.withCredentials=!0:a.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(vr.blob?o.responseType="blob":vr.arrayBuffer&&(o.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof $n||ar.Headers&&e.headers instanceof ar.Headers)){var d=[];Object.getOwnPropertyNames(e.headers).forEach(function(f){d.push(Cu(f)),o.setRequestHeader(f,n_(e.headers[f]))}),a.headers.forEach(function(f,p){d.indexOf(p)===-1&&o.setRequestHeader(p,f)})}else a.headers.forEach(function(f,p){o.setRequestHeader(p,f)});a.signal&&(a.signal.addEventListener("abort",u),o.onreadystatechange=function(){o.readyState===4&&a.signal.removeEventListener("abort",u)}),o.send(typeof a._bodyInit>"u"?null:a._bodyInit)})}NO.polyfill=!0;ar.fetch||(ar.fetch=NO,ar.Headers=$n,ar.Request=co,ar.Response=mi);const xO="11434",CO=`http://127.0.0.1:${xO}`,$P="0.5.18";var HP=Object.defineProperty,zP=(t,e,n)=>e in t?HP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xg=(t,e,n)=>(zP(t,typeof e!="symbol"?e+"":e,n),n);class a_ extends Error{constructor(e,n){super(e),this.error=e,this.status_code=n,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,a_)}}class jP{constructor(e,n,r){Xg(this,"abortController"),Xg(this,"itr"),Xg(this,"doneCallback"),this.abortController=e,this.itr=n,this.doneCallback=r}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(const e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}}const i_=async t=>{if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,n=null;if(t.headers.get("content-type")?.includes("application/json"))try{n=await t.json(),e=n.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new a_(e,t.status)};function qP(){if(typeof window<"u"&&window.navigator){const t=navigator;return"userAgentData"in t&&t.userAgentData?.platform?`${t.userAgentData.platform.toLowerCase()} Browser/${navigator.userAgent};`:navigator.platform?`${navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:`unknown Browser/${navigator.userAgent};`}else if(typeof process<"u")return`${process.arch} ${process.platform} Node.js/${process.version}`;return""}function GP(t){if(t instanceof Headers){const e={};return t.forEach((n,r)=>{e[r]=n}),e}else return Array.isArray(t)?Object.fromEntries(t):t||{}}const s_=async(t,e,n={})=>{const r={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${$P} (${qP()})`};n.headers=GP(n.headers);const a=Object.fromEntries(Object.entries(n.headers).filter(([o])=>!Object.keys(r).some(u=>u.toLowerCase()===o.toLowerCase())));return n.headers={...r,...a},t(e,n)},kv=async(t,e,n)=>{const r=await s_(t,e,{headers:n?.headers});return await i_(r),r},Xo=async(t,e,n,r)=>{const o=(c=>c!==null&&typeof c=="object"&&!Array.isArray(c))(n)?JSON.stringify(n):n,u=await s_(t,e,{method:"POST",body:o,signal:r?.signal,headers:r?.headers});return await i_(u),u},YP=async(t,e,n,r)=>{const a=await s_(t,e,{method:"DELETE",body:JSON.stringify(n),headers:r?.headers});return await i_(a),a},VP=async function*(t){const e=new TextDecoder("utf-8");let n="";const r=t.getReader();for(;;){const{done:a,value:o}=await r.read();if(a)break;n+=e.decode(o);const u=n.split(`
`);n=u.pop()??"";for(const c of u)try{yield JSON.parse(c)}catch{console.warn("invalid json: ",c)}}for(const a of n.split(`
`).filter(o=>o!==""))try{yield JSON.parse(a)}catch{console.warn("invalid json: ",a)}},KP=t=>{if(!t)return CO;let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);const n=new URL(t);let r=n.port;r||(e?r=n.protocol==="https:"?"443":"80":r=xO);let a="";n.username&&(a=n.username,n.password&&(a+=`:${n.password}`),a+="@");let o=`${n.protocol}//${a}${n.hostname}:${r}${n.pathname}`;return o.endsWith("/")&&(o=o.slice(0,-1)),o};var ZP=Object.defineProperty,XP=(t,e,n)=>e in t?ZP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qg=(t,e,n)=>(XP(t,typeof e!="symbol"?e+"":e,n),n);let RO=class{constructor(e){Qg(this,"config"),Qg(this,"fetch"),Qg(this,"ongoingStreamedRequests",[]),this.config={host:"",headers:e?.headers},e?.proxy||(this.config.host=KP(e?.host??CO)),this.fetch=e?.fetch??fetch}abort(){for(const e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,n){n.stream=n.stream??!1;const r=`${this.config.host}/api/${e}`;if(n.stream){const o=new AbortController,u=await Xo(this.fetch,r,n,{signal:o.signal,headers:this.config.headers});if(!u.body)throw new Error("Missing body");const c=VP(u.body),d=new jP(o,c,()=>{const f=this.ongoingStreamedRequests.indexOf(d);f>-1&&this.ongoingStreamedRequests.splice(f,1)});return this.ongoingStreamedRequests.push(d),d}return await(await Xo(this.fetch,r,n,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){const n=new Uint8Array(e);let r="";const a=n.byteLength;for(let o=0;o<a;o++)r+=String.fromCharCode(n[o]);return btoa(r)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(const n of e.messages)n.images&&(n.images=await Promise.all(n.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{...e})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await YP(this.fetch,`${this.config.host}/api/delete`,{name:e.model},{headers:this.config.headers}),{status:"success"}}async copy(e){return await Xo(this.fetch,`${this.config.host}/api/copy`,{...e},{headers:this.config.headers}),{status:"success"}}async list(){return await(await kv(this.fetch,`${this.config.host}/api/tags`,{headers:this.config.headers})).json()}async show(e){return await(await Xo(this.fetch,`${this.config.host}/api/show`,{...e},{headers:this.config.headers})).json()}async embed(e){return await(await Xo(this.fetch,`${this.config.host}/api/embed`,{...e},{headers:this.config.headers})).json()}async embeddings(e){return await(await Xo(this.fetch,`${this.config.host}/api/embeddings`,{...e},{headers:this.config.headers})).json()}async ps(){return await(await kv(this.fetch,`${this.config.host}/api/ps`,{headers:this.config.headers})).json()}};new RO;class QP extends Os{constructor(e){let n=xu.from((u,c)=>this._enterHistory(u,c??{})).withConfig({runName:"loadHistory"});const r=e.historyMessagesKey??e.inputMessagesKey;r&&(n=_u.assign({[r]:n}).withConfig({runName:"insertHistory"}));const a=n.pipe(e.runnable.withListeners({onEnd:(u,c)=>this._exitHistory(u,c??{})})).withConfig({runName:"RunnableWithMessageHistory"}),o=e.config??{};super({...e,config:o,bound:a}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"historyMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getMessageHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!ui(e)){let r;this.inputMessagesKey?r=this.inputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="input",Array.isArray(e[r])&&Array.isArray(e[r][0])?n=e[r][0]:n=e[r]}else n=e;if(typeof n=="string")return[new Ms(n)];if(Array.isArray(n))return n;if(ui(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!ui(e)&&typeof e!="string"){let r;this.outputMessagesKey!==void 0?r=this.outputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[r]}else n=e;if(typeof n=="string")return[new Ns(n)];if(Array.isArray(n))return n;if(ui(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){const a=await(n?.configurable?.messageHistory).getMessages();return this.historyMessagesKey===void 0?a.concat(this._getInputMessages(e)):a}async _exitHistory(e,n){const r=n.configurable?.messageHistory;let a;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?a=e.inputs[0]:a=e.inputs;let o=this._getInputMessages(a);if(this.historyMessagesKey===void 0){const d=await r.getMessages();o=o.slice(d.length)}const u=e.outputs;if(!u)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const c=this._getOutputMessages(u);await r.addMessages([...o,...c])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const a={[this.inputMessagesKey??"input"]:"foo"},o={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(a)}, ${JSON.stringify(o)})`)}const{sessionId:r}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(r),n}}function WP(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function JP(t){return t!==void 0&&_n.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function e4(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Uc(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function t4(t){return e4(t)||JP(t)||WP(t)}function n4(t,e){return{name:t.name,description:t.description,parameters:bu(t.schema)}}function Iv(t,e){let n;return t4(t)?n={type:"function",function:n4(t)}:n=t,n}class r4 extends _n{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,a)=>this.parseResult([{text:r}],a?.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,a)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],a?.callbacks),e,{...n,runType:"parser"})}}class o_ extends r4{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class Zf extends Error{constructor(e,n,r,a=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=a,a&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");oh(this,"OUTPUT_PARSING_FAILURE")}}class a4 extends o_{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class i4 extends a4{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=e?.diff??this.diff}async*_transform(e){let n,r;for await(const a of e){if(typeof a!="string"&&typeof a.content!="string")throw new Error("Cannot handle non-string output.");let o;if(A2(a)){if(typeof a.content!="string")throw new Error("Cannot handle non-string message output.");o=new gu({message:a,text:a.content})}else if(ui(a)){if(typeof a.content!="string")throw new Error("Cannot handle non-string message output.");o=new gu({message:M2(a),text:a.content})}else o=new mu({text:a});r===void 0?r=o:r=r.concat(o);const u=await this.parsePartialResult([r]);u!=null&&!uu(u,n)&&(this.diff?yield this._diff(n,u):yield u,n=u)}}getFormatInstructions(){return""}}class s4 extends o_{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=D0(Object.fromEntries(Object.entries(e).map(([r,a])=>[r,L0().describe(a)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(bu(this.schema))}
\`\`\`
`}async parse(e){try{const n=e.trim(),a=(n.match(/^```(?:json)?\s*([\s\S]*?)```/)?.[1]||n.match(/```json\s*([\s\S]*?)```/)?.[1]||n).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,u)=>`"${u.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await X0(this.schema,JSON.parse(a))}catch(n){throw new Zf(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}}class o4 extends i4{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?II(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return v1(e[0].text)}async parse(e){return v1(e,JSON.parse)}getFormatInstructions(){return""}}function u4(t,e){return new ho({content:t.thinking??t.content??"",tool_call_chunks:t.tool_calls?.map(n=>({name:n.function.name,args:JSON.stringify(n.function.arguments),type:"tool_call_chunk",index:0,id:hr()})),response_metadata:e?.responseMetadata,usage_metadata:e?.usageMetadata})}function Mv(t){const e=t.match(/^data:.*?;base64,(.*)$/);return e?e[1]:""}function l4(t){if(typeof t.content=="string")return[{role:"assistant",content:t.content}];const n=t.content.filter(a=>a.type==="text"&&typeof a.text=="string").map(a=>({role:"assistant",content:a.text}));let r;if(t.content.find(a=>a.type==="tool_use")&&t.tool_calls?.length){const a=t.tool_calls?.map(o=>({id:o.id,type:"function",function:{name:o.name,arguments:o.args}}));a&&(r={role:"assistant",tool_calls:a,content:""})}else if(t.content.find(a=>a.type==="tool_use")&&!t.tool_calls?.length)throw new Error("'tool_use' content type is not supported without tool calls.");return[...n,...r?[r]:[]]}function c4(t){return typeof t.content=="string"?[{role:"user",content:t.content}]:t.content.map(e=>{if(e.type==="text")return{role:"user",content:e.text};if(e.type==="image_url"){if(typeof e.image_url=="string")return{role:"user",content:"",images:[Mv(e.image_url)]};if(e.image_url.url&&typeof e.image_url.url=="string")return{role:"user",content:"",images:[Mv(e.image_url.url)]}}throw new Error(`Unsupported content type: ${e.type}`)})}function d4(t){if(typeof t.content=="string")return[{role:"system",content:t.content}];if(t.content.every(e=>e.type==="text"&&typeof e.text=="string"))return t.content.map(e=>({role:"system",content:e.text}));throw new Error(`Unsupported content type(s): ${t.content.map(e=>e.type).join(", ")}`)}function f4(t){if(typeof t.content!="string")throw new Error("Non string tool message content is not supported");return[{role:"tool",content:t.content}]}function h4(t){return t.flatMap(e=>{if(["human","generic"].includes(e._getType()))return c4(e);if(e._getType()==="ai")return l4(e);if(e._getType()==="system")return d4(e);if(e._getType()==="tool")return f4(e);throw new Error(`Unsupported message type: ${e._getType()}`)})}class p4 extends ys{static lc_name(){return"ChatOllama"}constructor(e){super(e??{}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"llama3"}),Object.defineProperty(this,"numa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numCtx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numBatch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mainGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lowVram",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"f16Kv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitsAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vocabOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMmap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMlock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"embeddingOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numThread",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numKeep",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"seed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numPredict",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tfsZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"typicalP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatLastN",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatTau",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatEta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"penalizeNewline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"format",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keepAlive",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"checkOrPullModel",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"http://127.0.0.1:11434"}),Object.defineProperty(this,"think",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.client=new RO({fetch:e?.fetch,host:e?.baseUrl,headers:e?.headers}),this.baseUrl=e?.baseUrl??this.baseUrl,this.model=e?.model??this.model,this.numa=e?.numa,this.numCtx=e?.numCtx,this.numBatch=e?.numBatch,this.numGpu=e?.numGpu,this.mainGpu=e?.mainGpu,this.lowVram=e?.lowVram,this.f16Kv=e?.f16Kv,this.logitsAll=e?.logitsAll,this.vocabOnly=e?.vocabOnly,this.useMmap=e?.useMmap,this.useMlock=e?.useMlock,this.embeddingOnly=e?.embeddingOnly,this.numThread=e?.numThread,this.numKeep=e?.numKeep,this.seed=e?.seed,this.numPredict=e?.numPredict,this.topK=e?.topK,this.topP=e?.topP,this.tfsZ=e?.tfsZ,this.typicalP=e?.typicalP,this.repeatLastN=e?.repeatLastN,this.temperature=e?.temperature,this.repeatPenalty=e?.repeatPenalty,this.presencePenalty=e?.presencePenalty,this.frequencyPenalty=e?.frequencyPenalty,this.mirostat=e?.mirostat,this.mirostatTau=e?.mirostatTau,this.mirostatEta=e?.mirostatEta,this.penalizeNewline=e?.penalizeNewline,this.streaming=e?.streaming,this.format=e?.format,this.keepAlive=e?.keepAlive,this.think=e?.think,this.checkOrPullModel=e?.checkOrPullModel??this.checkOrPullModel}_llmType(){return"ollama"}async pull(e,n){const{stream:r,insecure:a,logProgress:o}={stream:!0,...n};if(r)for await(const u of await this.client.pull({model:e,insecure:a,stream:r}))o&&console.log(u);else{const u=await this.client.pull({model:e,insecure:a});o&&console.log(u)}}bindTools(e,n){return this.withConfig({tools:e.map(r=>Iv(r)),...n})}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"ollama",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.options?.temperature??void 0,ls_max_tokens:n.options?.num_predict??void 0,ls_stop:e.stop}}invocationParams(e){if(e?.tool_choice)throw new Error("Tool choice is not supported for ChatOllama.");return{model:this.model,format:e?.format??this.format,keep_alive:this.keepAlive,think:this.think,options:{numa:this.numa,num_ctx:this.numCtx,num_batch:this.numBatch,num_gpu:this.numGpu,main_gpu:this.mainGpu,low_vram:this.lowVram,f16_kv:this.f16Kv,logits_all:this.logitsAll,vocab_only:this.vocabOnly,use_mmap:this.useMmap,use_mlock:this.useMlock,embedding_only:this.embeddingOnly,num_thread:this.numThread,num_keep:this.numKeep,seed:this.seed,num_predict:this.numPredict,top_k:this.topK,top_p:this.topP,tfs_z:this.tfsZ,typical_p:this.typicalP,repeat_last_n:this.repeatLastN,temperature:this.temperature,repeat_penalty:this.repeatPenalty,presence_penalty:this.presencePenalty,frequency_penalty:this.frequencyPenalty,mirostat:this.mirostat,mirostat_tau:this.mirostatTau,mirostat_eta:this.mirostatEta,penalize_newline:this.penalizeNewline,stop:e?.stop},tools:e?.tools?.length?e.tools.map(n=>Iv(n)):void 0}}async checkModelExistsOnMachine(e){const{models:n}=await this.client.list();return!!n.find(r=>r.name===e||r.name===`${e}:latest`)}async _generate(e,n,r){this.checkOrPullModel&&(await this.checkModelExistsOnMachine(this.model)||await this.pull(this.model,{logProgress:!0}));let a;for await(const u of this._streamResponseChunks(e,n,r))a?a=Pc(a,u.message):a=u.message;const o=new Ns({id:a?.id,content:a?.content??"",tool_calls:a?.tool_calls,response_metadata:a?.response_metadata,usage_metadata:a?.usage_metadata});return{generations:[{text:typeof o.content=="string"?o.content:"",message:o}]}}async*_streamResponseChunks(e,n,r){this.checkOrPullModel&&(await this.checkModelExistsOnMachine(this.model)||await this.pull(this.model,{logProgress:!0}));const a=this.invocationParams(n),o=h4(e),u={input_tokens:0,output_tokens:0,total_tokens:0},c=await this.client.chat({...a,messages:o,stream:!0});let d;for await(const f of c){n.signal?.aborted&&this.client.abort();const{message:p,...m}=f;u.input_tokens+=m.prompt_eval_count??0,u.output_tokens+=m.eval_count??0,u.total_tokens=u.input_tokens+u.output_tokens,d=m;const b=this.think?p.thinking??p.content??"":p.content??"";yield new gu({text:b,message:u4(p)}),await r?.handleLLMNewToken(b)}yield new gu({text:"",message:new ho({content:"",response_metadata:d,usage_metadata:u})})}withStructuredOutput(e,n){if(n?.method===void 0||n?.method==="jsonSchema"){const r=Uc(e),a=r?bu(e):e,o=this.bindTools([{type:"function",function:{name:"extract",description:a.description,parameters:a}}]).withConfig({format:"json",ls_structured_output_format:{kwargs:{method:"jsonSchema"},schema:bu(e)}}),u=r?s4.fromZodSchema(e):new o4;if(!n?.includeRaw)return o.pipe(u);const c=_u.assign({parsed:(p,m)=>u.invoke(p.raw,m)}),d=_u.assign({parsed:()=>null}),f=c.withFallbacks({fallbacks:[d]});return Ua.from([{raw:o},f])}else return super.withStructuredOutput(e,n)}}class m4 extends fi{addUserMessage(e){return this.addMessage(new Ms(e))}addAIChatMessage(e){return this.addMessage(new Ns(e))}addAIMessage(e){return this.addMessage(new Ns(e))}async addMessages(e){for(const n of e)await this.addMessage(n)}clear(){throw new Error("Not implemented.")}}class g4 extends m4{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","stores","message","in_memory"]}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.messages=e??[]}async getMessages(){return this.messages}async addMessage(e){this.messages.push(e)}async clear(){this.messages=[]}}const b4="modulepreload",_4=function(t){return"/ai-agent-web/"+t},Lv={},Pa=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=d(n.map(f=>{if(f=_4(f),f in Lv)return;Lv[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":b4,p||(b.as="script"),b.crossOrigin="",b.href=f,c&&b.setAttribute("nonce",c),document.head.appendChild(b),p)return new Promise((E,T)=>{b.addEventListener("load",E),b.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};class u_ extends _n{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:n}=e;if(n.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const n=this.partialVariables??{},r={};for(const[o,u]of Object.entries(n))typeof u=="string"?r[o]=u:r[o]=await u();return{...r,...e}}async invoke(e,n){const r={...this.metadata,...n?.metadata},a=[...this.tags??[],...n?.tags??[]];return this._callWithConfig(o=>this.formatPromptValue(o),e,{...n,tags:a,metadata:r,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:n}=await Pa(async()=>{const{PromptTemplate:r}=await Promise.resolve().then(()=>Uv);return{PromptTemplate:r}},void 0);return n.deserialize(e)}case void 0:{const{PromptTemplate:n}=await Pa(async()=>{const{PromptTemplate:r}=await Promise.resolve().then(()=>Uv);return{PromptTemplate:r}},void 0);return n.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:n}=await Pa(async()=>{const{FewShotPromptTemplate:r}=await import("./few_shot-B5xcGtf2.js");return{FewShotPromptTemplate:r}},[]);return n.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class e0 extends u_{async formatPromptValue(e){const n=await this.format(e);return new wO(n)}}/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var y4=Object.prototype.toString,Ru=Array.isArray||function(e){return y4.call(e)==="[object Array]"};function l_(t){return typeof t=="function"}function E4(t){return Ru(t)?"array":typeof t}function Wg(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Dv(t,e){return t!=null&&typeof t=="object"&&e in t}function T4(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var w4=RegExp.prototype.test;function v4(t,e){return w4.call(t,e)}var S4=/\S/;function A4(t){return!v4(S4,t)}var O4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function N4(t){return String(t).replace(/[&<>"'`=\/]/g,function(n){return O4[n]})}var x4=/\s*/,C4=/\s+/,Pv=/\s*=/,R4=/\s*\}/,k4=/#|\^|\/|>|\{|&|=|!/;function I4(t,e){if(!t)return[];var n=!1,r=[],a=[],o=[],u=!1,c=!1,d="",f=0;function p(){if(u&&!c)for(;o.length;)delete a[o.pop()];else o=[];u=!1,c=!1}var m,b,E;function T(q){if(typeof q=="string"&&(q=q.split(C4,2)),!Ru(q)||q.length!==2)throw new Error("Invalid tags: "+q);m=new RegExp(Wg(q[0])+"\\s*"),b=new RegExp("\\s*"+Wg(q[1])),E=new RegExp("\\s*"+Wg("}"+q[1]))}T(e||zr.tags);for(var w=new Bc(t),A,O,k,C,$,P;!w.eos();){if(A=w.pos,k=w.scanUntil(m),k)for(var M=0,se=k.length;M<se;++M)C=k.charAt(M),A4(C)?(o.push(a.length),d+=C):(c=!0,n=!0,d+=" "),a.push(["text",C,A,A+1]),A+=1,C===`
`&&(p(),d="",f=0,n=!1);if(!w.scan(m))break;if(u=!0,O=w.scan(k4)||"name",w.scan(x4),O==="="?(k=w.scanUntil(Pv),w.scan(Pv),w.scanUntil(b)):O==="{"?(k=w.scanUntil(E),w.scan(R4),w.scanUntil(b),O="&"):k=w.scanUntil(b),!w.scan(b))throw new Error("Unclosed tag at "+w.pos);if(O==">"?$=[O,k,A,w.pos,d,f,n]:$=[O,k,A,w.pos],f++,a.push($),O==="#"||O==="^")r.push($);else if(O==="/"){if(P=r.pop(),!P)throw new Error('Unopened section "'+k+'" at '+A);if(P[1]!==k)throw new Error('Unclosed section "'+P[1]+'" at '+A)}else O==="name"||O==="{"||O==="&"?c=!0:O==="="&&T(k)}if(p(),P=r.pop(),P)throw new Error('Unclosed section "'+P[1]+'" at '+w.pos);return L4(M4(a))}function M4(t){for(var e=[],n,r,a=0,o=t.length;a<o;++a)n=t[a],n&&(n[0]==="text"&&r&&r[0]==="text"?(r[1]+=n[1],r[3]=n[3]):(e.push(n),r=n));return e}function L4(t){for(var e=[],n=e,r=[],a,o,u=0,c=t.length;u<c;++u)switch(a=t[u],a[0]){case"#":case"^":n.push(a),r.push(a),n=a[4]=[];break;case"/":o=r.pop(),o[5]=a[2],n=r.length>0?r[r.length-1][4]:e;break;default:n.push(a)}return e}function Bc(t){this.string=t,this.tail=t,this.pos=0}Bc.prototype.eos=function(){return this.tail===""};Bc.prototype.scan=function(e){var n=this.tail.match(e);if(!n||n.index!==0)return"";var r=n[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};Bc.prototype.scanUntil=function(e){var n=this.tail.search(e),r;switch(n){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=r.length,r};function yu(t,e){this.view=t,this.cache={".":this.view},this.parent=e}yu.prototype.push=function(e){return new yu(e,this)};yu.prototype.lookup=function(e){var n=this.cache,r;if(n.hasOwnProperty(e))r=n[e];else{for(var a=this,o,u,c,d=!1;a;){if(e.indexOf(".")>0)for(o=a.view,u=e.split("."),c=0;o!=null&&c<u.length;)c===u.length-1&&(d=Dv(o,u[c])||T4(o,u[c])),o=o[u[c++]];else o=a.view[e],d=Dv(a.view,e);if(d){r=o;break}a=a.parent}n[e]=r}return l_(r)&&(r=r.call(this.view)),r};function Cr(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Cr.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Cr.prototype.parse=function(e,n){var r=this.templateCache,a=e+":"+(n||zr.tags).join(":"),o=typeof r<"u",u=o?r.get(a):void 0;return u==null&&(u=I4(e,n),o&&r.set(a,u)),u};Cr.prototype.render=function(e,n,r,a){var o=this.getConfigTags(a),u=this.parse(e,o),c=n instanceof yu?n:new yu(n,void 0);return this.renderTokens(u,c,r,e,a)};Cr.prototype.renderTokens=function(e,n,r,a,o){for(var u="",c,d,f,p=0,m=e.length;p<m;++p)f=void 0,c=e[p],d=c[0],d==="#"?f=this.renderSection(c,n,r,a,o):d==="^"?f=this.renderInverted(c,n,r,a,o):d===">"?f=this.renderPartial(c,n,r,o):d==="&"?f=this.unescapedValue(c,n):d==="name"?f=this.escapedValue(c,n,o):d==="text"&&(f=this.rawValue(c)),f!==void 0&&(u+=f);return u};Cr.prototype.renderSection=function(e,n,r,a,o){var u=this,c="",d=n.lookup(e[1]);function f(b){return u.render(b,n,r,o)}if(d){if(Ru(d))for(var p=0,m=d.length;p<m;++p)c+=this.renderTokens(e[4],n.push(d[p]),r,a,o);else if(typeof d=="object"||typeof d=="string"||typeof d=="number")c+=this.renderTokens(e[4],n.push(d),r,a,o);else if(l_(d)){if(typeof a!="string")throw new Error("Cannot use higher-order sections without the original template");d=d.call(n.view,a.slice(e[3],e[5]),f),d!=null&&(c+=d)}else c+=this.renderTokens(e[4],n,r,a,o);return c}};Cr.prototype.renderInverted=function(e,n,r,a,o){var u=n.lookup(e[1]);if(!u||Ru(u)&&u.length===0)return this.renderTokens(e[4],n,r,a,o)};Cr.prototype.indentPartial=function(e,n,r){for(var a=n.replace(/[^ \t]/g,""),o=e.split(`
`),u=0;u<o.length;u++)o[u].length&&(u>0||!r)&&(o[u]=a+o[u]);return o.join(`
`)};Cr.prototype.renderPartial=function(e,n,r,a){if(r){var o=this.getConfigTags(a),u=l_(r)?r(e[1]):r[e[1]];if(u!=null){var c=e[6],d=e[5],f=e[4],p=u;d==0&&f&&(p=this.indentPartial(u,f,c));var m=this.parse(p,o);return this.renderTokens(m,n,r,p,a)}}};Cr.prototype.unescapedValue=function(e,n){var r=n.lookup(e[1]);if(r!=null)return r};Cr.prototype.escapedValue=function(e,n,r){var a=this.getConfigEscape(r)||zr.escape,o=n.lookup(e[1]);if(o!=null)return typeof o=="number"&&a===zr.escape?String(o):a(o)};Cr.prototype.rawValue=function(e){return e[1]};Cr.prototype.getConfigTags=function(e){return Ru(e)?e:e&&typeof e=="object"?e.tags:void 0};Cr.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!Ru(e))return e.escape};var zr={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){Ac.templateCache=t},get templateCache(){return Ac.templateCache}},Ac=new Cr;zr.clearCache=function(){return Ac.clearCache()};zr.parse=function(e,n){return Ac.parse(e,n)};zr.render=function(e,n,r,a){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+E4(e)+'" was given as the first argument for mustache#render(template, view, partials)');return Ac.render(e,n,r,a)};zr.escape=N4;zr.Scanner=Bc;zr.Context=yu;zr.Writer=Cr;function kO(){zr.escape=t=>t}const Xf=t=>{const e=t.split(""),n=[],r=(o,u)=>{for(let c=u;c<e.length;c+=1)if(o.includes(e[c]))return c;return-1};let a=0;for(;a<e.length;)if(e[a]==="{"&&a+1<e.length&&e[a+1]==="{")n.push({type:"literal",text:"{"}),a+=2;else if(e[a]==="}"&&a+1<e.length&&e[a+1]==="}")n.push({type:"literal",text:"}"}),a+=2;else if(e[a]==="{"){const o=r("}",a);if(o<0)throw new Error("Unclosed '{' in template.");n.push({type:"variable",name:e.slice(a+1,o).join("")}),a=o+1}else{if(e[a]==="}")throw new Error("Single '}' in template.");{const o=r("{}",a),u=(o<0?e.slice(a):e.slice(a,o)).join("");n.push({type:"literal",text:u}),a=o<0?e.length:o}}return n},IO=(t,e=[])=>{const n=[];for(const r of t)if(r[0]==="name"){const a=r[1].includes(".")?r[1].split(".")[0]:r[1];n.push({type:"variable",name:a})}else if(["#","&","^",">"].includes(r[0])){if(n.push({type:"variable",name:r[1]}),r[0]==="#"&&r.length>4&&Array.isArray(r[4])){const a=[...e,r[1]],o=IO(r[4],a);n.push(...o)}}else n.push({type:"literal",text:r[1]});return n},t0=t=>{kO();const e=zr.parse(t);return IO(e)},D4=(t,e)=>Xf(t).reduce((n,r)=>{if(r.type==="variable"){if(r.name in e){const a=typeof e[r.name]=="string"?e[r.name]:JSON.stringify(e[r.name]);return n+a}throw new Error(`(f-string) Missing value for input ${r.name}`)}return n+r.text},""),P4=(t,e)=>(kO(),zr.render(t,e)),n0={"f-string":D4,mustache:P4},U4={"f-string":Xf,mustache:t0},vs=(t,e,n)=>{try{return n0[e](t,n)}catch(r){throw oh(r,"INVALID_PROMPT_INPUT")}},r0=(t,e)=>U4[e](t),MO=(t,e,n)=>{if(!(e in n0)){const r=Object.keys(n0);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${r}`)}try{const r=n.reduce((a,o)=>(a[o]="foo",a),{});Array.isArray(t)?t.forEach(a=>{if(a.type==="text")vs(a.text,e,r);else if(a.type==="image_url")if(typeof a.image_url=="string")vs(a.image_url,e,r);else{const o=a.image_url.url;vs(o,e,r)}else throw new Error(`Invalid message template received. ${JSON.stringify(a,null,2)}`)}):vs(t,e,r)}catch(r){throw new Error(`Invalid prompt schema: ${r.message}`)}};class ya extends e0{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let n=this.inputVariables;this.partialVariables&&(n=n.concat(Object.keys(this.partialVariables))),MO(this.template,this.templateFormat,n)}}_getPromptType(){return"prompt"}async format(e){const n=await this.mergePartialAndUserVariables(e);return vs(this.template,this.templateFormat,n)}static fromExamples(e,n,r,a=`

`,o=""){const u=[o,...e,n].join(a);return new ya({inputVariables:r,template:u})}static fromTemplate(e,n){const{templateFormat:r="f-string",...a}=n??{},o=new Set;return r0(e,r).forEach(u=>{u.type==="variable"&&o.add(u.name)}),new ya({inputVariables:[...o],templateFormat:r,template:e,...a})}async partial(e){const n=this.inputVariables.filter(o=>!(o in e)),r={...this.partialVariables??{},...e},a={...this,inputVariables:n,partialVariables:r};return new ya(a)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new ya({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}const Uv=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:ya},Symbol.toStringTag,{value:"Module"}));class oc extends u_{static lc_name(){return"ImagePromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","image"]}),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e.template,this.templateFormat=e.templateFormat??this.templateFormat,this.validateTemplate=e.validateTemplate??this.validateTemplate,this.additionalContentFields=e.additionalContentFields,this.validateTemplate){let n=this.inputVariables;this.partialVariables&&(n=n.concat(Object.keys(this.partialVariables))),MO([{type:"image_url",image_url:this.template}],this.templateFormat,n)}}_getPromptType(){return"prompt"}async partial(e){const n=this.inputVariables.filter(o=>!(o in e)),r={...this.partialVariables??{},...e},a={...this,inputVariables:n,partialVariables:r};return new oc(a)}async format(e){const n={};for(const[u,c]of Object.entries(this.template))typeof c=="string"?n[u]=vs(c,this.templateFormat,e):n[u]=c;const r=e.url||n.url,a=e.detail||n.detail;if(!r)throw new Error("Must provide either an image URL.");if(typeof r!="string")throw new Error("url must be a string.");const o={url:r};return a&&(o.detail=a),o}async formatPromptValue(e){const n=await this.format(e);return new fP(n)}}class Bv extends _n{static lc_name(){return"DictPromptTemplate"}constructor(e){const n=e.templateFormat??"f-string",r=a0(e.template,n);super({inputVariables:r,...e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","dict"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e.template,this.templateFormat=n,this.inputVariables=r}async format(e){return i0(this.template,e,this.templateFormat)}async invoke(e){return await this._callWithConfig(this.format.bind(this),e,{runType:"prompt"})}}function a0(t,e){const n=[];for(const r of Object.values(t))if(typeof r=="string")r0(r,e).forEach(a=>{a.type==="variable"&&n.push(a.name)});else if(Array.isArray(r))for(const a of r)typeof a=="string"?r0(a,e).forEach(o=>{o.type==="variable"&&n.push(o.name)}):typeof a=="object"&&n.push(...a0(a,e));else typeof r=="object"&&r!==null&&n.push(...a0(r,e));return Array.from(new Set(n))}function i0(t,e,n){const r={};for(const[a,o]of Object.entries(t))if(typeof o=="string")r[a]=vs(o,n,e);else if(Array.isArray(o)){const u=[];for(const c of o)typeof c=="string"?u.push(vs(c,n,e)):typeof c=="object"&&u.push(i0(c,e,n));r[a]=u}else typeof o=="object"&&o!==null?r[a]=i0(o,e,n):r[a]=o;return r}class c_ extends _n{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}async invoke(e,n){return this._callWithConfig(r=>this.formatMessages(r),e,{...n,runType:"prompt"})}}class Qf extends c_{static lc_name(){return"MessagesPlaceholder"}constructor(e){typeof e=="string"&&(e={variableName:e}),super(e),Object.defineProperty(this,"variableName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"optional",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.variableName=e.variableName,this.optional=e.optional??!1}get inputVariables(){return[this.variableName]}async formatMessages(e){const n=e[this.variableName];if(this.optional&&!n)return[];if(!n){const a=new Error(`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw a.name="InputFormatError",a}let r;try{Array.isArray(n)?r=n.map(Es):r=[Es(n)]}catch(a){const o=typeof n=="string"?n:JSON.stringify(n,null,2),u=new Error([`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,`Received value: ${o}`,`Additional message: ${a.message}`].join(`

`));throw u.name="InputFormatError",u.lc_error_code=a.lc_error_code,u}return r}}class B4 extends c_{constructor(e){"prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}}class F4 extends u_{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){const n=await this.formatMessages(e);return new vO(n)}}class $4 extends B4{static lc_name(){return"ChatMessagePromptTemplate"}constructor(e,n){"prompt"in e||(e={prompt:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}async format(e){return new Ic(await this.prompt.format(e),this.role)}static fromTemplate(e,n,r){return new this(ya.fromTemplate(e,{templateFormat:r?.templateFormat}),n)}}function H4(t){return t===null||typeof t!="object"||Array.isArray(t)?!1:Object.keys(t).length===1&&"text"in t&&typeof t.text=="string"}function z4(t){return t===null||typeof t!="object"||Array.isArray(t)?!1:"image_url"in t&&(typeof t.image_url=="string"||typeof t.image_url=="object"&&t.image_url!==null&&"url"in t.image_url&&typeof t.image_url.url=="string")}class d_ extends c_{static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}constructor(e,n){if("prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"additionalOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chatMessageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,Array.isArray(this.prompt)){let r=[];this.prompt.forEach(a=>{"inputVariables"in a&&(r=r.concat(a.inputVariables))}),this.inputVariables=r}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=n??this.additionalOptions}createMessage(e){const n=this.constructor;if(n._messageClass()){const r=n._messageClass();return new r({content:e})}else if(n.chatMessageClass){const r=n.chatMessageClass();return new r({content:e,role:this.getRoleFromMessageClass(r.lc_name())})}else throw new Error("No message class defined")}getRoleFromMessageClass(e){switch(e){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(e,n){if(typeof e=="string")return new this(ya.fromTemplate(e,n));const r=[];for(const a of e)if(typeof a=="string")r.push(ya.fromTemplate(a,n));else if(a!==null)if(H4(a)){let o="";typeof a.text=="string"&&(o=a.text??"");const u={...n,additionalContentFields:a};r.push(ya.fromTemplate(o,u))}else if(z4(a)){let o=a.image_url??"",u,c=[];if(typeof o=="string"){let d;n?.templateFormat==="mustache"?d=t0(o):d=Xf(o);const f=d.flatMap(p=>p.type==="variable"?[p.name]:[]);if((f?.length??0)>0){if(f.length>1)throw new Error(`Only one format variable allowed per image template.
Got: ${f}
From: ${o}`);c=[f[0]]}else c=[];o={url:o},u=new oc({template:o,inputVariables:c,templateFormat:n?.templateFormat,additionalContentFields:a})}else if(typeof o=="object"){if("url"in o){let d;n?.templateFormat==="mustache"?d=t0(o.url):d=Xf(o.url),c=d.flatMap(f=>f.type==="variable"?[f.name]:[])}else c=[];u=new oc({template:o,inputVariables:c,templateFormat:n?.templateFormat,additionalContentFields:a})}else throw new Error("Invalid image template");r.push(u)}else typeof a=="object"&&r.push(new Bv({template:a,templateFormat:n?.templateFormat}));return new this({prompt:r,additionalOptions:n})}async format(e){if(this.prompt instanceof e0){const n=await this.prompt.format(e);return this.createMessage(n)}else{const n=[];for(const r of this.prompt){let a={};if(!("inputVariables"in r))throw new Error(`Prompt ${r} does not have inputVariables defined.`);for(const o of r.inputVariables)a||(a={[o]:e[o]}),a={...a,[o]:e[o]};if(r instanceof e0){const o=await r.format(a);let u;"additionalContentFields"in r&&(u=r.additionalContentFields),o!==""&&n.push({...u,type:"text",text:o})}else if(r instanceof oc){const o=await r.format(a);let u;"additionalContentFields"in r&&(u=r.additionalContentFields),n.push({...u,type:"image_url",image_url:o})}else if(r instanceof Bv){const o=await r.format(a);let u;"additionalContentFields"in r&&(u=r.additionalContentFields),n.push({...u,...o})}}return this.createMessage(n)}}async formatMessages(e){return[await this.format(e)]}}class LO extends d_{static _messageClass(){return Ms}static lc_name(){return"HumanMessagePromptTemplate"}}class j4 extends d_{static _messageClass(){return Ns}static lc_name(){return"AIMessagePromptTemplate"}}class q4 extends d_{static _messageClass(){return Ib}static lc_name(){return"SystemMessagePromptTemplate"}}function G4(t){return typeof t.formatMessages=="function"}function Y4(t,e){if(G4(t)||ui(t))return t;if(Array.isArray(t)&&t[0]==="placeholder"){const a=t[1];if(e?.templateFormat==="mustache"&&typeof a=="string"&&a.slice(0,2)==="{{"&&a.slice(-2)==="}}"){const o=a.slice(2,-2);return new Qf({variableName:o,optional:!0})}else if(typeof a=="string"&&a[0]==="{"&&a[a.length-1]==="}"){const o=a.slice(1,-1);return new Qf({variableName:o,optional:!0})}throw new Error(`Invalid placeholder template for format ${e?.templateFormat??'"f-string"'}: "${t[1]}". Expected a variable name surrounded by ${e?.templateFormat==="mustache"?"double":"single"} curly braces.`)}const n=Es(t);let r;if(typeof n.content=="string"?r=n.content:r=n.content.map(a=>"text"in a?{...a,text:a.text}:"image_url"in a?{...a,image_url:a.image_url}:a),n._getType()==="human")return LO.fromTemplate(r,e);if(n._getType()==="ai")return j4.fromTemplate(r,e);if(n._getType()==="system")return q4.fromTemplate(r,e);if(Ic.isInstance(n))return $4.fromTemplate(n.content,n.role,e);throw new Error(`Could not coerce message prompt template from input. Received message type: "${n._getType()}".`)}function V4(t){return t.constructor.lc_name()==="MessagesPlaceholder"}class uc extends F4{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}constructor(e){if(super(e),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){const n=new Set;for(const c of this.promptMessages)if(!(c instanceof ci))for(const d of c.inputVariables)n.add(d);const r=this.inputVariables,a=new Set(this.partialVariables?r.concat(Object.keys(this.partialVariables)):r),o=new Set([...a].filter(c=>!n.has(c)));if(o.size>0)throw new Error(`Input variables \`${[...o]}\` are not used in any of the prompt messages.`);const u=new Set([...n].filter(c=>!a.has(c)));if(u.size>0)throw new Error(`Input variables \`${[...u]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(e,n){if(typeof e.content=="string")return e;const r=await Promise.all(e.content.map(async a=>{if(a.type!=="image_url")return a;let o="";typeof a.image_url=="string"?o=a.image_url:o=a.image_url.url;const c=await ya.fromTemplate(o,{templateFormat:this.templateFormat}).format(n);return typeof a.image_url!="string"&&"url"in a.image_url?a.image_url.url=c:a.image_url=c,a}));return e.content=r,e}async formatMessages(e){const n=await this.mergePartialAndUserVariables(e);let r=[];for(const a of this.promptMessages)if(a instanceof ci)r.push(await this._parseImagePrompts(a,n));else{let o;this.templateFormat==="mustache"?o={...n}:o=a.inputVariables.reduce((c,d)=>{if(!(d in n)&&!(V4(a)&&a.optional))throw oh(new Error(`Missing value for input variable \`${d.toString()}\``),"INVALID_PROMPT_INPUT");return c[d]=n[d],c},{});const u=await a.formatMessages(o);r=r.concat(u)}return r}async partial(e){const n=this.inputVariables.filter(o=>!(o in e)),r={...this.partialVariables??{},...e},a={...this,inputVariables:n,partialVariables:r};return new uc(a)}static fromTemplate(e,n){const r=ya.fromTemplate(e,n),a=new LO({prompt:r});return this.fromMessages([a])}static fromMessages(e,n){const r=e.reduce((u,c)=>u.concat(c instanceof uc?c.promptMessages:[Y4(c,n)]),[]),a=e.reduce((u,c)=>c instanceof uc?Object.assign(u,c.partialVariables):u,Object.create(null)),o=new Set;for(const u of r)if(!(u instanceof ci))for(const c of u.inputVariables)c in a||o.add(c);return new this({...n,inputVariables:[...o],promptMessages:r,partialVariables:a,templateFormat:n?.templateFormat})}static fromPromptMessages(e){return this.fromMessages(e)}}class K4 extends t_{get lc_namespace(){return["langchain","chains",this._chainType()]}constructor(e,n,r){if(arguments.length===1&&typeof e=="object"&&!("saveContext"in e)){const{memory:a,callbackManager:o,...u}=e;super({...u,callbacks:o??u.callbacks}),this.memory=a}else super({verbose:n,callbacks:r}),this.memory=e}_selectMemoryInputs(e){const n={...e};return"signal"in n&&delete n.signal,"timeout"in n&&delete n.timeout,n}async invoke(e,n){const r=kt(n),a=await this._formatValues(e),u=await(await ir.configure(r?.callbacks,this.callbacks,r?.tags,this.tags,r?.metadata,this.metadata,{verbose:this.verbose}))?.handleChainStart(this.toJSON(),a,void 0,void 0,void 0,void 0,r?.runName);let c;try{c=await(a.signal?Promise.race([this._call(a,u,r),new Promise((d,f)=>{a.signal?.addEventListener("abort",()=>{f(new Error("AbortError"))})})]):this._call(a,u,r))}catch(d){throw await u?.handleChainError(d),d}return this.memory!=null&&await this.memory.saveContext(this._selectMemoryInputs(e),c),await u?.handleChainEnd(c),Object.defineProperty(c,Zb,{value:u?{runId:u?.runId}:void 0,configurable:!0}),c}_validateOutputs(e){const n=this.outputKeys.filter(r=>!(r in e));if(n.length)throw new Error(`Missing output keys: ${n.join(", ")} from chain ${this._chainType()}`)}async prepOutputs(e,n,r=!1){return this._validateOutputs(n),this.memory&&await this.memory.saveContext(e,n),r?n:{...e,...n}}serialize(){throw new Error("Method not implemented.")}async run(e,n){const r=this.inputKeys.filter(d=>!this.memory?.memoryKeys.includes(d));if(!(r.length<=1))throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);const o=r.length?{[r[0]]:e}:{},u=await this.call(o,n),c=Object.keys(u);if(c.length===1)return u[c[0]];throw new Error("return values have multiple keys, `run` only supported when one key currently")}async _formatValues(e){const n={...e};if(n.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout),delete n.timeout),this.memory!=null){const r=await this.memory.loadMemoryVariables(this._selectMemoryInputs(e));for(const[a,o]of Object.entries(r))n[a]=o}return n}async call(e,n,r){const a={tags:r,...hh(n)};return this.invoke(e,a)}async apply(e,n){return Promise.all(e.map(async(r,a)=>this.call(r,n?.[a])))}static async deserialize(e,n={}){switch(e._type){case"llm_chain":{const{LLMChain:r}=await Pa(async()=>{const{LLMChain:a}=await import("./llm_chain-CZXYZFuA.js");return{LLMChain:a}},[]);return r.deserialize(e)}case"sequential_chain":{const{SequentialChain:r}=await Pa(async()=>{const{SequentialChain:a}=await import("./sequential_chain-_pIsx5vE.js");return{SequentialChain:a}},[]);return r.deserialize(e)}case"simple_sequential_chain":{const{SimpleSequentialChain:r}=await Pa(async()=>{const{SimpleSequentialChain:a}=await import("./sequential_chain-_pIsx5vE.js");return{SimpleSequentialChain:a}},[]);return r.deserialize(e)}case"stuff_documents_chain":{const{StuffDocumentsChain:r}=await Pa(async()=>{const{StuffDocumentsChain:a}=await import("./combine_docs_chain-DLC0-S5l.js");return{StuffDocumentsChain:a}},__vite__mapDeps([0,1]));return r.deserialize(e)}case"map_reduce_documents_chain":{const{MapReduceDocumentsChain:r}=await Pa(async()=>{const{MapReduceDocumentsChain:a}=await import("./combine_docs_chain-DLC0-S5l.js");return{MapReduceDocumentsChain:a}},__vite__mapDeps([0,1]));return r.deserialize(e)}case"refine_documents_chain":{const{RefineDocumentsChain:r}=await Pa(async()=>{const{RefineDocumentsChain:a}=await import("./combine_docs_chain-DLC0-S5l.js");return{RefineDocumentsChain:a}},__vite__mapDeps([0,1]));return r.deserialize(e)}case"vector_db_qa":{const{VectorDBQAChain:r}=await Pa(async()=>{const{VectorDBQAChain:a}=await import("./vector_db_qa-DltBhFZb.js");return{VectorDBQAChain:a}},__vite__mapDeps([2,1,0]));return r.deserialize(e,n)}case"api_chain":{const{APIChain:r}=await Pa(async()=>{const{APIChain:a}=await import("./api_chain-DxXFv819.js");return{APIChain:a}},__vite__mapDeps([3,1]));return r.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class DO extends t_{get lc_namespace(){return["langchain","tools"]}constructor(e){super(e??{}),Object.defineProperty(this,"returnDirect",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"verboseParsingErrors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"responseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"content"}),Object.defineProperty(this,"defaultConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verboseParsingErrors=e?.verboseParsingErrors??this.verboseParsingErrors,this.responseFormat=e?.responseFormat??this.responseFormat,this.defaultConfig=e?.defaultConfig??this.defaultConfig,this.metadata=e?.metadata??this.metadata}async invoke(e,n){let r,a=kt(Kb(this.defaultConfig,n));return tc(e)?(r=e.args,a={...a,toolCall:e}):r=e,this.call(r,a)}async call(e,n,r){const a=tc(e)?e.args:e;let o;if(Uc(this.schema))try{o=await X0(this.schema,a)}catch(T){let w="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(w=`${w}
Details: ${T.message}`),new _c(w,JSON.stringify(e))}else{const T=fn(a,this.schema);if(!T.valid){let w="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(w=`${w}
Details: ${T.errors.map(A=>`${A.keywordLocation}: ${A.error}`).join(`
`)}`),new _c(w,JSON.stringify(e))}o=a}const u=hh(n),d=await ir.configure(u.callbacks,this.callbacks,u.tags||r,this.tags,u.metadata,this.metadata,{verbose:this.verbose})?.handleToolStart(this.toJSON(),typeof e=="string"?e:JSON.stringify(e),u.runId,void 0,void 0,void 0,u.runName);delete u.runId;let f;try{f=await this._call(o,d,u)}catch(T){throw await d?.handleToolError(T),T}let p,m;if(this.responseFormat==="content_and_artifact")if(Array.isArray(f)&&f.length===2)[p,m]=f;else throw new Error(`Tool response format is "content_and_artifact" but the output was not a two-tuple.
Result: ${JSON.stringify(f)}`);else p=f;let b;tc(e)&&(b=e.id),!b&&C2(u)&&(b=u.toolCall.id);const E=W4({content:p,artifact:m,toolCallId:b,name:this.name,metadata:this.metadata});return await d?.handleToolEnd(E),E}}class PO extends DO{constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:D0({input:L0().optional()}).transform(n=>n.input)})}call(e,n){const r=typeof e=="string"||e==null?{input:e}:e;return super.call(r,n)}}class Z4 extends PO{static lc_name(){return"DynamicTool"}constructor(e){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.func=e.func,this.returnDirect=e.returnDirect??this.returnDirect}async call(e,n){const r=hh(n);return r.runName===void 0&&(r.runName=this.name),super.call(e,r)}async _call(e,n,r){return this.func(e,n,r)}}class X4 extends DO{static lc_name(){return"DynamicStructuredTool"}constructor(e){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.func=e.func,this.returnDirect=e.returnDirect??this.returnDirect,this.schema=e.schema}async call(e,n,r){const a=hh(n);return a.runName===void 0&&(a.runName=this.name),super.call(e,a,r)}_call(e,n,r){return this.func(e,n,r)}}function Q4(t,e){const n=_O(e.schema),r=xf(e.schema);if(!e.schema||n||r)return new Z4({...e,description:e.description??(e.schema&&Q0(e.schema))??`${e.name} tool`,func:async(u,c,d)=>new Promise((f,p)=>{const m=Sn(d,{callbacks:c?.getChild()});pi.runWithConfig(Rs(m),async()=>{try{f(t(u,m))}catch(b){p(b)}})})});const a=e.schema,o=e.description??e.schema.description??`${e.name} tool`;return new X4({...e,description:o,schema:a,func:async(u,c,d)=>new Promise((f,p)=>{const m=Sn(d,{callbacks:c?.getChild()});pi.runWithConfig(Rs(m),async()=>{try{f(t(u,m))}catch(b){p(b)}})})})}function W4(t){const{content:e,artifact:n,toolCallId:r,metadata:a}=t;return r&&!O2(e)?typeof e=="string"||Array.isArray(e)&&e.every(o=>typeof o=="object")?new Mf({status:"success",content:e,artifact:n,tool_call_id:r,name:t.name,metadata:a}):new Mf({status:"success",content:J4(e),artifact:n,tool_call_id:r,name:t.name,metadata:a}):e}function J4(t){try{return JSON.stringify(t,null,2)??""}catch{return`${t}`}}class UO extends fi{get returnValues(){return["output"]}get allowedTools(){}_agentType(){throw new Error("Not implemented")}returnStoppedResponse(e,n,r,a){if(e==="force")return Promise.resolve({returnValues:{output:"Agent stopped due to max iterations."},log:""});throw new Error(`Invalid stopping method: ${e}`)}async prepareForOutput(e,n){return{}}}class e6 extends UO{_agentActionType(){return"single"}}class t6 extends UO{_agentActionType(){return"multi"}}function n6(t){return!Array.isArray(t)&&t?.tool!==void 0}function r6(t){return t.runnable!==void 0}class BO extends Ua{constructor(){super(...arguments),Object.defineProperty(this,"streamRunnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"singleAction",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static fromRunnables([e,...n],r){const a=Ua.from([e,...n],r.name);return a.singleAction=r.singleAction,a.streamRunnable=r.streamRunnable,a}static isAgentRunnableSequence(e){return typeof e.singleAction=="boolean"}}class a6 extends e6{get inputKeys(){return[]}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","agents","runnable"]}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamRunnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"defaultRunName",{enumerable:!0,configurable:!0,writable:!0,value:"RunnableAgent"}),this.runnable=e.runnable,this.defaultRunName=e.defaultRunName??this.runnable.name??this.defaultRunName,this.streamRunnable=e.streamRunnable??this.streamRunnable}async plan(e,n,r,a){const o={...n,steps:e},u=Sn(a,{callbacks:r,runName:this.defaultRunName});if(this.streamRunnable){const c=await this.runnable.stream(o,u);let d;for await(const f of c)if(d===void 0)d=f;else throw new Error(["Multiple agent actions/finishes received in streamed agent output.",'Set "streamRunnable: false" when initializing the agent to invoke this agent in non-streaming mode.'].join(`
`));if(d===void 0)throw new Error(["No streaming output received from underlying runnable.",'Set "streamRunnable: false" when initializing the agent to invoke this agent in non-streaming mode.'].join(`
`));return d}else return this.runnable.invoke(o,u)}}class Fv extends t6{get inputKeys(){return[]}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","agents","runnable"]}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultRunName",{enumerable:!0,configurable:!0,writable:!0,value:"RunnableAgent"}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamRunnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.runnable=e.runnable,this.stop=e.stop,this.defaultRunName=e.defaultRunName??this.runnable.name??this.defaultRunName,this.streamRunnable=e.streamRunnable??this.streamRunnable}async plan(e,n,r,a){const o={...n,steps:e},u=Sn(a,{callbacks:r,runName:this.defaultRunName});let c;if(this.streamRunnable){const d=await this.runnable.stream(o,u);let f;for await(const p of d)if(f===void 0)f=p;else throw new Error(["Multiple agent actions/finishes received in streamed agent output.",'Set "streamRunnable: false" when initializing the agent to invoke this agent in non-streaming mode.'].join(`
`));if(f===void 0)throw new Error(["No streaming output received from underlying runnable.",'Set "streamRunnable: false" when initializing the agent to invoke this agent in non-streaming mode.'].join(`
`));c=f}else c=await this.runnable.invoke(o,u);return n6(c)?[c]:c}}var Fl={},$v;function i6(){if($v)return Fl;$v=1;var t=/~/,e=/~[01]/g;function n(f){switch(f){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+f)}function r(f){return t.test(f)?f.replace(e,n):f}function a(f,p,m){for(var b,E,T=1,w=p.length;T<w;){if(p[T]==="constructor"||p[T]==="prototype"||p[T]==="__proto__")return f;if(b=r(p[T++]),E=w>T,typeof f[b]>"u"&&(Array.isArray(f)&&b==="-"&&(b=f.length),E&&(p[T]!==""&&p[T]<1/0||p[T]==="-"?f[b]=[]:f[b]={})),!E)break;f=f[b]}var A=f[b];return m===void 0?delete f[b]:f[b]=m,A}function o(f){if(typeof f=="string"){if(f=f.split("/"),f[0]==="")return f;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(f)){for(const p of f)if(typeof p!="string"&&typeof p!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return f}throw new Error("Invalid JSON pointer.")}function u(f,p){if(typeof f!="object")throw new Error("Invalid input object.");p=o(p);var m=p.length;if(m===1)return f;for(var b=1;b<m;){if(f=f[r(p[b++])],m===b)return f;if(typeof f!="object"||f===null)return}}function c(f,p,m){if(typeof f!="object")throw new Error("Invalid input object.");if(p=o(p),p.length===0)throw new Error("Invalid JSON pointer for set.");return a(f,p,m)}function d(f){var p=o(f);return{get:function(m){return u(m,p)},set:function(m,b){return c(m,p,b)}}}return Fl.get=u,Fl.set=c,Fl.compile=d,Fl}i6();class s6 extends o_{}class o6 extends fi{get finalOutputs(){return this._finalOutputs}async setFinalOutputs(e){if(this._finalOutputs=void 0,e){const n=await this.agentExecutor.prepOutputs(this.inputs,e,!0);this._finalOutputs=n}}get nameToToolMap(){const e=this.agentExecutor.tools.map(n=>({[n.name]:n}));return Object.assign({},...e)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","agents","executor_iterator"]}),Object.defineProperty(this,"agentExecutor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_finalOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"intermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"iterations",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.agentExecutor=e.agentExecutor,this.inputs=e.inputs,this.callbacks=e.callbacks,this.tags=e.tags,this.metadata=e.metadata,this.runName=e.runName,this.runManager=e.runManager,this.config=e.config}reset(){this.intermediateSteps=[],this.iterations=0,this._finalOutputs=void 0}updateIterations(){this.iterations+=1}async*streamIterator(){for(this.reset();;)try{this.iterations===0&&await this.onFirstStep(),yield await this._callNext()}catch(e){if("message"in e&&e.message.startsWith("Final outputs already reached: ")){if(!this.finalOutputs)throw e;return this.finalOutputs}throw this.runManager&&await this.runManager.handleChainError(e),e}}async onFirstStep(){if(this.iterations===0){const e=await ir.configure(this.callbacks??this.config?.callbacks,this.agentExecutor.callbacks,this.tags??this.config?.tags,this.agentExecutor.tags,this.metadata??this.config?.metadata,this.agentExecutor.metadata,{verbose:this.agentExecutor.verbose});this.runManager=await e?.handleChainStart(this.agentExecutor.toJSON(),this.inputs,this.config?.runId,void 0,this.tags??this.config?.tags,this.metadata??this.config?.metadata,this.runName??this.config?.runName),this.config!==void 0&&delete this.config.runId}}async _executeNextStep(e){return this.agentExecutor._takeNextStep(this.nameToToolMap,this.inputs,this.intermediateSteps,e,this.config)}async _processNextStepOutput(e,n){if("returnValues"in e){const a=await this.agentExecutor._return(e,this.intermediateSteps,n);return this.runManager&&await this.runManager.handleChainEnd(a),await this.setFinalOutputs(a),a}this.intermediateSteps=this.intermediateSteps.concat(e);let r={};if(Array.isArray(e)&&e.length===1){const a=e[0],o=await this.agentExecutor._getToolReturn(a);o&&(r=await this.agentExecutor._return(o,this.intermediateSteps,n),await this.runManager?.handleChainEnd(r),await this.setFinalOutputs(r))}return r={intermediateSteps:e},r}async _stop(){const e=await this.agentExecutor.agent.returnStoppedResponse(this.agentExecutor.earlyStoppingMethod,this.intermediateSteps,this.inputs),n=await this.agentExecutor._return(e,this.intermediateSteps,this.runManager);return await this.setFinalOutputs(n),await this.runManager?.handleChainEnd(n),n}async _callNext(){if(this.finalOutputs)throw new Error(`Final outputs already reached: ${JSON.stringify(this.finalOutputs,null,2)}`);if(!this.agentExecutor.shouldContinueGetter(this.iterations))return this._stop();const e=await this._executeNextStep(this.runManager),n=await this._processNextStepOutput(e,this.runManager);return this.updateIterations(),n}}class Jg extends PO{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"_Exception"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"Exception tool"})}async _call(e){return e}}class f_ extends K4{static lc_name(){return"AgentExecutor"}get lc_namespace(){return["langchain","agents","executor"]}get inputKeys(){return this.agent.inputKeys}get outputKeys(){return this.agent.returnValues}constructor(e){let n,r=!0;if(_n.isRunnable(e.agent)?(BO.isAgentRunnableSequence(e.agent)?e.agent.singleAction?n=new a6({runnable:e.agent,streamRunnable:e.agent.streamRunnable}):n=new Fv({runnable:e.agent,streamRunnable:e.agent.streamRunnable}):n=new Fv({runnable:e.agent}),r=!1):(r6(e.agent)&&(r=!1),n=e.agent),super(e),Object.defineProperty(this,"agent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tools",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnIntermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxIterations",{enumerable:!0,configurable:!0,writable:!0,value:15}),Object.defineProperty(this,"earlyStoppingMethod",{enumerable:!0,configurable:!0,writable:!0,value:"force"}),Object.defineProperty(this,"returnOnlyOutputs",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"handleParsingErrors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"handleToolRuntimeErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.agent=n,this.tools=e.tools,this.handleParsingErrors=e.handleParsingErrors??this.handleParsingErrors,this.handleToolRuntimeErrors=e.handleToolRuntimeErrors,this.returnOnlyOutputs=r,this.agent._agentActionType()==="multi"){for(const a of this.tools)if(a.returnDirect)throw new Error(`Tool with return direct ${a.name} not supported for multi-action agent.`)}this.returnIntermediateSteps=e.returnIntermediateSteps??this.returnIntermediateSteps,this.maxIterations=e.maxIterations??this.maxIterations,this.earlyStoppingMethod=e.earlyStoppingMethod??this.earlyStoppingMethod}static fromAgentAndTools(e){return new f_(e)}get shouldContinueGetter(){return this.shouldContinue.bind(this)}shouldContinue(e){return this.maxIterations===void 0||e<this.maxIterations}async _call(e,n,r){const a=Object.fromEntries(this.tools.map(f=>[f.name.toLowerCase(),f])),o=[];let u=0;const c=async f=>{const{returnValues:p}=f,m=await this.agent.prepareForOutput(p,o);await n?.handleAgentEnd(f);let b;return this.returnIntermediateSteps?b={...p,intermediateSteps:o,...m}:b={...p,...m},this.returnOnlyOutputs||(b={...e,...b}),b};for(;this.shouldContinue(u);){let f;try{f=await this.agent.plan(o,e,n?.getChild(),r)}catch(T){if(T instanceof Zf){let w,A=T.message;if(this.handleParsingErrors===!0)T.sendToLLM?(w=T.observation,A=T.llmOutput??""):w="Invalid or incomplete response";else if(typeof this.handleParsingErrors=="string")w=this.handleParsingErrors;else if(typeof this.handleParsingErrors=="function")w=this.handleParsingErrors(T);else throw T;f={tool:"_Exception",toolInput:w,log:A}}else throw T}if("returnValues"in f)return c(f);let p;Array.isArray(f)?p=f:p=[f];const m=await Promise.all(p.map(async T=>{await n?.handleAgentAction(T);const w=T.tool==="_Exception"?new Jg:a[T.tool?.toLowerCase()];let A;try{if(A=w?await w.invoke(T.toolInput,Sn(r,{callbacks:n?.getChild()})):`${T.tool} is not a valid tool, try another one.`,typeof A!="string")throw new Error("Received unsupported non-string response from tool call.")}catch(O){if(O instanceof _c){if(this.handleParsingErrors===!0)A="Invalid or incomplete tool input. Please try again.";else if(typeof this.handleParsingErrors=="string")A=this.handleParsingErrors;else if(typeof this.handleParsingErrors=="function")A=this.handleParsingErrors(O);else throw O;return A=await new Jg().call(A,n?.getChild()),{action:T,observation:A??""}}else this.handleToolRuntimeErrors!==void 0&&(A=this.handleToolRuntimeErrors(O))}return{action:T,observation:A??""}}));o.push(...m);const b=o[o.length-1];if(a[b.action.tool?.toLowerCase()]?.returnDirect)return c({returnValues:{[this.agent.returnValues[0]]:b.observation},log:""});u+=1}const d=await this.agent.returnStoppedResponse(this.earlyStoppingMethod,o,e);return c(d)}async _takeNextStep(e,n,r,a,o){let u;try{u=await this.agent.plan(r,n,a?.getChild(),o)}catch(f){if(f instanceof Zf){let p,m=f.message;if(this.handleParsingErrors===!0)f.sendToLLM?(p=f.observation,m=f.llmOutput??""):p="Invalid or incomplete response";else if(typeof this.handleParsingErrors=="string")p=this.handleParsingErrors;else if(typeof this.handleParsingErrors=="function")p=this.handleParsingErrors(f);else throw f;u={tool:"_Exception",toolInput:p,log:m}}else throw f}if("returnValues"in u)return u;let c;Array.isArray(u)?c=u:c=[u];const d=[];for(const f of c){let p="";if(a&&await a?.handleAgentAction(f),f.tool in e){const m=e[f.tool];try{if(p=await m.call(f.toolInput,a?.getChild()),typeof p!="string")throw new Error("Received unsupported non-string response from tool call.")}catch(b){if(b instanceof _c){if(this.handleParsingErrors===!0)p="Invalid or incomplete tool input. Please try again.";else if(typeof this.handleParsingErrors=="string")p=this.handleParsingErrors;else if(typeof this.handleParsingErrors=="function")p=this.handleParsingErrors(b);else throw b;p=await new Jg().call(p,a?.getChild())}}}else p=`${f.tool} is not a valid tool, try another available tool: ${Object.keys(e).join(", ")}`;d.push({action:f,observation:p})}return d}async _return(e,n,r){r&&await r.handleAgentEnd(e);const a=e.returnValues;return this.returnIntermediateSteps&&(a.intermediateSteps=n),a}async _getToolReturn(e){const{action:n,observation:r}=e,a=Object.fromEntries(this.tools.map(u=>[u.name.toLowerCase(),u])),[o="output"]=this.agent.returnValues;return n.tool in a&&a[n.tool].returnDirect?{returnValues:{[o]:r},log:""}:null}_returnStoppedResponse(e){if(e==="force")return{returnValues:{output:"Agent stopped due to iteration limit or time limit."},log:""};throw new Error(`Got unsupported early_stopping_method: ${e}`)}async*_streamIterator(e,n){const a=new o6({inputs:e,agentExecutor:this,config:n,metadata:n?.metadata,tags:n?.tags,callbacks:n?.callbacks}).streamIterator();for await(const o of a)o&&(yield o)}_chainType(){return"agent_executor"}serialize(){throw new Error("Cannot serialize an AgentExecutor")}}function u6(t){return new Mf({tool_call_id:t.action.toolCallId,content:t.observation,additional_kwargs:{name:t.action.tool}})}function l6(t){return t.flatMap(({action:e,observation:n})=>"messageLog"in e&&e.messageLog!==void 0?e.messageLog.concat(u6({action:e,observation:n})):[new Ns(e.log)])}function c6(t){const e=typeof t.content=="string"?t.content:JSON.stringify(t.content);let n=[];if(t.tool_calls!==void 0&&t.tool_calls.length>0)n=t.tool_calls;else{if(!t.additional_kwargs.tool_calls||t.additional_kwargs.tool_calls.length===0)return{returnValues:{output:t.content},log:e};for(const r of t.additional_kwargs.tool_calls??[]){const a=r.function?.name;try{const o=JSON.parse(r.function.arguments);n.push({name:a,args:o,id:r.id})}catch(o){throw new Zf(`Failed to parse tool arguments from chat model response. Text: "${JSON.stringify(n)}". ${o}`)}}}return n.map((r,a)=>{const o=a===0?[t]:[],u=`Invoking "${r.name}" with ${JSON.stringify(r.args??{})}
${e}`;return{tool:r.name,toolInput:r.args,toolCallId:r.id??"",log:u,messageLog:o}})}class d6 extends s6{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","agents","tool_calling"]})}static lc_name(){return"ToolCallingAgentOutputParser"}async parse(e){throw new Error(`ToolCallingAgentOutputParser can only parse messages.
Passed input: ${e}`)}async parseResult(e){if("message"in e[0]&&ui(e[0].message))return c6(e[0].message);throw new Error("parseResult on ToolCallingAgentOutputParser only works on ChatGeneration output")}getFormatInstructions(){throw new Error("getFormatInstructions not implemented inside ToolCallingAgentOutputParser.")}}function f6(t){const e=t;return typeof e._modelType=="function"&&e._modelType()==="base_chat_model"}function h6({llm:t,tools:e,prompt:n,streamRunnable:r}){if(!n.inputVariables.includes("agent_scratchpad"))throw new Error(['Prompt must have an input variable named "agent_scratchpad".',`Found ${JSON.stringify(n.inputVariables)} instead.`].join(`
`));let a;if(f6(t)){if(t.bindTools===void 0)throw new Error('This agent requires that the "bind_tools()" method be implemented on the input model.');a=t.bindTools(e)}else a=t;return BO.fromRunnables([_u.assign({agent_scratchpad:u=>l6(u.steps)}),n,a,new d6],{name:"ToolCallingAgent",streamRunnable:r,singleAction:!1})}const eb=new Map;function p6(t){return eb.has(t)||eb.set(t,new g4),eb.get(t)}const FO=Q4(({first_int:t,second_int:e})=>`${t*e}`,{name:"multiply",description:"",schema:{type:"object",properties:{first_int:{type:"integer"},second_int:{type:"integer"}},required:["first_int","second_int"]}}),m6=uc.fromMessages([["system",""],new Qf("history"),["human","{input}"],new Qf("agent_scratchpad")]),g6=new p4({model:"qwen3:8b",temperature:.7,streaming:!0}),b6=h6({llm:g6,tools:[FO],prompt:m6,streamRunnable:!0}),_6=f_.fromAgentAndTools({agent:b6,tools:[FO],verbose:!1,returnIntermediateSteps:!1,handleParsingErrors:!0}),y6=new QP({runnable:_6,getMessageHistory:p6,inputMessagesKey:"input",historyMessagesKey:"history"});function E6(){const t=Hr.useRef(null),[e,n]=Hr.useState(""),r=Hr.useCallback(async o=>{t.current&&(t.current.abort(),t.current=null),t.current=new AbortController;const{signal:u}=t.current,c=await y6.streamEvents({input:o},{configurable:{sessionId:"1001"},signal:u,version:"v1"});for await(const d of c)d.event==="on_llm_stream"&&n(f=>f+d.data.chunk.content)},[]),a=Hr.useCallback(()=>{t.current&&(t.current.abort(),t.current=null)},[]);return{chat:r,chatReq:e,abortChat:a}}function Hv(t){const e=[],n=String(t||"");let r=n.indexOf(","),a=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const u=n.slice(a,r).trim();(u||!o)&&e.push(u),a=r+1,r=n.indexOf(",",a)}return e}function $O(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const T6=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,w6=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,v6={};function zv(t,e){return(v6.jsx?w6:T6).test(t)}const S6=/[ \t\n\f\r]/g;function A6(t){return typeof t=="object"?t.type==="text"?jv(t.value):!1:jv(t)}function jv(t){return t.replace(S6,"")===""}let Fc=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Fc.prototype.normal={};Fc.prototype.property={};Fc.prototype.space=void 0;function HO(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new Fc(n,r,e)}function Oc(t){return t.toLowerCase()}let jr=class{constructor(e,n){this.attribute=n,this.property=e}};jr.prototype.attribute="";jr.prototype.booleanish=!1;jr.prototype.boolean=!1;jr.prototype.commaOrSpaceSeparated=!1;jr.prototype.commaSeparated=!1;jr.prototype.defined=!1;jr.prototype.mustUseProperty=!1;jr.prototype.number=!1;jr.prototype.overloadedBoolean=!1;jr.prototype.property="";jr.prototype.spaceSeparated=!1;jr.prototype.space=void 0;let O6=0;const ft=po(),kn=po(),s0=po(),Te=po(),tn=po(),lu=po(),ea=po();function po(){return 2**++O6}const o0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ft,booleanish:kn,commaOrSpaceSeparated:ea,commaSeparated:lu,number:Te,overloadedBoolean:s0,spaceSeparated:tn},Symbol.toStringTag,{value:"Module"})),tb=Object.keys(o0);let h_=class extends jr{constructor(e,n,r,a){let o=-1;if(super(e,n),qv(this,"space",a),typeof r=="number")for(;++o<tb.length;){const u=tb[o];qv(this,tb[o],(r&o0[u])===o0[u])}}};h_.prototype.defined=!0;function qv(t,e,n){n&&(t[e]=n)}function ku(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const o=new h_(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[Oc(r)]=r,n[Oc(o.attribute)]=r}return new Fc(e,n,t.space)}const zO=ku({properties:{ariaActiveDescendant:null,ariaAtomic:kn,ariaAutoComplete:null,ariaBusy:kn,ariaChecked:kn,ariaColCount:Te,ariaColIndex:Te,ariaColSpan:Te,ariaControls:tn,ariaCurrent:null,ariaDescribedBy:tn,ariaDetails:null,ariaDisabled:kn,ariaDropEffect:tn,ariaErrorMessage:null,ariaExpanded:kn,ariaFlowTo:tn,ariaGrabbed:kn,ariaHasPopup:null,ariaHidden:kn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tn,ariaLevel:Te,ariaLive:null,ariaModal:kn,ariaMultiLine:kn,ariaMultiSelectable:kn,ariaOrientation:null,ariaOwns:tn,ariaPlaceholder:null,ariaPosInSet:Te,ariaPressed:kn,ariaReadOnly:kn,ariaRelevant:null,ariaRequired:kn,ariaRoleDescription:tn,ariaRowCount:Te,ariaRowIndex:Te,ariaRowSpan:Te,ariaSelected:kn,ariaSetSize:Te,ariaSort:null,ariaValueMax:Te,ariaValueMin:Te,ariaValueNow:Te,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function jO(t,e){return e in t?t[e]:e}function qO(t,e){return jO(t,e.toLowerCase())}const N6=ku({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lu,acceptCharset:tn,accessKey:tn,action:null,allow:null,allowFullScreen:ft,allowPaymentRequest:ft,allowUserMedia:ft,alt:null,as:null,async:ft,autoCapitalize:null,autoComplete:tn,autoFocus:ft,autoPlay:ft,blocking:tn,capture:null,charSet:null,checked:ft,cite:null,className:tn,cols:Te,colSpan:null,content:null,contentEditable:kn,controls:ft,controlsList:tn,coords:Te|lu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ft,defer:ft,dir:null,dirName:null,disabled:ft,download:s0,draggable:kn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ft,formTarget:null,headers:tn,height:Te,hidden:s0,high:Te,href:null,hrefLang:null,htmlFor:tn,httpEquiv:tn,id:null,imageSizes:null,imageSrcSet:null,inert:ft,inputMode:null,integrity:null,is:null,isMap:ft,itemId:null,itemProp:tn,itemRef:tn,itemScope:ft,itemType:tn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ft,low:Te,manifest:null,max:null,maxLength:Te,media:null,method:null,min:null,minLength:Te,multiple:ft,muted:ft,name:null,nonce:null,noModule:ft,noValidate:ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ft,optimum:Te,pattern:null,ping:tn,placeholder:null,playsInline:ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ft,referrerPolicy:null,rel:tn,required:ft,reversed:ft,rows:Te,rowSpan:Te,sandbox:tn,scope:null,scoped:ft,seamless:ft,selected:ft,shadowRootClonable:ft,shadowRootDelegatesFocus:ft,shadowRootMode:null,shape:null,size:Te,sizes:null,slot:null,span:Te,spellCheck:kn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Te,step:null,style:null,tabIndex:Te,target:null,title:null,translate:null,type:null,typeMustMatch:ft,useMap:null,value:kn,width:Te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:tn,axis:null,background:null,bgColor:null,border:Te,borderColor:null,bottomMargin:Te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ft,declare:ft,event:null,face:null,frame:null,frameBorder:null,hSpace:Te,leftMargin:Te,link:null,longDesc:null,lowSrc:null,marginHeight:Te,marginWidth:Te,noResize:ft,noHref:ft,noShade:ft,noWrap:ft,object:null,profile:null,prompt:null,rev:null,rightMargin:Te,rules:null,scheme:null,scrolling:kn,standby:null,summary:null,text:null,topMargin:Te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ft,disableRemotePlayback:ft,prefix:null,property:null,results:Te,security:null,unselectable:null},space:"html",transform:qO}),x6=ku({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ea,accentHeight:Te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Te,amplitude:Te,arabicForm:null,ascent:Te,attributeName:null,attributeType:null,azimuth:Te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Te,by:null,calcMode:null,capHeight:Te,className:tn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Te,diffuseConstant:Te,direction:null,display:null,dur:null,divisor:Te,dominantBaseline:null,download:ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:Te,enableBackground:null,end:null,event:null,exponent:Te,externalResourcesRequired:null,fill:null,fillOpacity:Te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lu,g2:lu,glyphName:lu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Te,horizOriginX:Te,horizOriginY:Te,id:null,ideographic:Te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Te,k:Te,k1:Te,k2:Te,k3:Te,k4:Te,kernelMatrix:ea,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Te,overlineThickness:Te,paintOrder:null,panose1:null,path:null,pathLength:Te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:tn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Te,pointsAtY:Te,pointsAtZ:Te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ea,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ea,rev:ea,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ea,requiredFeatures:ea,requiredFonts:ea,requiredFormats:ea,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Te,specularExponent:Te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Te,strikethroughThickness:Te,string:null,stroke:null,strokeDashArray:ea,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Te,strokeOpacity:Te,strokeWidth:null,style:null,surfaceScale:Te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ea,tabIndex:Te,tableValues:null,target:null,targetX:Te,targetY:Te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ea,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Te,underlineThickness:Te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Te,values:null,vAlphabetic:Te,vMathematical:Te,vectorEffect:null,vHanging:Te,vIdeographic:Te,version:null,vertAdvY:Te,vertOriginX:Te,vertOriginY:Te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jO}),GO=ku({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),YO=ku({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qO}),VO=ku({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),C6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},R6=/[A-Z]/g,Gv=/-[a-z]/g,k6=/^data[-\w.:]+$/i;function p_(t,e){const n=Oc(e);let r=e,a=jr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&k6.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Gv,M6);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Gv.test(o)){let u=o.replace(R6,I6);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=h_}return new a(r,e)}function I6(t){return"-"+t.toLowerCase()}function M6(t){return t.charAt(1).toUpperCase()}const bh=HO([zO,N6,GO,YO,VO],"html"),Iu=HO([zO,x6,GO,YO,VO],"svg");function Yv(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function KO(t){return t.join(" ").trim()}var Qo={},nb,Vv;function L6(){if(Vv)return nb;Vv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",b="comment",E="declaration";nb=function(w,A){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];A=A||{};var O=1,k=1;function C(ve){var X=ve.match(e);X&&(O+=X.length);var K=ve.lastIndexOf(d);k=~K?ve.length-K:k+ve.length}function $(){var ve={line:O,column:k};return function(X){return X.position=new P(ve),q(),X}}function P(ve){this.start=ve,this.end={line:O,column:k},this.source=A.source}P.prototype.content=w;function M(ve){var X=new Error(A.source+":"+O+":"+k+": "+ve);if(X.reason=ve,X.filename=A.source,X.line=O,X.column=k,X.source=w,!A.silent)throw X}function se(ve){var X=ve.exec(w);if(X){var K=X[0];return C(K),w=w.slice(K.length),X}}function q(){se(n)}function me(ve){var X;for(ve=ve||[];X=V();)X!==!1&&ve.push(X);return ve}function V(){var ve=$();if(!(f!=w.charAt(0)||p!=w.charAt(1))){for(var X=2;m!=w.charAt(X)&&(p!=w.charAt(X)||f!=w.charAt(X+1));)++X;if(X+=2,m===w.charAt(X-1))return M("End of comment missing");var K=w.slice(2,X-2);return k+=2,C(K),w=w.slice(X),k+=2,ve({type:b,comment:K})}}function ce(){var ve=$(),X=se(r);if(X){if(V(),!se(a))return M("property missing ':'");var K=se(o),U=ve({type:E,property:T(X[0].replace(t,m)),value:K?T(K[0].replace(t,m)):m});return se(u),U}}function he(){var ve=[];me(ve);for(var X;X=ce();)X!==!1&&(ve.push(X),me(ve));return ve}return q(),he()};function T(w){return w?w.replace(c,m):m}return nb}var Kv;function D6(){if(Kv)return Qo;Kv=1;var t=Qo&&Qo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.default=n;var e=t(L6());function n(r,a){var o=null;if(!r||typeof r!="string")return o;var u=(0,e.default)(r),c=typeof a=="function";return u.forEach(function(d){if(d.type==="declaration"){var f=d.property,p=d.value;c?a(f,p,d):p&&(o=o||{},o[f]=p)}}),o}return Qo}var $l={},Zv;function P6(){if(Zv)return $l;Zv=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},u=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),o(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(a,c):f=f.replace(r,c),f.replace(e,u))};return $l.camelCase=d,$l}var Hl,Xv;function U6(){if(Xv)return Hl;Xv=1;var t=Hl&&Hl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(D6()),n=P6();function r(a,o){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(c,d){c&&d&&(u[(0,n.camelCase)(c,o)]=d)}),u}return r.default=r,Hl=r,Hl}var B6=U6();const F6=Is(B6),_h=ZO("end"),gi=ZO("start");function ZO(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function $6(t){const e=gi(t),n=_h(t);if(e&&n)return{start:e,end:n}}function lc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Qv(t.position):"start"in t||"end"in t?Qv(t):"line"in t||"column"in t?u0(t):""}function u0(t){return Wv(t&&t.line)+":"+Wv(t&&t.column)}function Qv(t){return u0(t&&t.start)+"-"+u0(t&&t.end)}function Wv(t){return t&&typeof t=="number"?t:1}class mr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?a=e:!o.cause&&e&&(u=!0,a=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=c?c.line:void 0,this.name=lc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}mr.prototype.file="";mr.prototype.name="";mr.prototype.reason="";mr.prototype.message="";mr.prototype.stack="";mr.prototype.column=void 0;mr.prototype.line=void 0;mr.prototype.ancestors=void 0;mr.prototype.cause=void 0;mr.prototype.fatal=void 0;mr.prototype.place=void 0;mr.prototype.ruleId=void 0;mr.prototype.source=void 0;const m_={}.hasOwnProperty,H6=new Map,z6=/[A-Z]/g,j6=new Set(["table","tbody","thead","tfoot","tr"]),q6=new Set(["td","th"]),XO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function G6(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=J6(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=W6(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Iu:bh,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=QO(a,t,void 0);return o&&typeof o!="string"?o:a.create(t,a.Fragment,{children:o||void 0},void 0)}function QO(t,e,n){if(e.type==="element")return Y6(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return V6(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Z6(t,e,n);if(e.type==="mdxjsEsm")return K6(t,e);if(e.type==="root")return X6(t,e,n);if(e.type==="text")return Q6(t,e)}function Y6(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Iu,t.schema=a),t.ancestors.push(e);const o=JO(t,e.tagName,!1),u=e9(t,e);let c=b_(t,e);return j6.has(e.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!A6(d):!0})),WO(t,u,o,e),g_(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function V6(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Nc(t,e.position)}function K6(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Nc(t,e.position)}function Z6(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=Iu,t.schema=a),t.ancestors.push(e);const o=e.name===null?t.Fragment:JO(t,e.name,!0),u=t9(t,e),c=b_(t,e);return WO(t,u,o,e),g_(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function X6(t,e,n){const r={};return g_(r,b_(t,e)),t.create(e,t.Fragment,r,n)}function Q6(t,e){return e.value}function WO(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function g_(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function W6(t,e,n){return r;function r(a,o,u,c){const f=Array.isArray(u.children)?n:e;return c?f(o,u,c):f(o,u)}}function J6(t,e){return n;function n(r,a,o,u){const c=Array.isArray(o.children),d=gi(r);return e(a,o,u,c,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function e9(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&m_.call(e.properties,a)){const o=n9(t,a,e.properties[a]);if(o){const[u,c]=o;t.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&q6.has(e.tagName)?r=c:n[u]=c}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function t9(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const c=u.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else Nc(t,e.position);else{const a=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,o=t.evaluater.evaluateExpression(c.expression)}else Nc(t,e.position);else o=r.value===null?!0:r.value;n[a]=o}return n}function b_(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:H6;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=a.get(d)||0;u=d+"-"+f,a.set(d,f+1)}}const c=QO(t,o,u);c!==void 0&&n.push(c)}return n}function n9(t,e,n){const r=p_(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$O(n):KO(n)),r.property==="style"){let a=typeof n=="object"?n:r9(t,String(n));return t.stylePropertyNameCase==="css"&&(a=a9(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?C6[r.property]||r.property:r.attribute,n]}}function r9(t,e){try{return F6(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new mr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=XO+"#cannot-parse-style-attribute",a}}function JO(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let o=-1,u;for(;++o<a.length;){const c=zv(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=u}else r=zv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return m_.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);Nc(t)}function Nc(t,e){const n=new mr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=XO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function a9(t){const e={};let n;for(n in t)m_.call(t,n)&&(e[i9(n)]=t[n]);return e}function i9(t){let e=t.replace(z6,s9);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function s9(t){return"-"+t.toLowerCase()}const rb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},o9={};function __(t,e){const n=o9,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return eN(t,r,a)}function eN(t,e,n){if(u9(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Jv(t.children,e,n)}return Array.isArray(t)?Jv(t,e,n):""}function Jv(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=eN(t[a],e,n);return r.join("")}function u9(t){return!!(t&&typeof t=="object")}const eS=document.createElement("i");function y_(t){const e="&"+t+";";eS.innerHTML=e;const n=eS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function na(t,e,n,r){const a=t.length;let o=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function ba(t,e){return t.length>0?(na(t,t.length,0,e),t):e}const tS={}.hasOwnProperty;function tN(t){const e={};let n=-1;for(;++n<t.length;)l9(e,t[n]);return e}function l9(t,e){let n;for(n in e){const a=(tS.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){tS.call(a,u)||(a[u]=[]);const c=o[u];c9(a[u],Array.isArray(c)?c:c?[c]:[])}}}function c9(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);na(t,0,0,r)}function nN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Fa(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ar=Ds(/[A-Za-z]/),pr=Ds(/[\dA-Za-z]/),d9=Ds(/[#-'*+\--9=?A-Z^-~]/);function Wf(t){return t!==null&&(t<32||t===127)}const l0=Ds(/\d/),f9=Ds(/[\dA-Fa-f]/),h9=Ds(/[!-/:-@[-`{-~]/);function Xe(t){return t!==null&&t<-2}function Jt(t){return t!==null&&(t<0||t===32)}function vt(t){return t===-2||t===-1||t===32}const yh=Ds(new RegExp("\\p{P}|\\p{S}","u")),fo=Ds(/\s/);function Ds(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Mu(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&pr(t.charCodeAt(n+1))&&pr(t.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const c=t.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(u=String.fromCharCode(o,c),a=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function Ot(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(d){return vt(d)?(t.enter(n),c(d)):e(d)}function c(d){return vt(d)&&o++<a?(t.consume(d),c):(t.exit(n),e(d))}}const p9={tokenize:m9};function m9(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Ot(t,e,"linePrefix")}function a(c){return t.enter("paragraph"),o(c)}function o(c){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,u(c)}function u(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Xe(c)?(t.consume(c),t.exit("chunkText"),o):(t.consume(c),u)}}const g9={tokenize:b9},nS={tokenize:_9};function b9(t){const e=this,n=[];let r=0,a,o,u;return c;function c(C){if(r<n.length){const $=n[r];return e.containerState=$[1],t.attempt($[0].continuation,d,f)(C)}return f(C)}function d(C){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&k();const $=e.events.length;let P=$,M;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){M=e.events[P][1].end;break}O(r);let se=$;for(;se<e.events.length;)e.events[se][1].end={...M},se++;return na(e.events,P+1,0,e.events.slice($)),e.events.length=se,f(C)}return c(C)}function f(C){if(r===n.length){if(!a)return b(C);if(a.currentConstruct&&a.currentConstruct.concrete)return T(C);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(nS,p,m)(C)}function p(C){return a&&k(),O(r),b(C)}function m(C){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,T(C)}function b(C){return e.containerState={},t.attempt(nS,E,T)(C)}function E(C){return r++,n.push([e.currentConstruct,e.containerState]),b(C)}function T(C){if(C===null){a&&k(),O(0),t.consume(C);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),w(C)}function w(C){if(C===null){A(t.exit("chunkFlow"),!0),O(0),t.consume(C);return}return Xe(C)?(t.consume(C),A(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(C),w)}function A(C,$){const P=e.sliceStream(C);if($&&P.push(null),C.previous=o,o&&(o.next=C),o=C,a.defineSkip(C.start),a.write(P),e.parser.lazy[C.start.line]){let M=a.events.length;for(;M--;)if(a.events[M][1].start.offset<u&&(!a.events[M][1].end||a.events[M][1].end.offset>u))return;const se=e.events.length;let q=se,me,V;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){if(me){V=e.events[q][1].end;break}me=!0}for(O(r),M=se;M<e.events.length;)e.events[M][1].end={...V},M++;na(e.events,q+1,0,e.events.slice(se)),e.events.length=M}}function O(C){let $=n.length;for(;$-- >C;){const P=n[$];e.containerState=P[1],P[0].exit.call(e,t)}n.length=C}function k(){a.write([null]),o=void 0,a=void 0,e.containerState._closeFlow=void 0}}function _9(t,e,n){return Ot(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Eu(t){if(t===null||Jt(t)||fo(t))return 1;if(yh(t))return 2}function Eh(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const o=t[a].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const c0={name:"attention",resolveAll:y9,tokenize:E9};function y9(t,e){let n=-1,r,a,o,u,c,d,f,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},b={...t[n][1].start};rS(m,-d),rS(b,d),u={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:b},o={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:d>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},t[r][1].end={...u.start},t[n][1].start={...c.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=ba(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=ba(f,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",o,e]]),f=ba(f,Eh(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=ba(f,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,f=ba(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,na(t,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function E9(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Eu(r);let o;return u;function u(d){return o=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===o)return t.consume(d),c;const f=t.exit("attentionSequence"),p=Eu(d),m=!p||p===2&&a||n.includes(d),b=!a||a===2&&p||n.includes(r);return f._open=!!(o===42?m:m&&(a||!b)),f._close=!!(o===42?b:b&&(p||!m)),e(d)}}function rS(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const T9={name:"autolink",tokenize:w9};function w9(t,e,n){let r=0;return a;function a(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(E){return Ar(E)?(t.consume(E),u):E===64?n(E):f(E)}function u(E){return E===43||E===45||E===46||pr(E)?(r=1,c(E)):f(E)}function c(E){return E===58?(t.consume(E),r=0,d):(E===43||E===45||E===46||pr(E))&&r++<32?(t.consume(E),c):(r=0,f(E))}function d(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):E===null||E===32||E===60||Wf(E)?n(E):(t.consume(E),d)}function f(E){return E===64?(t.consume(E),p):d9(E)?(t.consume(E),f):n(E)}function p(E){return pr(E)?m(E):n(E)}function m(E){return E===46?(t.consume(E),r=0,p):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):b(E)}function b(E){if((E===45||pr(E))&&r++<63){const T=E===45?b:m;return t.consume(E),T}return n(E)}}const $c={partial:!0,tokenize:v9};function v9(t,e,n){return r;function r(o){return vt(o)?Ot(t,a,"linePrefix")(o):a(o)}function a(o){return o===null||Xe(o)?e(o):n(o)}}const rN={continuation:{tokenize:A9},exit:O9,name:"blockQuote",tokenize:S9};function S9(t,e,n){const r=this;return a;function a(u){if(u===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return vt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function A9(t,e,n){const r=this;return a;function a(u){return vt(u)?Ot(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(rN,e,n)(u)}}function O9(t){t.exit("blockQuote")}const aN={name:"characterEscape",tokenize:N9};function N9(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),a}function a(o){return h9(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const iN={name:"characterReference",tokenize:x9};function x9(t,e,n){const r=this;let a=0,o,u;return c;function c(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),d}function d(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,u=pr,p(m))}function f(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=f9,p):(t.enter("characterReferenceValue"),o=7,u=l0,p(m))}function p(m){if(m===59&&a){const b=t.exit("characterReferenceValue");return u===pr&&!y_(r.sliceSerialize(b))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(m)&&a++<o?(t.consume(m),p):n(m)}}const aS={partial:!0,tokenize:R9},iS={concrete:!0,name:"codeFenced",tokenize:C9};function C9(t,e,n){const r=this,a={partial:!0,tokenize:P};let o=0,u=0,c;return d;function d(M){return f(M)}function f(M){const se=r.events[r.events.length-1];return o=se&&se[1].type==="linePrefix"?se[2].sliceSerialize(se[1],!0).length:0,c=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(M)}function p(M){return M===c?(u++,t.consume(M),p):u<3?n(M):(t.exit("codeFencedFenceSequence"),vt(M)?Ot(t,m,"whitespace")(M):m(M))}function m(M){return M===null||Xe(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(aS,w,$)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),b(M))}function b(M){return M===null||Xe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(M)):vt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ot(t,E,"whitespace")(M)):M===96&&M===c?n(M):(t.consume(M),b)}function E(M){return M===null||Xe(M)?m(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(M))}function T(M){return M===null||Xe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(M)):M===96&&M===c?n(M):(t.consume(M),T)}function w(M){return t.attempt(a,$,A)(M)}function A(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),O}function O(M){return o>0&&vt(M)?Ot(t,k,"linePrefix",o+1)(M):k(M)}function k(M){return M===null||Xe(M)?t.check(aS,w,$)(M):(t.enter("codeFlowValue"),C(M))}function C(M){return M===null||Xe(M)?(t.exit("codeFlowValue"),k(M)):(t.consume(M),C)}function $(M){return t.exit("codeFenced"),e(M)}function P(M,se,q){let me=0;return V;function V(K){return M.enter("lineEnding"),M.consume(K),M.exit("lineEnding"),ce}function ce(K){return M.enter("codeFencedFence"),vt(K)?Ot(M,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):he(K)}function he(K){return K===c?(M.enter("codeFencedFenceSequence"),ve(K)):q(K)}function ve(K){return K===c?(me++,M.consume(K),ve):me>=u?(M.exit("codeFencedFenceSequence"),vt(K)?Ot(M,X,"whitespace")(K):X(K)):q(K)}function X(K){return K===null||Xe(K)?(M.exit("codeFencedFence"),se(K)):q(K)}}}function R9(t,e,n){const r=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const ab={name:"codeIndented",tokenize:I9},k9={partial:!0,tokenize:M9};function I9(t,e,n){const r=this;return a;function a(f){return t.enter("codeIndented"),Ot(t,o,"linePrefix",5)(f)}function o(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?u(f):n(f)}function u(f){return f===null?d(f):Xe(f)?t.attempt(k9,u,d)(f):(t.enter("codeFlowValue"),c(f))}function c(f){return f===null||Xe(f)?(t.exit("codeFlowValue"),u(f)):(t.consume(f),c)}function d(f){return t.exit("codeIndented"),e(f)}}function M9(t,e,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):Xe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):Ot(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):Xe(u)?a(u):n(u)}}const L9={name:"codeText",previous:P9,resolve:D9,tokenize:U9};function D9(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function P9(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function U9(t,e,n){let r=0,a,o;return u;function u(m){return t.enter("codeText"),t.enter("codeTextSequence"),c(m)}function c(m){return m===96?(t.consume(m),r++,c):(t.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),d):m===96?(o=t.enter("codeTextSequence"),a=0,p(m)):Xe(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),d):(t.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Xe(m)?(t.exit("codeTextData"),d(m)):(t.consume(m),f)}function p(m){return m===96?(t.consume(m),a++,p):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(o.type="codeTextData",f(m))}}class B9{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&zl(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),zl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),zl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);zl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);zl(this.left,n.reverse())}}}function zl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function sN(t){const e={};let n=-1,r,a,o,u,c,d,f;const p=new B9(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,F9(p,n)),n=e[n],f=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(u=p.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(p.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...p.get(a)[1].start},c=p.slice(a,n),c.unshift(r),p.splice(a,n-a+1,c))}}return na(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function F9(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,d=[],f={};let p,m,b=-1,E=n,T=0,w=0;const A=[w];for(;E;){for(;t.get(++a)[1]!==E;);o.push(a),E._tokenizer||(p=r.sliceStream(E),E.next||p.push(null),m&&u.defineSkip(E.start),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(p),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),m=E,E=E.next}for(E=n;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(w=b+1,A.push(w),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(u.events=[],E?(E._tokenizer=void 0,E.previous=void 0):A.pop(),b=A.length;b--;){const O=c.slice(A[b],A[b+1]),k=o.pop();d.push([k,k+O.length-1]),t.splice(k,2,O)}for(d.reverse(),b=-1;++b<d.length;)f[T+d[b][0]]=T+d[b][1],T+=d[b][1]-d[b][0]-1;return f}const $9={resolve:z9,tokenize:j9},H9={partial:!0,tokenize:q9};function z9(t){return sN(t),t}function j9(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(c)}function a(c){return c===null?o(c):Xe(c)?t.check(H9,u,o)(c):(t.consume(c),a)}function o(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function u(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function q9(t,e,n){const r=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Ot(t,o,"linePrefix")}function o(u){if(u===null||Xe(u))return n(u);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function oN(t,e,n,r,a,o,u,c,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(O){return O===60?(t.enter(r),t.enter(a),t.enter(o),t.consume(O),t.exit(o),b):O===null||O===32||O===41||Wf(O)?n(O):(t.enter(r),t.enter(u),t.enter(c),t.enter("chunkString",{contentType:"string"}),w(O))}function b(O){return O===62?(t.enter(o),t.consume(O),t.exit(o),t.exit(a),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),E(O))}function E(O){return O===62?(t.exit("chunkString"),t.exit(c),b(O)):O===null||O===60||Xe(O)?n(O):(t.consume(O),O===92?T:E)}function T(O){return O===60||O===62||O===92?(t.consume(O),E):E(O)}function w(O){return!p&&(O===null||O===41||Jt(O))?(t.exit("chunkString"),t.exit(c),t.exit(u),t.exit(r),e(O)):p<f&&O===40?(t.consume(O),p++,w):O===41?(t.consume(O),p--,w):O===null||O===32||O===40||Wf(O)?n(O):(t.consume(O),O===92?A:w)}function A(O){return O===40||O===41||O===92?(t.consume(O),w):w(O)}}function uN(t,e,n,r,a,o){const u=this;let c=0,d;return f;function f(E){return t.enter(r),t.enter(a),t.consume(E),t.exit(a),t.enter(o),p}function p(E){return c>999||E===null||E===91||E===93&&!d||E===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?n(E):E===93?(t.exit(o),t.enter(a),t.consume(E),t.exit(a),t.exit(r),e):Xe(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||E===91||E===93||Xe(E)||c++>999?(t.exit("chunkString"),p(E)):(t.consume(E),d||(d=!vt(E)),E===92?b:m)}function b(E){return E===91||E===92||E===93?(t.consume(E),c++,m):m(E)}}function lN(t,e,n,r,a,o){let u;return c;function c(b){return b===34||b===39||b===40?(t.enter(r),t.enter(a),t.consume(b),t.exit(a),u=b===40?41:b,d):n(b)}function d(b){return b===u?(t.enter(a),t.consume(b),t.exit(a),t.exit(r),e):(t.enter(o),f(b))}function f(b){return b===u?(t.exit(o),d(u)):b===null?n(b):Xe(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),Ot(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===u||b===null||Xe(b)?(t.exit("chunkString"),f(b)):(t.consume(b),b===92?m:p)}function m(b){return b===u||b===92?(t.consume(b),p):p(b)}}function cc(t,e){let n;return r;function r(a){return Xe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):vt(a)?Ot(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const G9={name:"definition",tokenize:V9},Y9={partial:!0,tokenize:K9};function V9(t,e,n){const r=this;let a;return o;function o(E){return t.enter("definition"),u(E)}function u(E){return uN.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function c(E){return a=Fa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),d):n(E)}function d(E){return Jt(E)?cc(t,f)(E):f(E)}function f(E){return oN(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function p(E){return t.attempt(Y9,m,m)(E)}function m(E){return vt(E)?Ot(t,b,"whitespace")(E):b(E)}function b(E){return E===null||Xe(E)?(t.exit("definition"),r.parser.defined.push(a),e(E)):n(E)}}function K9(t,e,n){return r;function r(c){return Jt(c)?cc(t,a)(c):n(c)}function a(c){return lN(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return vt(c)?Ot(t,u,"whitespace")(c):u(c)}function u(c){return c===null||Xe(c)?e(c):n(c)}}const Z9={name:"hardBreakEscape",tokenize:X9};function X9(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),a}function a(o){return Xe(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Q9={name:"headingAtx",resolve:W9,tokenize:J9};function W9(t,e){let n=t.length-2,r=3,a,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},na(t,r,n-r+1,[["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e]])),t}function J9(t,e,n){let r=0;return a;function a(p){return t.enter("atxHeading"),o(p)}function o(p){return t.enter("atxHeadingSequence"),u(p)}function u(p){return p===35&&r++<6?(t.consume(p),u):p===null||Jt(p)?(t.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(t.enter("atxHeadingSequence"),d(p)):p===null||Xe(p)?(t.exit("atxHeading"),e(p)):vt(p)?Ot(t,c,"whitespace")(p):(t.enter("atxHeadingText"),f(p))}function d(p){return p===35?(t.consume(p),d):(t.exit("atxHeadingSequence"),c(p))}function f(p){return p===null||p===35||Jt(p)?(t.exit("atxHeadingText"),c(p)):(t.consume(p),f)}}const eU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sS=["pre","script","style","textarea"],tU={concrete:!0,name:"htmlFlow",resolveTo:aU,tokenize:iU},nU={partial:!0,tokenize:oU},rU={partial:!0,tokenize:sU};function aU(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function iU(t,e,n){const r=this;let a,o,u,c,d;return f;function f(x){return p(x)}function p(x){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(x),m}function m(x){return x===33?(t.consume(x),b):x===47?(t.consume(x),o=!0,w):x===63?(t.consume(x),a=3,r.interrupt?e:v):Ar(x)?(t.consume(x),u=String.fromCharCode(x),A):n(x)}function b(x){return x===45?(t.consume(x),a=2,E):x===91?(t.consume(x),a=5,c=0,T):Ar(x)?(t.consume(x),a=4,r.interrupt?e:v):n(x)}function E(x){return x===45?(t.consume(x),r.interrupt?e:v):n(x)}function T(x){const ge="CDATA[";return x===ge.charCodeAt(c++)?(t.consume(x),c===ge.length?r.interrupt?e:he:T):n(x)}function w(x){return Ar(x)?(t.consume(x),u=String.fromCharCode(x),A):n(x)}function A(x){if(x===null||x===47||x===62||Jt(x)){const ge=x===47,be=u.toLowerCase();return!ge&&!o&&sS.includes(be)?(a=1,r.interrupt?e(x):he(x)):eU.includes(u.toLowerCase())?(a=6,ge?(t.consume(x),O):r.interrupt?e(x):he(x)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(x):o?k(x):C(x))}return x===45||pr(x)?(t.consume(x),u+=String.fromCharCode(x),A):n(x)}function O(x){return x===62?(t.consume(x),r.interrupt?e:he):n(x)}function k(x){return vt(x)?(t.consume(x),k):V(x)}function C(x){return x===47?(t.consume(x),V):x===58||x===95||Ar(x)?(t.consume(x),$):vt(x)?(t.consume(x),C):V(x)}function $(x){return x===45||x===46||x===58||x===95||pr(x)?(t.consume(x),$):P(x)}function P(x){return x===61?(t.consume(x),M):vt(x)?(t.consume(x),P):C(x)}function M(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(t.consume(x),d=x,se):vt(x)?(t.consume(x),M):q(x)}function se(x){return x===d?(t.consume(x),d=null,me):x===null||Xe(x)?n(x):(t.consume(x),se)}function q(x){return x===null||x===34||x===39||x===47||x===60||x===61||x===62||x===96||Jt(x)?P(x):(t.consume(x),q)}function me(x){return x===47||x===62||vt(x)?C(x):n(x)}function V(x){return x===62?(t.consume(x),ce):n(x)}function ce(x){return x===null||Xe(x)?he(x):vt(x)?(t.consume(x),ce):n(x)}function he(x){return x===45&&a===2?(t.consume(x),U):x===60&&a===1?(t.consume(x),Z):x===62&&a===4?(t.consume(x),G):x===63&&a===3?(t.consume(x),v):x===93&&a===5?(t.consume(x),ue):Xe(x)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(nU,re,ve)(x)):x===null||Xe(x)?(t.exit("htmlFlowData"),ve(x)):(t.consume(x),he)}function ve(x){return t.check(rU,X,re)(x)}function X(x){return t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),K}function K(x){return x===null||Xe(x)?ve(x):(t.enter("htmlFlowData"),he(x))}function U(x){return x===45?(t.consume(x),v):he(x)}function Z(x){return x===47?(t.consume(x),u="",z):he(x)}function z(x){if(x===62){const ge=u.toLowerCase();return sS.includes(ge)?(t.consume(x),G):he(x)}return Ar(x)&&u.length<8?(t.consume(x),u+=String.fromCharCode(x),z):he(x)}function ue(x){return x===93?(t.consume(x),v):he(x)}function v(x){return x===62?(t.consume(x),G):x===45&&a===2?(t.consume(x),v):he(x)}function G(x){return x===null||Xe(x)?(t.exit("htmlFlowData"),re(x)):(t.consume(x),G)}function re(x){return t.exit("htmlFlow"),e(x)}}function sU(t,e,n){const r=this;return a;function a(u){return Xe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function oU(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt($c,e,n)}}const uU={name:"htmlText",tokenize:lU};function lU(t,e,n){const r=this;let a,o,u;return c;function c(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),d}function d(v){return v===33?(t.consume(v),f):v===47?(t.consume(v),P):v===63?(t.consume(v),C):Ar(v)?(t.consume(v),q):n(v)}function f(v){return v===45?(t.consume(v),p):v===91?(t.consume(v),o=0,T):Ar(v)?(t.consume(v),k):n(v)}function p(v){return v===45?(t.consume(v),E):n(v)}function m(v){return v===null?n(v):v===45?(t.consume(v),b):Xe(v)?(u=m,Z(v)):(t.consume(v),m)}function b(v){return v===45?(t.consume(v),E):m(v)}function E(v){return v===62?U(v):v===45?b(v):m(v)}function T(v){const G="CDATA[";return v===G.charCodeAt(o++)?(t.consume(v),o===G.length?w:T):n(v)}function w(v){return v===null?n(v):v===93?(t.consume(v),A):Xe(v)?(u=w,Z(v)):(t.consume(v),w)}function A(v){return v===93?(t.consume(v),O):w(v)}function O(v){return v===62?U(v):v===93?(t.consume(v),O):w(v)}function k(v){return v===null||v===62?U(v):Xe(v)?(u=k,Z(v)):(t.consume(v),k)}function C(v){return v===null?n(v):v===63?(t.consume(v),$):Xe(v)?(u=C,Z(v)):(t.consume(v),C)}function $(v){return v===62?U(v):C(v)}function P(v){return Ar(v)?(t.consume(v),M):n(v)}function M(v){return v===45||pr(v)?(t.consume(v),M):se(v)}function se(v){return Xe(v)?(u=se,Z(v)):vt(v)?(t.consume(v),se):U(v)}function q(v){return v===45||pr(v)?(t.consume(v),q):v===47||v===62||Jt(v)?me(v):n(v)}function me(v){return v===47?(t.consume(v),U):v===58||v===95||Ar(v)?(t.consume(v),V):Xe(v)?(u=me,Z(v)):vt(v)?(t.consume(v),me):U(v)}function V(v){return v===45||v===46||v===58||v===95||pr(v)?(t.consume(v),V):ce(v)}function ce(v){return v===61?(t.consume(v),he):Xe(v)?(u=ce,Z(v)):vt(v)?(t.consume(v),ce):me(v)}function he(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),a=v,ve):Xe(v)?(u=he,Z(v)):vt(v)?(t.consume(v),he):(t.consume(v),X)}function ve(v){return v===a?(t.consume(v),a=void 0,K):v===null?n(v):Xe(v)?(u=ve,Z(v)):(t.consume(v),ve)}function X(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||Jt(v)?me(v):(t.consume(v),X)}function K(v){return v===47||v===62||Jt(v)?me(v):n(v)}function U(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function Z(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),z}function z(v){return vt(v)?Ot(t,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):ue(v)}function ue(v){return t.enter("htmlTextData"),u(v)}}const E_={name:"labelEnd",resolveAll:hU,resolveTo:pU,tokenize:mU},cU={tokenize:gU},dU={tokenize:bU},fU={tokenize:_U};function hU(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&na(t,0,t.length,n),t}function pU(t,e){let n=t.length,r=0,a,o,u,c;for(;n--;)if(a=t[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},p={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return c=[["enter",d,e],["enter",f,e]],c=ba(c,t.slice(o+1,o+r+3)),c=ba(c,[["enter",p,e]]),c=ba(c,Eh(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),c=ba(c,[["exit",p,e],t[u-2],t[u-1],["exit",f,e]]),c=ba(c,t.slice(u+1)),c=ba(c,[["exit",d,e]]),na(t,o,t.length,c),t}function mU(t,e,n){const r=this;let a=r.events.length,o,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return c;function c(b){return o?o._inactive?m(b):(u=r.parser.defined.includes(Fa(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(b),t.exit("labelMarker"),t.exit("labelEnd"),d):n(b)}function d(b){return b===40?t.attempt(cU,p,u?p:m)(b):b===91?t.attempt(dU,p,u?f:m)(b):u?p(b):m(b)}function f(b){return t.attempt(fU,p,m)(b)}function p(b){return e(b)}function m(b){return o._balanced=!0,n(b)}}function gU(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),a}function a(m){return Jt(m)?cc(t,o)(m):o(m)}function o(m){return m===41?p(m):oN(t,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function u(m){return Jt(m)?cc(t,d)(m):p(m)}function c(m){return n(m)}function d(m){return m===34||m===39||m===40?lN(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return Jt(m)?cc(t,p)(m):p(m)}function p(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function bU(t,e,n){const r=this;return a;function a(c){return uN.call(r,t,o,u,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(Fa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function u(c){return n(c)}}function _U(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),a}function a(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const yU={name:"labelStartImage",resolveAll:E_.resolveAll,tokenize:EU};function EU(t,e,n){const r=this;return a;function a(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),o}function o(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),u):n(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const TU={name:"labelStartLink",resolveAll:E_.resolveAll,tokenize:wU};function wU(t,e,n){const r=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const ib={name:"lineEnding",tokenize:vU};function vU(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ot(t,e,"linePrefix")}}const Cf={name:"thematicBreak",tokenize:SU};function SU(t,e,n){let r=0,a;return o;function o(f){return t.enter("thematicBreak"),u(f)}function u(f){return a=f,c(f)}function c(f){return f===a?(t.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Xe(f))?(t.exit("thematicBreak"),e(f)):n(f)}function d(f){return f===a?(t.consume(f),r++,d):(t.exit("thematicBreakSequence"),vt(f)?Ot(t,c,"whitespace")(f):c(f))}}const Br={continuation:{tokenize:xU},exit:RU,name:"list",tokenize:NU},AU={partial:!0,tokenize:kU},OU={partial:!0,tokenize:CU};function NU(t,e,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return c;function c(E){const T=r.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||E===r.containerState.marker:l0(E)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(Cf,n,f)(E):f(E);if(!r.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(E)}return n(E)}function d(E){return l0(E)&&++u<10?(t.consume(E),d):(!r.interrupt||u<2)&&(r.containerState.marker?E===r.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),f(E)):n(E)}function f(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||E,t.check($c,r.interrupt?n:p,t.attempt(AU,b,m))}function p(E){return r.containerState.initialBlankLine=!0,o++,b(E)}function m(E){return vt(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),b):n(E)}function b(E){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(E)}}function xU(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check($c,a,o);function a(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ot(t,e,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!vt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(OU,e,u)(c))}function u(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ot(t,t.attempt(Br,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function CU(t,e,n){const r=this;return Ot(t,a,"listItemIndent",r.containerState.size+1);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function RU(t){t.exit(this.containerState.type)}function kU(t,e,n){const r=this;return Ot(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const u=r.events[r.events.length-1];return!vt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const oS={name:"setextUnderline",resolveTo:IU,tokenize:MU};function IU(t,e){let n=t.length,r,a,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",o?(t.splice(a,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function MU(t,e,n){const r=this;let a;return o;function o(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),a=f,u(f)):n(f)}function u(f){return t.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===a?(t.consume(f),c):(t.exit("setextHeadingLineSequence"),vt(f)?Ot(t,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Xe(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const LU={tokenize:DU};function DU(t){const e=this,n=t.attempt($c,r,t.attempt(this.parser.constructs.flowInitial,a,Ot(t,t.attempt(this.parser.constructs.flow,a,t.attempt($9,a)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const PU={resolveAll:dN()},UU=cN("string"),BU=cN("text");function cN(t){return{resolveAll:dN(t==="text"?FU:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],o=n.attempt(a,u,c);return u;function u(p){return f(p)?o(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),o(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const m=a[p];let b=-1;if(m)for(;++b<m.length;){const E=m[b];if(!E.previous||E.previous.call(r,r.previous))return!0}return!1}}}function dN(t){return e;function e(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return t?t(n,r):n}}function FU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let o=a.length,u=-1,c=0,d;for(;o--;){const f=a[o];if(typeof f=="string"){for(u=f.length;f.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(f===-2)d=!0,c++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const f={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const $U={42:Br,43:Br,45:Br,48:Br,49:Br,50:Br,51:Br,52:Br,53:Br,54:Br,55:Br,56:Br,57:Br,62:rN},HU={91:G9},zU={[-2]:ab,[-1]:ab,32:ab},jU={35:Q9,42:Cf,45:[oS,Cf],60:tU,61:oS,95:Cf,96:iS,126:iS},qU={38:iN,92:aN},GU={[-5]:ib,[-4]:ib,[-3]:ib,33:yU,38:iN,42:c0,60:[T9,uU],91:TU,92:[Z9,aN],93:E_,95:c0,96:L9},YU={null:[c0,PU]},VU={null:[42,95]},KU={null:[]},ZU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:VU,contentInitial:HU,disable:KU,document:$U,flow:jU,flowInitial:zU,insideSpan:YU,string:qU,text:GU},Symbol.toStringTag,{value:"Module"}));function XU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let u=[],c=[];const d={attempt:se(P),check:se(M),consume:k,enter:C,exit:$,interrupt:se(M,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:T,parser:t,previous:null,sliceSerialize:b,sliceStream:E,write:m};let p=e.tokenize.call(f,d);return e.resolveAll&&o.push(e),f;function m(ce){return u=ba(u,ce),A(),u[u.length-1]!==null?[]:(q(e,0),f.events=Eh(o,f.events,f),f.events)}function b(ce,he){return WU(E(ce),he)}function E(ce){return QU(u,ce)}function T(){const{_bufferIndex:ce,_index:he,line:ve,column:X,offset:K}=r;return{_bufferIndex:ce,_index:he,line:ve,column:X,offset:K}}function w(ce){a[ce.line]=ce.column,V()}function A(){let ce;for(;r._index<u.length;){const he=u[r._index];if(typeof he=="string")for(ce=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ce&&r._bufferIndex<he.length;)O(he.charCodeAt(r._bufferIndex));else O(he)}}function O(ce){p=p(ce)}function k(ce){Xe(ce)?(r.line++,r.column=1,r.offset+=ce===-3?2:1,V()):ce!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=ce}function C(ce,he){const ve=he||{};return ve.type=ce,ve.start=T(),f.events.push(["enter",ve,f]),c.push(ve),ve}function $(ce){const he=c.pop();return he.end=T(),f.events.push(["exit",he,f]),he}function P(ce,he){q(ce,he.from)}function M(ce,he){he.restore()}function se(ce,he){return ve;function ve(X,K,U){let Z,z,ue,v;return Array.isArray(X)?re(X):"tokenize"in X?re([X]):G(X);function G(Se){return We;function We(nt){const Ft=nt!==null&&Se[nt],Nt=nt!==null&&Se.null,qt=[...Array.isArray(Ft)?Ft:Ft?[Ft]:[],...Array.isArray(Nt)?Nt:Nt?[Nt]:[]];return re(qt)(nt)}}function re(Se){return Z=Se,z=0,Se.length===0?U:x(Se[z])}function x(Se){return We;function We(nt){return v=me(),ue=Se,Se.partial||(f.currentConstruct=Se),Se.name&&f.parser.constructs.disable.null.includes(Se.name)?be():Se.tokenize.call(he?Object.assign(Object.create(f),he):f,d,ge,be)(nt)}}function ge(Se){return ce(ue,v),K}function be(Se){return v.restore(),++z<Z.length?x(Z[z]):U}}}function q(ce,he){ce.resolveAll&&!o.includes(ce)&&o.push(ce),ce.resolve&&na(f.events,he,f.events.length-he,ce.resolve(f.events.slice(he),f)),ce.resolveTo&&(f.events=ce.resolveTo(f.events,f))}function me(){const ce=T(),he=f.previous,ve=f.currentConstruct,X=f.events.length,K=Array.from(c);return{from:X,restore:U};function U(){r=ce,f.previous=he,f.currentConstruct=ve,f.events.length=X,c=K,V()}}function V(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function QU(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,o=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(r,o)];else{if(u=t.slice(n,a),r>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(r):u.shift()}o>0&&u.push(t[a].slice(0,o))}return u}function WU(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(o)}a=o===-2,r.push(u)}return r.join("")}function JU(t){const r={constructs:tN([ZU,...(t||{}).extensions||[]]),content:a(p9),defined:[],document:a(g9),flow:a(LU),lazy:{},string:a(UU),text:a(BU)};return r;function a(o){return u;function u(c){return XU(r,o,c)}}}function eB(t){for(;!sN(t););return t}const uS=/[\0\t\n\r]/g;function tB(){let t=1,e="",n=!0,r;return a;function a(o,u,c){const d=[];let f,p,m,b,E;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),m=0,e="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(uS.lastIndex=m,f=uS.exec(o),b=f&&f.index!==void 0?f.index:o.length,E=o.charCodeAt(b),!f){e=o.slice(m);break}if(E===10&&m===b&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<b&&(d.push(o.slice(m,b)),t+=b-m),E){case 0:{d.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,d.push(-2);t++<p;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}m=b+1}return c&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const nB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rB(t){return t.replace(nB,aB)}function aB(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return nN(n.slice(o?2:1),o?16:10)}return y_(n)||t}const fN={}.hasOwnProperty;function iB(t,e,n){return typeof e!="string"&&(n=e,e=void 0),sB(n)(eB(JU(n).document().write(tB()(t,e,!0))))}function sB(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(sr),autolinkProtocol:me,autolinkEmail:me,atxHeading:o(Xn),blockQuote:o(Nt),characterEscape:me,characterReference:me,codeFenced:o(qt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(qt,u),codeText:o(Zt,u),codeTextData:me,data:me,codeFlowValue:me,definition:o(On),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(hn),hardBreakEscape:o(lt),hardBreakTrailing:o(lt),htmlFlow:o(Dt,u),htmlFlowData:me,htmlText:o(Dt,u),htmlTextData:me,image:o(yn),label:u,link:o(sr),listItem:o(or),listItemValue:b,listOrdered:o(Ce,m),listUnordered:o(Ce),paragraph:o(Ze),reference:x,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Xn),strong:o(Pe),thematicBreak:o(Re)},exit:{atxHeading:d(),atxHeadingSequence:P,autolink:d(),autolinkEmail:Ft,autolinkProtocol:nt,blockQuote:d(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:Se,characterReference:We,codeFenced:d(A),codeFencedFence:w,codeFencedFenceInfo:E,codeFencedFenceMeta:T,codeFlowValue:V,codeIndented:d(O),codeText:d(K),codeTextData:V,data:V,definition:d(),definitionDestinationString:$,definitionLabelString:k,definitionTitleString:C,emphasis:d(),hardBreakEscape:d(he),hardBreakTrailing:d(he),htmlFlow:d(ve),htmlFlowData:V,htmlText:d(X),htmlTextData:V,image:d(Z),label:ue,labelText:z,lineEnding:ce,link:d(U),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ge,resourceDestinationString:v,resourceTitleString:G,resource:re,setextHeading:d(q),setextHeadingLineSequence:se,setextHeadingText:M,strong:d(),thematicBreak:d()}};hN(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(F){let te={type:"root",children:[]};const pe={stack:[te],tokenStack:[],config:e,enter:c,exit:f,buffer:u,resume:p,data:n},De=[];let gt=-1;for(;++gt<F.length;)if(F[gt][1].type==="listOrdered"||F[gt][1].type==="listUnordered")if(F[gt][0]==="enter")De.push(gt);else{const En=De.pop();gt=a(F,En,gt)}for(gt=-1;++gt<F.length;){const En=e[F[gt][0]];fN.call(En,F[gt][1].type)&&En[F[gt][1].type].call(Object.assign({sliceSerialize:F[gt][2].sliceSerialize},pe),F[gt][1])}if(pe.tokenStack.length>0){const En=pe.tokenStack[pe.tokenStack.length-1];(En[1]||lS).call(pe,void 0,En[0])}for(te.position={start:ps(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:ps(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},gt=-1;++gt<e.transforms.length;)te=e.transforms[gt](te)||te;return te}function a(F,te,pe){let De=te-1,gt=-1,En=!1,ur,Tn,ln,pn;for(;++De<=pe;){const an=F[De];switch(an[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{an[0]==="enter"?gt++:gt--,pn=void 0;break}case"lineEndingBlank":{an[0]==="enter"&&(ur&&!pn&&!gt&&!ln&&(ln=De),pn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pn=void 0}if(!gt&&an[0]==="enter"&&an[1].type==="listItemPrefix"||gt===-1&&an[0]==="exit"&&(an[1].type==="listUnordered"||an[1].type==="listOrdered")){if(ur){let Hn=De;for(Tn=void 0;Hn--;){const Qn=F[Hn];if(Qn[1].type==="lineEnding"||Qn[1].type==="lineEndingBlank"){if(Qn[0]==="exit")continue;Tn&&(F[Tn][1].type="lineEndingBlank",En=!0),Qn[1].type="lineEnding",Tn=Hn}else if(!(Qn[1].type==="linePrefix"||Qn[1].type==="blockQuotePrefix"||Qn[1].type==="blockQuotePrefixWhitespace"||Qn[1].type==="blockQuoteMarker"||Qn[1].type==="listItemIndent"))break}ln&&(!Tn||ln<Tn)&&(ur._spread=!0),ur.end=Object.assign({},Tn?F[Tn][1].start:an[1].end),F.splice(Tn||De,0,["exit",ur,an[2]]),De++,pe++}if(an[1].type==="listItemPrefix"){const Hn={type:"listItem",_spread:!1,start:Object.assign({},an[1].start),end:void 0};ur=Hn,F.splice(De,0,["enter",Hn,an[2]]),De++,pe++,ln=void 0,pn=!0}}}return F[te][1]._spread=En,pe}function o(F,te){return pe;function pe(De){c.call(this,F(De),De),te&&te.call(this,De)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(F,te,pe){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([te,pe||void 0]),F.position={start:ps(te.start),end:void 0}}function d(F){return te;function te(pe){F&&F.call(this,pe),f.call(this,pe)}}function f(F,te){const pe=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==F.type&&(te?te.call(this,F,De[0]):(De[1]||lS).call(this,F,De[0]));else throw new Error("Cannot close `"+F.type+"` ("+lc({start:F.start,end:F.end})+"): its not open");pe.position.end=ps(F.end)}function p(){return __(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function b(F){if(this.data.expectingFirstListItemValue){const te=this.stack[this.stack.length-2];te.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function E(){const F=this.resume(),te=this.stack[this.stack.length-1];te.lang=F}function T(){const F=this.resume(),te=this.stack[this.stack.length-1];te.meta=F}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const F=this.resume(),te=this.stack[this.stack.length-1];te.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function O(){const F=this.resume(),te=this.stack[this.stack.length-1];te.value=F.replace(/(\r?\n|\r)$/g,"")}function k(F){const te=this.resume(),pe=this.stack[this.stack.length-1];pe.label=te,pe.identifier=Fa(this.sliceSerialize(F)).toLowerCase()}function C(){const F=this.resume(),te=this.stack[this.stack.length-1];te.title=F}function $(){const F=this.resume(),te=this.stack[this.stack.length-1];te.url=F}function P(F){const te=this.stack[this.stack.length-1];if(!te.depth){const pe=this.sliceSerialize(F).length;te.depth=pe}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function se(F){const te=this.stack[this.stack.length-1];te.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function me(F){const pe=this.stack[this.stack.length-1].children;let De=pe[pe.length-1];(!De||De.type!=="text")&&(De=He(),De.position={start:ps(F.start),end:void 0},pe.push(De)),this.stack.push(De)}function V(F){const te=this.stack.pop();te.value+=this.sliceSerialize(F),te.position.end=ps(F.end)}function ce(F){const te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=te.children[te.children.length-1];pe.position.end=ps(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(te.type)&&(me.call(this,F),V.call(this,F))}function he(){this.data.atHardBreak=!0}function ve(){const F=this.resume(),te=this.stack[this.stack.length-1];te.value=F}function X(){const F=this.resume(),te=this.stack[this.stack.length-1];te.value=F}function K(){const F=this.resume(),te=this.stack[this.stack.length-1];te.value=F}function U(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=te,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function Z(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=te,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function z(F){const te=this.sliceSerialize(F),pe=this.stack[this.stack.length-2];pe.label=rB(te),pe.identifier=Fa(te).toLowerCase()}function ue(){const F=this.stack[this.stack.length-1],te=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const De=F.children;pe.children=De}else pe.alt=te}function v(){const F=this.resume(),te=this.stack[this.stack.length-1];te.url=F}function G(){const F=this.resume(),te=this.stack[this.stack.length-1];te.title=F}function re(){this.data.inReference=void 0}function x(){this.data.referenceType="collapsed"}function ge(F){const te=this.resume(),pe=this.stack[this.stack.length-1];pe.label=te,pe.identifier=Fa(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function be(F){this.data.characterReferenceType=F.type}function Se(F){const te=this.sliceSerialize(F),pe=this.data.characterReferenceType;let De;pe?(De=nN(te,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=y_(te);const gt=this.stack[this.stack.length-1];gt.value+=De}function We(F){const te=this.stack.pop();te.position.end=ps(F.end)}function nt(F){V.call(this,F);const te=this.stack[this.stack.length-1];te.url=this.sliceSerialize(F)}function Ft(F){V.call(this,F);const te=this.stack[this.stack.length-1];te.url="mailto:"+this.sliceSerialize(F)}function Nt(){return{type:"blockquote",children:[]}}function qt(){return{type:"code",lang:null,meta:null,value:""}}function Zt(){return{type:"inlineCode",value:""}}function On(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function hn(){return{type:"emphasis",children:[]}}function Xn(){return{type:"heading",depth:0,children:[]}}function lt(){return{type:"break"}}function Dt(){return{type:"html",value:""}}function yn(){return{type:"image",title:null,url:"",alt:null}}function sr(){return{type:"link",title:null,url:"",children:[]}}function Ce(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function or(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function Ze(){return{type:"paragraph",children:[]}}function Pe(){return{type:"strong",children:[]}}function He(){return{type:"text",value:""}}function Re(){return{type:"thematicBreak"}}}function ps(t){return{line:t.line,column:t.column,offset:t.offset}}function hN(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?hN(t,r):oB(t,r)}}function oB(t,e){let n;for(n in e)if(fN.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function lS(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+lc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+lc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+lc({start:e.start,end:e.end})+") is still open")}function uB(t){const e=this;e.parser=n;function n(r){return iB(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function lB(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function cB(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function dB(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function fB(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hB(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pB(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=Mu(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,c+=1,t.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,f),t.applyData(e,f)}function mB(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gB(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function pN(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function bB(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pN(t,e);const a={src:Mu(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,o),t.applyData(e,o)}function _B(t,e){const n={src:Mu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function yB(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function EB(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pN(t,e);const a={href:Mu(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function TB(t,e){const n={href:Mu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function wB(t,e,n){const r=t.all(e),a=n?vB(n):mN(e),o={},u=[];if(typeof e.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(a||c!==0||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!a?u.push(...p.children):u.push(p)}const d=r[r.length-1];d&&(a||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,f),t.applyData(e,f)}function vB(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=mN(n[r])}return e}function mN(t){const e=t.spread;return e??t.children.length>1}function SB(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function AB(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function OB(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function NB(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xB(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=gi(e.children[1]),d=_h(e.children[e.children.length-1]);c&&d&&(u.position={start:c,end:d}),a.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function CB(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,c=u?u.length:e.children.length;let d=-1;const f=[];for(;++d<c;){const m=e.children[d],b={},E=u?u[d]:void 0;E&&(b.align=E);let T={type:"element",tagName:o,properties:b,children:[]};m&&(T.children=t.all(m),t.patch(m,T),T=t.applyData(m,T)),f.push(T)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,p),t.applyData(e,p)}function RB(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const cS=9,dS=32;function kB(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const o=[];for(;r;)o.push(fS(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return o.push(fS(e.slice(a),a>0,!1)),o.join("")}function fS(t,e,n){let r=0,a=t.length;if(e){let o=t.codePointAt(r);for(;o===cS||o===dS;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(a-1);for(;o===cS||o===dS;)a--,o=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function IB(t,e){const n={type:"text",value:kB(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function MB(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const LB={blockquote:lB,break:cB,code:dB,delete:fB,emphasis:hB,footnoteReference:pB,heading:mB,html:gB,imageReference:bB,image:_B,inlineCode:yB,linkReference:EB,link:TB,listItem:wB,list:SB,paragraph:AB,root:OB,strong:NB,table:xB,tableCell:RB,tableRow:CB,text:IB,thematicBreak:MB,toml:pf,yaml:pf,definition:pf,footnoteDefinition:pf};function pf(){}const gN=-1,Th=0,dc=1,Jf=2,T_=3,w_=4,v_=5,S_=6,bN=7,_N=8,hS=typeof self=="object"?self:globalThis,DB=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),r=a=>{if(t.has(a))return t.get(a);const[o,u]=e[a];switch(o){case Th:case gN:return n(u,a);case dc:{const c=n([],a);for(const d of u)c.push(r(d));return c}case Jf:{const c=n({},a);for(const[d,f]of u)c[r(d)]=r(f);return c}case T_:return n(new Date(u),a);case w_:{const{source:c,flags:d}=u;return n(new RegExp(c,d),a)}case v_:{const c=n(new Map,a);for(const[d,f]of u)c.set(r(d),r(f));return c}case S_:{const c=n(new Set,a);for(const d of u)c.add(r(d));return c}case bN:{const{name:c,message:d}=u;return n(new hS[c](d),a)}case _N:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return n(new DataView(c),u)}}return n(new hS[o](u),a)};return r},pS=t=>DB(new Map,t)(0),Wo="",{toString:PB}={},{keys:UB}=Object,jl=t=>{const e=typeof t;if(e!=="object"||!t)return[Th,e];const n=PB.call(t).slice(8,-1);switch(n){case"Array":return[dc,Wo];case"Object":return[Jf,Wo];case"Date":return[T_,Wo];case"RegExp":return[w_,Wo];case"Map":return[v_,Wo];case"Set":return[S_,Wo];case"DataView":return[dc,n]}return n.includes("Array")?[dc,n]:n.includes("Error")?[bN,n]:[Jf,n]},mf=([t,e])=>t===Th&&(e==="function"||e==="symbol"),BB=(t,e,n,r)=>{const a=(u,c)=>{const d=r.push(u)-1;return n.set(c,d),d},o=u=>{if(n.has(u))return n.get(u);let[c,d]=jl(u);switch(c){case Th:{let p=u;switch(d){case"bigint":c=_N,p=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return a([gN],u)}return a([c,p],u)}case dc:{if(d){let b=u;return d==="DataView"?b=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(b=new Uint8Array(u)),a([d,[...b]],u)}const p=[],m=a([c,p],u);for(const b of u)p.push(o(b));return m}case Jf:{if(d)switch(d){case"BigInt":return a([d,u.toString()],u);case"Boolean":case"Number":case"String":return a([d,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const p=[],m=a([c,p],u);for(const b of UB(u))(t||!mf(jl(u[b])))&&p.push([o(b),o(u[b])]);return m}case T_:return a([c,u.toISOString()],u);case w_:{const{source:p,flags:m}=u;return a([c,{source:p,flags:m}],u)}case v_:{const p=[],m=a([c,p],u);for(const[b,E]of u)(t||!(mf(jl(b))||mf(jl(E))))&&p.push([o(b),o(E)]);return m}case S_:{const p=[],m=a([c,p],u);for(const b of u)(t||!mf(jl(b)))&&p.push(o(b));return m}}const{message:f}=u;return a([c,{name:d,message:f}],u)};return o},mS=(t,{json:e,lossy:n}={})=>{const r=[];return BB(!(e||n),!!e,new Map,r)(t),r},Tu=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?pS(mS(t,e)):structuredClone(t):(t,e)=>pS(mS(t,e));function FB(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function $B(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function HB(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||FB,r=t.options.footnoteBackLabel||$B,a=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[d]);if(!f)continue;const p=t.all(f),m=String(f.identifier).toUpperCase(),b=Mu(m.toLowerCase());let E=0;const T=[],w=t.footnoteCounts.get(m);for(;w!==void 0&&++E<=w;){T.length>0&&T.push({type:"text",value:" "});let k=typeof n=="string"?n:n(d,E);typeof k=="string"&&(k={type:"text",value:k}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,E),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const A=p[p.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const k=A.children[A.children.length-1];k&&k.type==="text"?k.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...T)}else p.push(...T);const O={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(p,!0)};t.patch(f,O),c.push(O)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Tu(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const Hc=(function(t){if(t==null)return GB;if(typeof t=="function")return wh(t);if(typeof t=="object")return Array.isArray(t)?zB(t):jB(t);if(typeof t=="string")return qB(t);throw new Error("Expected function, string, or object as test")});function zB(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Hc(t[n]);return wh(r);function r(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function jB(t){const e=t;return wh(n);function n(r){const a=r;let o;for(o in t)if(a[o]!==e[o])return!1;return!0}}function qB(t){return wh(e);function e(n){return n&&n.type===t}}function wh(t){return e;function e(n,r,a){return!!(YB(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function GB(){return!0}function YB(t){return t!==null&&typeof t=="object"&&"type"in t}const yN=[],VB=!0,d0=!1,KB="skip";function EN(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const o=Hc(a),u=r?-1:1;c(t,void 0,[])();function c(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const E=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(d.type+(E?"<"+E+">":""))+")"})}return b;function b(){let E=yN,T,w,A;if((!e||o(d,f,p[p.length-1]||void 0))&&(E=ZB(n(d,p)),E[0]===d0))return E;if("children"in d&&d.children){const O=d;if(O.children&&E[0]!==KB)for(w=(r?O.children.length:-1)+u,A=p.concat(O);w>-1&&w<O.children.length;){const k=O.children[w];if(T=c(k,w,A)(),T[0]===d0)return T;w=typeof T[1]=="number"?T[1]:w+u}}return E}}}function ZB(t){return Array.isArray(t)?t:typeof t=="number"?[VB,t]:t==null?yN:[t]}function zc(t,e,n,r){let a,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,a=n):(o=e,u=n,a=r),EN(t,o,c,a);function c(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return u(d,m,p)}}const f0={}.hasOwnProperty,XB={};function QB(t,e){const n=e||XB,r=new Map,a=new Map,o=new Map,u={...LB,...n.handlers},c={all:f,applyData:JB,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:u,one:d,options:n,patch:WB,wrap:t8};return zc(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:a,b=String(p.identifier).toUpperCase();m.has(b)||m.set(b,p)}}),c;function d(p,m){const b=p.type,E=c.handlers[b];if(f0.call(c.handlers,b)&&E)return E(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in p){const{children:w,...A}=p,O=Tu(A);return O.children=c.all(p),O}return Tu(p)}return(c.options.unknownHandler||e8)(c,p,m)}function f(p){const m=[];if("children"in p){const b=p.children;let E=-1;for(;++E<b.length;){const T=c.one(b[E],p);if(T){if(E&&b[E-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=gS(T.value)),!Array.isArray(T)&&T.type==="element")){const w=T.children[0];w&&w.type==="text"&&(w.value=gS(w.value))}Array.isArray(T)?m.push(...T):m.push(T)}}}return m}}function WB(t,e){t.position&&(e.position=$6(t))}function JB(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Tu(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function e8(t,e){const n=e.data||{},r="value"in e&&!(f0.call(n,"hProperties")||f0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function t8(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function gS(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function bS(t,e){const n=QB(t,e),r=n.one(t,void 0),a=HB(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function n8(t,e){return t&&"run"in t?async function(n,r){const a=bS(n,{file:r,...e});await t.run(a,r)}:function(n,r){return bS(n,{file:r,...t||e})}}function _S(t){if(t)throw t}var sb,yS;function r8(){if(yS)return sb;yS=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var p=t.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var b;for(b in f);return typeof b>"u"||t.call(f,b)},u=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},c=function(f,p){if(p==="__proto__")if(t.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return sb=function d(){var f,p,m,b,E,T,w=arguments[0],A=1,O=arguments.length,k=!1;for(typeof w=="boolean"&&(k=w,w=arguments[1]||{},A=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});A<O;++A)if(f=arguments[A],f!=null)for(p in f)m=c(w,p),b=c(f,p),w!==b&&(k&&b&&(o(b)||(E=a(b)))?(E?(E=!1,T=m&&a(m)?m:[]):T=m&&o(m)?m:{},u(w,{name:p,newValue:d(k,T,b)})):typeof b<"u"&&u(w,{name:p,newValue:b}));return w},sb}var a8=r8();const ob=Is(a8);function h0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function i8(){const t=[],e={run:n,use:r};return e;function n(...a){let o=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...a);function c(d,...f){const p=t[++o];let m=-1;if(d){u(d);return}for(;++m<a.length;)(f[m]===null||f[m]===void 0)&&(f[m]=a[m]);a=f,p?s8(p,c)(...f):u(null,...f)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function s8(t,e){let n;return r;function r(...u){const c=t.length>u.length;let d;c&&u.push(a);try{d=t.apply(this,u)}catch(f){const p=f;if(c&&n)throw p;return a(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(o,a):d instanceof Error?a(d):o(d))}function a(u,...c){n||(n=!0,e(u,...c))}function o(u){a(null,u)}}const si={basename:o8,dirname:u8,extname:l8,join:c8,sep:"/"};function o8(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');jc(t);let n=0,r=-1,a=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,c=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else u<0&&(o=!0,u=a+1),c>-1&&(t.codePointAt(a)===e.codePointAt(c--)?c<0&&(r=a):(c=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function u8(t){if(jc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function l8(t){jc(t);let e=t.length,n=-1,r=0,a=-1,o=0,u;for(;e--;){const c=t.codePointAt(e);if(c===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),c===46?a<0?a=e:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function c8(...t){let e=-1,n;for(;++e<t.length;)jc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":d8(n)}function d8(t){jc(t);const e=t.codePointAt(0)===47;let n=f8(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function f8(t,e){let n="",r=0,a=-1,o=0,u=-1,c,d;for(;++u<=t.length;){if(u<t.length)c=t.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(a===u-1||o===1))if(a!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),a=u,o=0;continue}}else if(n.length>0){n="",r=0,a=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),r=u-a-1;a=u,o=0}else c===46&&o>-1?o++:o=-1}return n}function jc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const h8={cwd:p8};function p8(){return"/"}function p0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function m8(t){if(typeof t=="string")t=new URL(t);else if(!p0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return g8(t)}function g8(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const ub=["history","path","basename","stem","extname","dirname"];class TN{constructor(e){let n;e?p0(e)?n={path:e}:typeof e=="string"||b8(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":h8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ub.length;){const o=ub[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)ub.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?si.basename(this.path):void 0}set basename(e){cb(e,"basename"),lb(e,"basename"),this.path=si.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?si.dirname(this.path):void 0}set dirname(e){ES(this.basename,"dirname"),this.path=si.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?si.extname(this.path):void 0}set extname(e){if(lb(e,"extname"),ES(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=si.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){p0(e)&&(e=m8(e)),cb(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?si.basename(this.path,this.extname):void 0}set stem(e){cb(e,"stem"),lb(e,"stem"),this.path=si.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new mr(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function lb(t,e){if(t&&t.includes(si.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+si.sep+"`")}function cb(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function ES(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function b8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const _8=(function(t){const r=this.constructor.prototype,a=r[t],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),y8={}.hasOwnProperty;class A_ extends _8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=i8()}copy(){const e=new A_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(ob(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(hb("data",this.frozen),this.namespace[e]=n,this):y8.call(this.namespace,e)&&this.namespace[e]||void 0:e?(hb("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=gf(e),r=this.parser||this.Parser;return db("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),db("process",this.parser||this.Parser),fb("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,u){const c=gf(e),d=r.parse(c);r.run(d,c,function(p,m,b){if(p||!m||!b)return f(p);const E=m,T=r.stringify(E,b);w8(T)?b.value=T:b.result=T,f(p,b)});function f(p,m){p||!m?u(p):o?o(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),db("processSync",this.parser||this.Parser),fb("processSync",this.compiler||this.Compiler),this.process(e,a),wS("processSync","process",n),r;function a(o,u){n=!0,_S(o),r=u}}run(e,n,r){TS(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,c){const d=gf(n);a.run(e,d,f);function f(p,m,b){const E=m||e;p?c(p):u?u(E):r(void 0,E,b)}}}runSync(e,n){let r=!1,a;return this.run(e,n,o),wS("runSync","run",r),a;function o(u,c){_S(u),a=c,r=!0}}stringify(e,n){this.freeze();const r=gf(n),a=this.compiler||this.Compiler;return fb("stringify",a),TS(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(hb("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else u(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function u(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(a.settings=ob(!0,a.settings,f.settings))}function c(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,b=-1;for(;++m<r.length;)if(r[m][0]===f){b=m;break}if(b===-1)r.push([f,...p]);else if(p.length>0){let[E,...T]=p;const w=r[b][1];h0(w)&&h0(E)&&(E=ob(!0,w,E)),r[b]=[f,E,...T]}}}}const E8=new A_().freeze();function db(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function fb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function hb(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function TS(t){if(!h0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function wS(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function gf(t){return T8(t)?t:new TN(t)}function T8(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function w8(t){return typeof t=="string"||v8(t)}function v8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const S8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",vS=[],SS={allowDangerousHtml:!0},A8=/^(https?|ircs?|mailto|xmpp)$/i,O8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function N8(t){const e=x8(t),n=C8(t);return R8(e.runSync(e.parse(n),n),t)}function x8(t){const e=t.rehypePlugins||vS,n=t.remarkPlugins||vS,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...SS}:SS;return E8().use(uB).use(n).use(n8,r).use(e)}function C8(t){const e=t.children||"",n=new TN;return typeof e=="string"&&(n.value=e),n}function R8(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,o=e.disallowedElements,u=e.skipHtml,c=e.unwrapDisallowed,d=e.urlTransform||k8;for(const p of O8)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+S8+p.id,void 0);return zc(t,f),G6(t,{Fragment:tt.Fragment,components:a,ignoreInvalidStyle:!0,jsx:tt.jsx,jsxs:tt.jsxs,passKeys:!0,passNode:!0});function f(p,m,b){if(p.type==="raw"&&b&&typeof m=="number")return u?b.children.splice(m,1):b.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let E;for(E in rb)if(Object.hasOwn(rb,E)&&Object.hasOwn(p.properties,E)){const T=p.properties[E],w=rb[E];(w===null||w.includes(p.tagName))&&(p.properties[E]=d(String(T||""),E,p))}}if(p.type==="element"){let E=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!E&&r&&typeof m=="number"&&(E=!r(p,m,b)),E&&b&&typeof m=="number")return c&&p.children?b.children.splice(m,1,...p.children):b.children.splice(m,1),m}}}function k8(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||A8.test(t.slice(0,e))?t:""}function AS(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(e);for(;a!==-1;)r++,a=n.indexOf(e,a+e.length);return r}function I8(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function M8(t,e,n){const a=Hc((n||{}).ignore||[]),o=L8(e);let u=-1;for(;++u<o.length;)EN(t,"text",c);function c(f,p){let m=-1,b;for(;++m<p.length;){const E=p[m],T=b?b.children:void 0;if(a(E,T?T.indexOf(E):void 0,b))return;b=E}if(b)return d(f,p)}function d(f,p){const m=p[p.length-1],b=o[u][0],E=o[u][1];let T=0;const A=m.children.indexOf(f);let O=!1,k=[];b.lastIndex=0;let C=b.exec(f.value);for(;C;){const $=C.index,P={index:C.index,input:C.input,stack:[...p,f]};let M=E(...C,P);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?b.lastIndex=$+1:(T!==$&&k.push({type:"text",value:f.value.slice(T,$)}),Array.isArray(M)?k.push(...M):M&&k.push(M),T=$+C[0].length,O=!0),!b.global)break;C=b.exec(f.value)}return O?(T<f.value.length&&k.push({type:"text",value:f.value.slice(T)}),m.children.splice(A,1,...k)):k=[f],A+k.length}}function L8(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const a=n[r];e.push([D8(a[0]),P8(a[1])])}return e}function D8(t){return typeof t=="string"?new RegExp(I8(t),"g"):t}function P8(t){return typeof t=="function"?t:function(){return t}}const pb="phrasing",mb=["autolink","link","image","label"];function U8(){return{transforms:[q8],enter:{literalAutolink:F8,literalAutolinkEmail:gb,literalAutolinkHttp:gb,literalAutolinkWww:gb},exit:{literalAutolink:j8,literalAutolinkEmail:z8,literalAutolinkHttp:$8,literalAutolinkWww:H8}}}function B8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:pb,notInConstruct:mb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:pb,notInConstruct:mb},{character:":",before:"[ps]",after:"\\/",inConstruct:pb,notInConstruct:mb}]}}function F8(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function gb(t){this.config.enter.autolinkProtocol.call(this,t)}function $8(t){this.config.exit.autolinkProtocol.call(this,t)}function H8(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function z8(t){this.config.exit.autolinkEmail.call(this,t)}function j8(t){this.exit(t)}function q8(t){M8(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,G8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Y8]],{ignore:["link","linkReference"]})}function G8(t,e,n,r,a){let o="";if(!wN(a)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!V8(n)))return!1;const u=K8(n+r);if(!u[0])return!1;const c={type:"link",title:null,url:o+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[c,{type:"text",value:u[1]}]:c}function Y8(t,e,n,r){return!wN(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function V8(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function K8(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=AS(t,"(");let o=AS(t,")");for(;r!==-1&&a>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function wN(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||fo(n)||yh(n))&&(!e||n!==47)}vN.peek=r5;function Z8(){this.buffer()}function X8(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Q8(){this.buffer()}function W8(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function J8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Fa(this.sliceSerialize(t)).toLowerCase(),n.label=e}function e5(t){this.exit(t)}function t5(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Fa(this.sliceSerialize(t)).toLowerCase(),n.label=e}function n5(t){this.exit(t)}function r5(){return"["}function vN(t,e,n,r){const a=n.createTracker(r);let o=a.move("[^");const u=n.enter("footnoteReference"),c=n.enter("reference");return o+=a.move(n.safe(n.associationId(t),{after:"]",before:o})),c(),u(),o+=a.move("]"),o}function a5(){return{enter:{gfmFootnoteCallString:Z8,gfmFootnoteCall:X8,gfmFootnoteDefinitionLabelString:Q8,gfmFootnoteDefinition:W8},exit:{gfmFootnoteCallString:J8,gfmFootnoteCall:e5,gfmFootnoteDefinitionLabelString:t5,gfmFootnoteDefinition:n5}}}function i5(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:vN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,o,u){const c=o.createTracker(u);let d=c.move("[^");const f=o.enter("footnoteDefinition"),p=o.enter("label");return d+=c.move(o.safe(o.associationId(r),{before:d,after:"]"})),p(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,c.current()),e?SN:s5))),f(),d}}function s5(t,e,n){return e===0?t:SN(t,e,n)}function SN(t,e,n){return(n?"":"    ")+t}const o5=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];AN.peek=f5;function u5(){return{canContainEols:["delete"],enter:{strikethrough:c5},exit:{strikethrough:d5}}}function l5(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:o5}],handlers:{delete:AN}}}function c5(t){this.enter({type:"delete",children:[]},t)}function d5(t){this.exit(t)}function AN(t,e,n,r){const a=n.createTracker(r),o=n.enter("strikethrough");let u=a.move("~~");return u+=n.containerPhrasing(t,{...a.current(),before:u,after:"~"}),u+=a.move("~~"),o(),u}function f5(){return"~"}function h5(t){return t.length}function p5(t,e){const n=e||{},r=(n.align||[]).concat(),a=n.stringLength||h5,o=[],u=[],c=[],d=[];let f=0,p=-1;for(;++p<t.length;){const w=[],A=[];let O=-1;for(t[p].length>f&&(f=t[p].length);++O<t[p].length;){const k=m5(t[p][O]);if(n.alignDelimiters!==!1){const C=a(k);A[O]=C,(d[O]===void 0||C>d[O])&&(d[O]=C)}w.push(k)}u[p]=w,c[p]=A}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<f;)o[m]=OS(r[m]);else{const w=OS(r);for(;++m<f;)o[m]=w}m=-1;const b=[],E=[];for(;++m<f;){const w=o[m];let A="",O="";w===99?(A=":",O=":"):w===108?A=":":w===114&&(O=":");let k=n.alignDelimiters===!1?1:Math.max(1,d[m]-A.length-O.length);const C=A+"-".repeat(k)+O;n.alignDelimiters!==!1&&(k=A.length+k+O.length,k>d[m]&&(d[m]=k),E[m]=k),b[m]=C}u.splice(1,0,b),c.splice(1,0,E),p=-1;const T=[];for(;++p<u.length;){const w=u[p],A=c[p];m=-1;const O=[];for(;++m<f;){const k=w[m]||"";let C="",$="";if(n.alignDelimiters!==!1){const P=d[m]-(A[m]||0),M=o[m];M===114?C=" ".repeat(P):M===99?P%2?(C=" ".repeat(P/2+.5),$=" ".repeat(P/2-.5)):(C=" ".repeat(P/2),$=C):$=" ".repeat(P)}n.delimiterStart!==!1&&!m&&O.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||m)&&O.push(" "),n.alignDelimiters!==!1&&O.push(C),O.push(k),n.alignDelimiters!==!1&&O.push($),n.padding!==!1&&O.push(" "),(n.delimiterEnd!==!1||m!==f-1)&&O.push("|")}T.push(n.delimiterEnd===!1?O.join("").replace(/ +$/,""):O.join(""))}return T.join(`
`)}function m5(t){return t==null?"":String(t)}function OS(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const NS={}.hasOwnProperty;function ON(t,e){const n=e||{};function r(a,...o){let u=r.invalid;const c=r.handlers;if(a&&NS.call(a,t)){const d=String(a[t]);u=NS.call(c,d)?c[d]:r.unknown}if(u)return u.call(this,a,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function g5(t,e,n,r){const a=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const u=n.indentLines(n.containerFlow(t,o.current()),b5);return a(),u}function b5(t,e,n){return">"+(n?"":" ")+t}function _5(t,e){return xS(t,e.inConstruct,!0)&&!xS(t,e.notInConstruct,!1)}function xS(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function CS(t,e,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&_5(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function y5(t,e){const n=String(t);let r=n.indexOf(e),a=r,o=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++o>u&&(u=o):o=1,a=r+e.length,r=n.indexOf(e,a);return u}function E5(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function T5(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function w5(t,e,n,r){const a=T5(n),o=t.value||"",u=a==="`"?"GraveAccent":"Tilde";if(E5(t,n)){const m=n.enter("codeIndented"),b=n.indentLines(o,v5);return m(),b}const c=n.createTracker(r),d=a.repeat(Math.max(y5(o,a)+1,3)),f=n.enter("codeFenced");let p=c.move(d);if(t.lang){const m=n.enter(`codeFencedLang${u}`);p+=c.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...c.current()})),m()}if(t.lang&&t.meta){const m=n.enter(`codeFencedMeta${u}`);p+=c.move(" "),p+=c.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...c.current()})),m()}return p+=c.move(`
`),o&&(p+=c.move(o+`
`)),p+=c.move(d),f(),p}function v5(t,e,n){return(n?"":"    ")+t}function O_(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function S5(t,e,n,r){const a=O_(n),o=a==='"'?"Quote":"Apostrophe",u=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(t),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(t.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...d.current()}))),c(),t.title&&(c=n.enter(`title${o}`),f+=d.move(" "+a),f+=d.move(n.safe(t.title,{before:f,after:a,...d.current()})),f+=d.move(a),c()),u(),f}function A5(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function xc(t){return"&#x"+t.toString(16).toUpperCase()+";"}function eh(t,e,n){const r=Eu(t),a=Eu(e);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}NN.peek=O5;function NN(t,e,n,r){const a=A5(n),o=n.enter("emphasis"),u=n.createTracker(r),c=u.move(a);let d=u.move(n.containerPhrasing(t,{after:a,before:c,...u.current()}));const f=d.charCodeAt(0),p=eh(r.before.charCodeAt(r.before.length-1),f,a);p.inside&&(d=xc(f)+d.slice(1));const m=d.charCodeAt(d.length-1),b=eh(r.after.charCodeAt(0),m,a);b.inside&&(d=d.slice(0,-1)+xc(m));const E=u.move(a);return o(),n.attentionEncodeSurroundingInfo={after:b.outside,before:p.outside},c+d+E}function O5(t,e,n){return n.options.emphasis||"*"}function N5(t,e){let n=!1;return zc(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,d0}),!!((!t.depth||t.depth<3)&&__(t)&&(e.options.setext||n))}function x5(t,e,n,r){const a=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(N5(t,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),b=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return m(),p(),b+`
`+(a===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const u="#".repeat(a),c=n.enter("headingAtx"),d=n.enter("phrasing");o.move(u+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=xc(f.charCodeAt(0))+f.slice(1)),f=f?u+" "+f:u,n.options.closeAtx&&(f+=" "+u),d(),c(),f}xN.peek=C5;function xN(t){return t.value||""}function C5(){return"<"}CN.peek=R5;function CN(t,e,n,r){const a=O_(n),o=a==='"'?"Quote":"Apostrophe",u=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(t.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(t.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(t.url,{before:f,after:t.title?" ":")",...d.current()}))),c(),t.title&&(c=n.enter(`title${o}`),f+=d.move(" "+a),f+=d.move(n.safe(t.title,{before:f,after:a,...d.current()})),f+=d.move(a),c()),f+=d.move(")"),u(),f}function R5(){return"!"}RN.peek=k5;function RN(t,e,n,r){const a=t.referenceType,o=n.enter("imageReference");let u=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(t.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),u();const p=n.stack;n.stack=[],u=n.enter("reference");const m=n.safe(n.associationId(t),{before:d,after:"]",...c.current()});return u(),n.stack=p,o(),a==="full"||!f||f!==m?d+=c.move(m+"]"):a==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function k5(){return"!"}kN.peek=I5;function kN(t,e,n){let r=t.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const u=n.unsafe[o],c=n.compilePattern(u);let d;if(u.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return a+r+a}function I5(){return"`"}function IN(t,e){const n=__(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}MN.peek=M5;function MN(t,e,n,r){const a=O_(n),o=a==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let c,d;if(IN(t,n)){const p=n.stack;n.stack=[],c=n.enter("autolink");let m=u.move("<");return m+=u.move(n.containerPhrasing(t,{before:m,after:">",...u.current()})),m+=u.move(">"),c(),n.stack=p,m}c=n.enter("link"),d=n.enter("label");let f=u.move("[");return f+=u.move(n.containerPhrasing(t,{before:f,after:"](",...u.current()})),f+=u.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=u.move("<"),f+=u.move(n.safe(t.url,{before:f,after:">",...u.current()})),f+=u.move(">")):(d=n.enter("destinationRaw"),f+=u.move(n.safe(t.url,{before:f,after:t.title?" ":")",...u.current()}))),d(),t.title&&(d=n.enter(`title${o}`),f+=u.move(" "+a),f+=u.move(n.safe(t.title,{before:f,after:a,...u.current()})),f+=u.move(a),d()),f+=u.move(")"),c(),f}function M5(t,e,n){return IN(t,n)?"<":"["}LN.peek=L5;function LN(t,e,n,r){const a=t.referenceType,o=n.enter("linkReference");let u=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(t,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),u();const p=n.stack;n.stack=[],u=n.enter("reference");const m=n.safe(n.associationId(t),{before:d,after:"]",...c.current()});return u(),n.stack=p,o(),a==="full"||!f||f!==m?d+=c.move(m+"]"):a==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function L5(){return"["}function N_(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function D5(t){const e=N_(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function P5(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function DN(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function U5(t,e,n,r){const a=n.enter("list"),o=n.bulletCurrent;let u=t.ordered?P5(n):N_(n);const c=t.ordered?u==="."?")":".":D5(n);let d=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const p=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),DN(n)===u&&p){let m=-1;for(;++m<t.children.length;){const b=t.children[m];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(u=c),n.bulletCurrent=u;const f=n.containerFlow(t,r);return n.bulletLastUsed=u,n.bulletCurrent=o,a(),f}function B5(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function F5(t,e,n,r){const a=B5(n);let o=n.bulletCurrent||N_(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let u=o.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const c=n.createTracker(r);c.move(o+" ".repeat(u-o.length)),c.shift(u);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,c.current()),p);return d(),f;function p(m,b,E){return b?(E?"":" ".repeat(u))+m:(E?o:o+" ".repeat(u-o.length))+m}}function $5(t,e,n,r){const a=n.enter("paragraph"),o=n.enter("phrasing"),u=n.containerPhrasing(t,r);return o(),a(),u}const H5=Hc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function z5(t,e,n,r){return(t.children.some(function(u){return H5(u)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function j5(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}PN.peek=q5;function PN(t,e,n,r){const a=j5(n),o=n.enter("strong"),u=n.createTracker(r),c=u.move(a+a);let d=u.move(n.containerPhrasing(t,{after:a,before:c,...u.current()}));const f=d.charCodeAt(0),p=eh(r.before.charCodeAt(r.before.length-1),f,a);p.inside&&(d=xc(f)+d.slice(1));const m=d.charCodeAt(d.length-1),b=eh(r.after.charCodeAt(0),m,a);b.inside&&(d=d.slice(0,-1)+xc(m));const E=u.move(a+a);return o(),n.attentionEncodeSurroundingInfo={after:b.outside,before:p.outside},c+d+E}function q5(t,e,n){return n.options.strong||"*"}function G5(t,e,n,r){return n.safe(t.value,r)}function Y5(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function V5(t,e,n){const r=(DN(n)+(n.options.ruleSpaces?" ":"")).repeat(Y5(n));return n.options.ruleSpaces?r.slice(0,-1):r}const UN={blockquote:g5,break:CS,code:w5,definition:S5,emphasis:NN,hardBreak:CS,heading:x5,html:xN,image:CN,imageReference:RN,inlineCode:kN,link:MN,linkReference:LN,list:U5,listItem:F5,paragraph:$5,root:z5,strong:PN,text:G5,thematicBreak:V5};function K5(){return{enter:{table:Z5,tableData:RS,tableHeader:RS,tableRow:Q5},exit:{codeText:W5,table:X5,tableData:bb,tableHeader:bb,tableRow:bb}}}function Z5(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function X5(t){this.exit(t),this.data.inTable=void 0}function Q5(t){this.enter({type:"tableRow",children:[]},t)}function bb(t){this.exit(t)}function RS(t){this.enter({type:"tableCell",children:[]},t)}function W5(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,J5));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function J5(t,e){return e==="|"?e:t}function eF(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:u,tableCell:d,tableRow:c}};function u(E,T,w,A){return f(p(E,w,A),E.align)}function c(E,T,w,A){const O=m(E,w,A),k=f([O]);return k.slice(0,k.indexOf(`
`))}function d(E,T,w,A){const O=w.enter("tableCell"),k=w.enter("phrasing"),C=w.containerPhrasing(E,{...A,before:o,after:o});return k(),O(),C}function f(E,T){return p5(E,{align:T,alignDelimiters:r,padding:n,stringLength:a})}function p(E,T,w){const A=E.children;let O=-1;const k=[],C=T.enter("table");for(;++O<A.length;)k[O]=m(A[O],T,w);return C(),k}function m(E,T,w){const A=E.children;let O=-1;const k=[],C=T.enter("tableRow");for(;++O<A.length;)k[O]=d(A[O],E,T,w);return C(),k}function b(E,T,w){let A=UN.inlineCode(E,T,w);return w.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}function tF(){return{exit:{taskListCheckValueChecked:kS,taskListCheckValueUnchecked:kS,paragraph:rF}}}function nF(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:aF}}}function kS(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function rF(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=e.children;let o=-1,u;for(;++o<a.length;){const c=a[o];if(c.type==="paragraph"){u=c;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function aF(t,e,n,r){const a=t.children[0],o=typeof t.checked=="boolean"&&a&&a.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",c=n.createTracker(r);o&&c.move(u);let d=UN.listItem(t,e,n,{...r,...c.current()});return o&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(p){return p+u}}function iF(){return[U8(),a5(),u5(),K5(),tF()]}function sF(t){return{extensions:[B8(),i5(t),l5(),eF(t),nF()]}}const oF={tokenize:hF,partial:!0},BN={tokenize:pF,partial:!0},FN={tokenize:mF,partial:!0},$N={tokenize:gF,partial:!0},uF={tokenize:bF,partial:!0},HN={name:"wwwAutolink",tokenize:dF,previous:jN},zN={name:"protocolAutolink",tokenize:fF,previous:qN},Fi={name:"emailAutolink",tokenize:cF,previous:GN},bi={};function lF(){return{text:bi}}let ao=48;for(;ao<123;)bi[ao]=Fi,ao++,ao===58?ao=65:ao===91&&(ao=97);bi[43]=Fi;bi[45]=Fi;bi[46]=Fi;bi[95]=Fi;bi[72]=[Fi,zN];bi[104]=[Fi,zN];bi[87]=[Fi,HN];bi[119]=[Fi,HN];function cF(t,e,n){const r=this;let a,o;return u;function u(m){return!m0(m)||!GN.call(r,r.previous)||x_(r.events)?n(m):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(m))}function c(m){return m0(m)?(t.consume(m),c):m===64?(t.consume(m),d):n(m)}function d(m){return m===46?t.check(uF,p,f)(m):m===45||m===95||pr(m)?(o=!0,t.consume(m),d):p(m)}function f(m){return t.consume(m),a=!0,d}function p(m){return o&&a&&Ar(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(m)):n(m)}}function dF(t,e,n){const r=this;return a;function a(u){return u!==87&&u!==119||!jN.call(r,r.previous)||x_(r.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(oF,t.attempt(BN,t.attempt(FN,o),n),n)(u))}function o(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function fF(t,e,n){const r=this;let a="",o=!1;return u;function u(m){return(m===72||m===104)&&qN.call(r,r.previous)&&!x_(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(m),t.consume(m),c):n(m)}function c(m){if(Ar(m)&&a.length<5)return a+=String.fromCodePoint(m),t.consume(m),c;if(m===58){const b=a.toLowerCase();if(b==="http"||b==="https")return t.consume(m),d}return n(m)}function d(m){return m===47?(t.consume(m),o?f:(o=!0,d)):n(m)}function f(m){return m===null||Wf(m)||Jt(m)||fo(m)||yh(m)?n(m):t.attempt(BN,t.attempt(FN,p),n)(m)}function p(m){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(m)}}function hF(t,e,n){let r=0;return a;function a(u){return(u===87||u===119)&&r<3?(r++,t.consume(u),a):u===46&&r===3?(t.consume(u),o):n(u)}function o(u){return u===null?n(u):e(u)}}function pF(t,e,n){let r,a,o;return u;function u(f){return f===46||f===95?t.check($N,d,c)(f):f===null||Jt(f)||fo(f)||f!==45&&yh(f)?d(f):(o=!0,t.consume(f),u)}function c(f){return f===95?r=!0:(a=r,r=void 0),t.consume(f),u}function d(f){return a||r||!o?n(f):e(f)}}function mF(t,e){let n=0,r=0;return a;function a(u){return u===40?(n++,t.consume(u),a):u===41&&r<n?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check($N,e,o)(u):u===null||Jt(u)||fo(u)?e(u):(t.consume(u),a)}function o(u){return u===41&&r++,t.consume(u),a}}function gF(t,e,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(t.consume(c),r):c===38?(t.consume(c),o):c===93?(t.consume(c),a):c===60||c===null||Jt(c)||fo(c)?e(c):n(c)}function a(c){return c===null||c===40||c===91||Jt(c)||fo(c)?e(c):r(c)}function o(c){return Ar(c)?u(c):n(c)}function u(c){return c===59?(t.consume(c),r):Ar(c)?(t.consume(c),u):n(c)}}function bF(t,e,n){return r;function r(o){return t.consume(o),a}function a(o){return pr(o)?n(o):e(o)}}function jN(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Jt(t)}function qN(t){return!Ar(t)}function GN(t){return!(t===47||m0(t))}function m0(t){return t===43||t===45||t===46||t===95||pr(t)}function x_(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const _F={tokenize:OF,partial:!0};function yF(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:vF,continuation:{tokenize:SF},exit:AF}},text:{91:{name:"gfmFootnoteCall",tokenize:wF},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:EF,resolveTo:TF}}}}function EF(t,e,n){const r=this;let a=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;a--;){const d=r.events[a][1];if(d.type==="labelImage"){u=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!u||!u._balanced)return n(d);const f=Fa(r.sliceSerialize({start:u.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(d):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),e(d))}}function TF(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},c=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...c),t}function wF(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,u;return c;function c(m){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),d}function d(m){return m!==94?n(m):(t.enter("gfmFootnoteCallMarker"),t.consume(m),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(m){if(o>999||m===93&&!u||m===null||m===91||Jt(m))return n(m);if(m===93){t.exit("chunkString");const b=t.exit("gfmFootnoteCallString");return a.includes(Fa(r.sliceSerialize(b)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(m)}return Jt(m)||(u=!0),o++,t.consume(m),m===92?p:f}function p(m){return m===91||m===92||m===93?(t.consume(m),o++,f):f(m)}}function vF(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,u=0,c;return d;function d(T){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(T),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(T){return T===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(T),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",p):n(T)}function p(T){if(u>999||T===93&&!c||T===null||T===91||Jt(T))return n(T);if(T===93){t.exit("chunkString");const w=t.exit("gfmFootnoteDefinitionLabelString");return o=Fa(r.sliceSerialize(w)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(T),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),b}return Jt(T)||(c=!0),u++,t.consume(T),T===92?m:p}function m(T){return T===91||T===92||T===93?(t.consume(T),u++,p):p(T)}function b(T){return T===58?(t.enter("definitionMarker"),t.consume(T),t.exit("definitionMarker"),a.includes(o)||a.push(o),Ot(t,E,"gfmFootnoteDefinitionWhitespace")):n(T)}function E(T){return e(T)}}function SF(t,e,n){return t.check($c,e,t.attempt(_F,e,n))}function AF(t){t.exit("gfmFootnoteDefinition")}function OF(t,e,n){const r=this;return Ot(t,a,"gfmFootnoteDefinitionIndent",5);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(o):n(o)}}function NF(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(u,c){let d=-1;for(;++d<u.length;)if(u[d][0]==="enter"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._close){let f=d;for(;f--;)if(u[f][0]==="exit"&&u[f][1].type==="strikethroughSequenceTemporary"&&u[f][1]._open&&u[d][1].end.offset-u[d][1].start.offset===u[f][1].end.offset-u[f][1].start.offset){u[d][1].type="strikethroughSequence",u[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},u[f][1].start),end:Object.assign({},u[d][1].end)},m={type:"strikethroughText",start:Object.assign({},u[f][1].end),end:Object.assign({},u[d][1].start)},b=[["enter",p,c],["enter",u[f][1],c],["exit",u[f][1],c],["enter",m,c]],E=c.parser.constructs.insideSpan.null;E&&na(b,b.length,0,Eh(E,u.slice(f+1,d),c)),na(b,b.length,0,[["exit",m,c],["enter",u[d][1],c],["exit",u[d][1],c],["exit",p,c]]),na(u,f-1,d-f+3,b),d=f+b.length-2;break}}for(d=-1;++d<u.length;)u[d][1].type==="strikethroughSequenceTemporary"&&(u[d][1].type="data");return u}function o(u,c,d){const f=this.previous,p=this.events;let m=0;return b;function b(T){return f===126&&p[p.length-1][1].type!=="characterEscape"?d(T):(u.enter("strikethroughSequenceTemporary"),E(T))}function E(T){const w=Eu(f);if(T===126)return m>1?d(T):(u.consume(T),m++,E);if(m<2&&!n)return d(T);const A=u.exit("strikethroughSequenceTemporary"),O=Eu(T);return A._open=!O||O===2&&!!w,A._close=!w||w===2&&!!O,c(T)}}}class xF{constructor(){this.map=[]}add(e,n,r){CF(this,e,n,r)}consume(e){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let a=r.pop();for(;a;){for(const o of a)e.push(o);a=r.pop()}this.map.length=0}}function CF(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function RF(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function kF(){return{flow:{null:{name:"table",tokenize:IF,resolveAll:MF}}}}function IF(t,e,n){const r=this;let a=0,o=0,u;return c;function c(V){let ce=r.events.length-1;for(;ce>-1;){const X=r.events[ce][1].type;if(X==="lineEnding"||X==="linePrefix")ce--;else break}const he=ce>-1?r.events[ce][1].type:null,ve=he==="tableHead"||he==="tableRow"?M:d;return ve===M&&r.parser.lazy[r.now().line]?n(V):ve(V)}function d(V){return t.enter("tableHead"),t.enter("tableRow"),f(V)}function f(V){return V===124||(u=!0,o+=1),p(V)}function p(V){return V===null?n(V):Xe(V)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),E):n(V):vt(V)?Ot(t,p,"whitespace")(V):(o+=1,u&&(u=!1,a+=1),V===124?(t.enter("tableCellDivider"),t.consume(V),t.exit("tableCellDivider"),u=!0,p):(t.enter("data"),m(V)))}function m(V){return V===null||V===124||Jt(V)?(t.exit("data"),p(V)):(t.consume(V),V===92?b:m)}function b(V){return V===92||V===124?(t.consume(V),m):m(V)}function E(V){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(V):(t.enter("tableDelimiterRow"),u=!1,vt(V)?Ot(t,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):T(V))}function T(V){return V===45||V===58?A(V):V===124?(u=!0,t.enter("tableCellDivider"),t.consume(V),t.exit("tableCellDivider"),w):P(V)}function w(V){return vt(V)?Ot(t,A,"whitespace")(V):A(V)}function A(V){return V===58?(o+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(V),t.exit("tableDelimiterMarker"),O):V===45?(o+=1,O(V)):V===null||Xe(V)?$(V):P(V)}function O(V){return V===45?(t.enter("tableDelimiterFiller"),k(V)):P(V)}function k(V){return V===45?(t.consume(V),k):V===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(V),t.exit("tableDelimiterMarker"),C):(t.exit("tableDelimiterFiller"),C(V))}function C(V){return vt(V)?Ot(t,$,"whitespace")(V):$(V)}function $(V){return V===124?T(V):V===null||Xe(V)?!u||a!==o?P(V):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(V)):P(V)}function P(V){return n(V)}function M(V){return t.enter("tableRow"),se(V)}function se(V){return V===124?(t.enter("tableCellDivider"),t.consume(V),t.exit("tableCellDivider"),se):V===null||Xe(V)?(t.exit("tableRow"),e(V)):vt(V)?Ot(t,se,"whitespace")(V):(t.enter("data"),q(V))}function q(V){return V===null||V===124||Jt(V)?(t.exit("data"),se(V)):(t.consume(V),V===92?me:q)}function me(V){return V===92||V===124?(t.consume(V),q):q(V)}}function MF(t,e){let n=-1,r=!0,a=0,o=[0,0,0,0],u=[0,0,0,0],c=!1,d=0,f,p,m;const b=new xF;for(;++n<t.length;){const E=t[n],T=E[1];E[0]==="enter"?T.type==="tableHead"?(c=!1,d!==0&&(IS(b,e,d,f,p),p=void 0,d=0),f={type:"table",start:Object.assign({},T.start),end:Object.assign({},T.end)},b.add(n,0,[["enter",f,e]])):T.type==="tableRow"||T.type==="tableDelimiterRow"?(r=!0,m=void 0,o=[0,0,0,0],u=[0,n+1,0,0],c&&(c=!1,p={type:"tableBody",start:Object.assign({},T.start),end:Object.assign({},T.end)},b.add(n,0,[["enter",p,e]])),a=T.type==="tableDelimiterRow"?2:p?3:1):a&&(T.type==="data"||T.type==="tableDelimiterMarker"||T.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],m=bf(b,e,o,a,void 0,m),o=[0,0,0,0]),u[2]=n)):T.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(u[0]=u[1],m=bf(b,e,o,a,void 0,m)),o=u,u=[o[1],n,0,0])):T.type==="tableHead"?(c=!0,d=n):T.type==="tableRow"||T.type==="tableDelimiterRow"?(d=n,o[1]!==0?(u[0]=u[1],m=bf(b,e,o,a,n,m)):u[1]!==0&&(m=bf(b,e,u,a,n,m)),a=0):a&&(T.type==="data"||T.type==="tableDelimiterMarker"||T.type==="tableDelimiterFiller")&&(u[3]=n)}for(d!==0&&IS(b,e,d,f,p),b.consume(e.events),n=-1;++n<e.events.length;){const E=e.events[n];E[0]==="enter"&&E[1].type==="table"&&(E[1]._align=RF(e.events,n))}return t}function bf(t,e,n,r,a,o){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(o.end=Object.assign({},eu(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const d=eu(e.events,n[1]);if(o={type:u,start:Object.assign({},d),end:Object.assign({},d)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const f=eu(e.events,n[2]),p=eu(e.events,n[3]),m={type:c,start:Object.assign({},f),end:Object.assign({},p)};if(t.add(n[2],0,[["enter",m,e]]),r!==2){const b=e.events[n[2]],E=e.events[n[3]];if(b[1].end=Object.assign({},E[1].end),b[1].type="chunkText",b[1].contentType="text",n[3]>n[2]+1){const T=n[2]+1,w=n[3]-n[2]-1;t.add(T,w,[])}}t.add(n[3]+1,0,[["exit",m,e]])}return a!==void 0&&(o.end=Object.assign({},eu(e.events,a)),t.add(a,0,[["exit",o,e]]),o=void 0),o}function IS(t,e,n,r,a){const o=[],u=eu(e.events,n);a&&(a.end=Object.assign({},u),o.push(["exit",a,e])),r.end=Object.assign({},u),o.push(["exit",r,e]),t.add(n+1,0,o)}function eu(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const LF={name:"tasklistCheck",tokenize:PF};function DF(){return{text:{91:LF}}}function PF(t,e,n){const r=this;return a;function a(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(d),t.exit("taskListCheckMarker"),o)}function o(d){return Jt(d)?(t.enter("taskListCheckValueUnchecked"),t.consume(d),t.exit("taskListCheckValueUnchecked"),u):d===88||d===120?(t.enter("taskListCheckValueChecked"),t.consume(d),t.exit("taskListCheckValueChecked"),u):n(d)}function u(d){return d===93?(t.enter("taskListCheckMarker"),t.consume(d),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(d)}function c(d){return Xe(d)?e(d):vt(d)?t.check({tokenize:UF},e,n)(d):n(d)}}function UF(t,e,n){return Ot(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function BF(t){return tN([lF(),yF(),NF(t),kF(),DF()])}const FF={};function $F(t){const e=this,n=t||FF,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(BF(n)),o.push(iF()),u.push(sF(n))}const MS=(function(t,e,n){const r=Hc(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]}),mo=(function(t){if(t==null)return jF;if(typeof t=="string")return zF(t);if(typeof t=="object")return HF(t);if(typeof t=="function")return C_(t);throw new Error("Expected function, string, or array as `test`")});function HF(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=mo(t[n]);return C_(r);function r(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function zF(t){return C_(e);function e(n){return n.tagName===t}}function C_(t){return e;function e(n,r,a){return!!(qF(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function jF(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function qF(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const LS=/\n/g,DS=/[\t ]+/g,g0=mo("br"),PS=mo(WF),GF=mo("p"),US=mo("tr"),YF=mo(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",QF,JF]),YN=mo(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function VF(t,e){const n=e||{},r="children"in t?t.children:[],a=YN(t),o=ZN(t,{whitespace:n.whitespace||"normal"}),u=[];(t.type==="text"||t.type==="comment")&&u.push(...KN(t,{breakBefore:!0,breakAfter:!0}));let c=-1;for(;++c<r.length;)u.push(...VN(r[c],t,{whitespace:o,breakBefore:c?void 0:a,breakAfter:c<r.length-1?g0(r[c+1]):a}));const d=[];let f;for(c=-1;++c<u.length;){const p=u[c];typeof p=="number"?f!==void 0&&p>f&&(f=p):p&&(f!==void 0&&f>-1&&d.push(`
`.repeat(f)||" "),f=-1,d.push(p))}return d.join("")}function VN(t,e,n){return t.type==="element"?KF(t,e,n):t.type==="text"?n.whitespace==="normal"?KN(t,n):ZF(t):[]}function KF(t,e,n){const r=ZN(t,n),a=t.children||[];let o=-1,u=[];if(YF(t))return u;let c,d;for(g0(t)||US(t)&&MS(e,t,US)?d=`
`:GF(t)?(c=2,d=2):YN(t)&&(c=1,d=1);++o<a.length;)u=u.concat(VN(a[o],t,{whitespace:r,breakBefore:o?void 0:c,breakAfter:o<a.length-1?g0(a[o+1]):d}));return PS(t)&&MS(e,t,PS)&&u.push("	"),c&&u.unshift(c),d&&u.push(d),u}function KN(t,e){const n=String(t.value),r=[],a=[];let o=0;for(;o<=n.length;){LS.lastIndex=o;const d=LS.exec(n),f=d&&"index"in d?d.index:n.length;r.push(XF(n.slice(o,f).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?e.breakBefore:!0,f===n.length?e.breakAfter:!0)),o=f+1}let u=-1,c;for(;++u<r.length;)r[u].charCodeAt(r[u].length-1)===8203||u<r.length-1&&r[u+1].charCodeAt(0)===8203?(a.push(r[u]),c=void 0):r[u]?(typeof c=="number"&&a.push(c),a.push(r[u]),c=0):(u===0||u===r.length-1)&&a.push(0);return a}function ZF(t){return[String(t.value)]}function XF(t,e,n){const r=[];let a=0,o;for(;a<t.length;){DS.lastIndex=a;const u=DS.exec(t);o=u?u.index:t.length,!a&&!o&&u&&!e&&r.push(""),a!==o&&r.push(t.slice(a,o)),a=u?o+u[0].length:o}return a!==o&&!n&&r.push(""),r.join(" ")}function ZN(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function QF(t){return!!(t.properties||{}).hidden}function WF(t){return t.tagName==="td"||t.tagName==="th"}function JF(t){return t.tagName==="dialog"&&!(t.properties||{}).open}function e$(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",u="(?!struct)("+r+"|"+e.optional(a)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",c={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},b={className:"title",begin:e.optional(a)+t.IDENT_RE,relevance:0},E=e.optional(a)+t.IDENT_RE+"\\s*\\(",T=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],w=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],A=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],O=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],$={type:w,keyword:T,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:A},P={className:"function.dispatch",relevance:0,keywords:{_hint:O},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},M=[P,m,c,n,t.C_BLOCK_COMMENT_MODE,p,f],se={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:$,contains:M.concat([{begin:/\(/,end:/\)/,keywords:$,contains:M.concat(["self"]),relevance:0}]),relevance:0},q={className:"function",begin:"("+u+"[\\*&\\s]+)+"+E,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:$,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:$,relevance:0},{begin:E,returnBegin:!0,contains:[b],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,p]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:$,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,f,p,c,{begin:/\(/,end:/\)/,keywords:$,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,f,p,c]}]},c,n,t.C_BLOCK_COMMENT_MODE,m]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:$,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(se,q,P,M,[m,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:$,contains:["self",c]},{begin:t.IDENT_RE+"::",keywords:$},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function t$(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=e$(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function n$(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},o=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),u={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},c={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,a]};a.contains.push(c);const d={match:/\\"/},f={className:"string",begin:/'/,end:/'/},p={match:/\\'/},m={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},b=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],E=t.SHEBANG({binary:`(${b.join("|")})`,relevance:10}),T={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},w=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],A=["true","false"],O={match:/(\/[a-z._-]+)+/},k=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],C=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],$=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],P=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:w,literal:A,built_in:[...k,...C,"set","shopt",...$,...P]},contains:[E,t.SHEBANG(),T,m,o,u,O,c,d,f,p,n]}}function r$(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",u="("+r+"|"+e.optional(a)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",c={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},b={className:"title",begin:e.optional(a)+t.IDENT_RE,relevance:0},E=e.optional(a)+t.IDENT_RE+"\\s*\\(",A={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},O=[m,c,n,t.C_BLOCK_COMMENT_MODE,p,f],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:A,contains:O.concat([{begin:/\(/,end:/\)/,keywords:A,contains:O.concat(["self"]),relevance:0}]),relevance:0},C={begin:"("+u+"[\\*&\\s]+)+"+E,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:A,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:A,relevance:0},{begin:E,returnBegin:!0,contains:[t.inherit(b,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,f,p,c,{begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,f,p,c]}]},c,n,t.C_BLOCK_COMMENT_MODE,m]};return{name:"C",aliases:["h"],keywords:A,disableAutodetect:!0,illegal:"</",contains:[].concat(k,C,O,[m,{begin:t.IDENT_RE+"::",keywords:A},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:m,strings:f,keywords:A}}}function a$(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",u="(?!struct)("+r+"|"+e.optional(a)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",c={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},b={className:"title",begin:e.optional(a)+t.IDENT_RE,relevance:0},E=e.optional(a)+t.IDENT_RE+"\\s*\\(",T=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],w=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],A=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],O=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],$={type:w,keyword:T,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:A},P={className:"function.dispatch",relevance:0,keywords:{_hint:O},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},M=[P,m,c,n,t.C_BLOCK_COMMENT_MODE,p,f],se={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:$,contains:M.concat([{begin:/\(/,end:/\)/,keywords:$,contains:M.concat(["self"]),relevance:0}]),relevance:0},q={className:"function",begin:"("+u+"[\\*&\\s]+)+"+E,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:$,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:$,relevance:0},{begin:E,returnBegin:!0,contains:[b],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,p]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:$,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,f,p,c,{begin:/\(/,end:/\)/,keywords:$,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,f,p,c]}]},c,n,t.C_BLOCK_COMMENT_MODE,m]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:$,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(se,q,P,M,[m,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:$,contains:["self",c]},{begin:t.IDENT_RE+"::",keywords:$},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function i$(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],a=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],o=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],u={keyword:a.concat(o),built_in:e,literal:r},c=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},f={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},p={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},m=t.inherit(p,{illegal:/\n/}),b={className:"subst",begin:/\{/,end:/\}/,keywords:u},E=t.inherit(b,{illegal:/\n/}),T={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,E]},w={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},b]},A=t.inherit(w,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},E]});b.contains=[w,T,p,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,t.C_BLOCK_COMMENT_MODE],E.contains=[A,T,m,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const O={variants:[f,w,T,p,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},k={begin:"<",end:">",contains:[{beginKeywords:"in out"},c]},C=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",$={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:u,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},O,d,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},c,k,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,k,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+C+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:u,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,k],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,relevance:0,contains:[O,d,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},$]}}const s$=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),o$=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],u$=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],l$=[...o$,...u$],c$=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),d$=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),f$=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),h$=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function p$(t){const e=t.regex,n=s$(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",o=/@-?\w[\w]*(-\w+)*/,u="[a-zA-Z-][a-zA-Z0-9_-]*",c=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+u,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+d$.join("|")+")"},{begin:":(:)?("+f$.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+h$.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:c$.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+l$.join("|")+")\\b"}]}}function m$(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function g$(t){const o={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:o,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:o,illegal:/["']/}]}]}}function b$(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function _$(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const a={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},u={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},c={begin:/\[/,end:/\]/,contains:[r,o,a,u,n,"self"],relevance:0},d=/[A-Za-z0-9_-]+/,f=/"(\\"|[^"])*"/,p=/'[^']*'/,m=e.either(d,f,p),b=e.concat(m,"(\\s*\\.\\s*",m,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:b,className:"attr",starts:{end:/$/,contains:[r,c,o,a,u,n]}}]}}var tu="[0-9](_*[0-9])*",_f=`\\.(${tu})`,yf="[0-9a-fA-F](_*[0-9a-fA-F])*",BS={className:"number",variants:[{begin:`(\\b(${tu})((${_f})|\\.)?|(${_f}))[eE][+-]?(${tu})[fFdD]?\\b`},{begin:`\\b(${tu})((${_f})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${_f})[fFdD]?\\b`},{begin:`\\b(${tu})[fFdD]\\b`},{begin:`\\b0[xX]((${yf})\\.?|(${yf})?\\.(${yf}))[pP][+-]?(${tu})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${yf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function XN(t,e,n){return n===-1?"":t.replace(e,r=>XN(t,e,n-1))}function y$(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+XN("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),d={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},f={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},p={className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:d,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[p,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:d,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[f,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,BS,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},BS,f]}}const FS="[A-Za-z$_][0-9A-Za-z$_]*",E$=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],T$=["true","false","null","undefined","NaN","Infinity"],QN=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],WN=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],JN=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],w$=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],v$=[].concat(JN,QN,WN);function S$(t){const e=t.regex,n=(z,{after:ue})=>{const v="</"+z[0].slice(1);return z.input.indexOf(v,ue)!==-1},r=FS,a={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,u={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(z,ue)=>{const v=z[0].length+z.index,G=z.input[v];if(G==="<"||G===","){ue.ignoreMatch();return}G===">"&&(n(z,{after:v})||ue.ignoreMatch());let re;const x=z.input.substring(v);if(re=x.match(/^\s*=/)){ue.ignoreMatch();return}if((re=x.match(/^\s+extends\s+/))&&re.index===0){ue.ignoreMatch();return}}},c={$pattern:FS,keyword:E$,literal:T$,built_in:v$,"variable.language":w$},d="[0-9](_?[0-9])*",f=`\\.(${d})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${p})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${p})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},b={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},E={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"xml"}},T={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"css"}},w={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"graphql"}},A={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,b]},k={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},C=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,E,T,w,A,{match:/\$\d+/},m];b.contains=C.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(C)});const $=[].concat(k,b.contains),P=$.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat($)}]),M={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:P},se={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},q={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...QN,...WN]}},me={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},V={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[M],illegal:/%/},ce={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function he(z){return e.concat("(?!",z.join("|"),")")}const ve={match:e.concat(/\b/,he([...JN,"super","import"].map(z=>`${z}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},X={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},K={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},M]},U="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",Z={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(U)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[M]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:P,CLASS_REFERENCE:q},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),me,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,E,T,w,A,k,{match:/\$\d+/},m,q,{scope:"attr",match:r+e.lookahead(":"),relevance:0},Z,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[k,t.REGEXP_MODE,{className:"function",begin:U,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:P}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:o},{begin:u.begin,"on:begin":u.isTrulyOpeningTag,end:u.end}],subLanguage:"xml",contains:[{begin:u.begin,end:u.end,skip:!0,contains:["self"]}]}]},V,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[M,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},X,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[M]},ve,ce,se,K,{match:/\$[(.]/}]}}function A$(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],a={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,a,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var nu="[0-9](_*[0-9])*",Ef=`\\.(${nu})`,Tf="[0-9a-fA-F](_*[0-9a-fA-F])*",O$={className:"number",variants:[{begin:`(\\b(${nu})((${Ef})|\\.)?|(${Ef}))[eE][+-]?(${nu})[fFdD]?\\b`},{begin:`\\b(${nu})((${Ef})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ef})[fFdD]?\\b`},{begin:`\\b(${nu})[fFdD]\\b`},{begin:`\\b0[xX]((${Tf})\\.?|(${Tf})?\\.(${Tf}))[pP][+-]?(${nu})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Tf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function N$(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},a={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},u={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,a]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,o,a]}]};a.contains.push(u);const c={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},d={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(u,{className:"string"}),"self"]}]},f=O$,p=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),m={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},b=m;return b.variants[1].contains=[m],m.variants[1].contains=[b],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,p,n,r,c,d,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[m,t.C_LINE_COMMENT_MODE,p],relevance:0},t.C_LINE_COMMENT_MODE,p,c,d,u,t.C_NUMBER_MODE]},p]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},c,d]},u,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},f]}}const x$=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),C$=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],R$=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],k$=[...C$,...R$],I$=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ex=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),tx=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),M$=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),L$=ex.concat(tx).sort().reverse();function D$(t){const e=x$(t),n=L$,r="and or not only",a="[\\w-]+",o="("+a+"|@\\{"+a+"\\})",u=[],c=[],d=function(C){return{className:"string",begin:"~?"+C+".*?"+C}},f=function(C,$,P){return{className:C,begin:$,relevance:P}},p={$pattern:/[a-z-]+/,keyword:r,attribute:I$.join(" ")},m={begin:"\\(",end:"\\)",contains:c,keywords:p,relevance:0};c.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,d("'"),d('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,m,f("variable","@@?"+a,10),f("variable","@\\{"+a+"\\}"),f("built_in","~?`[^`]*?`"),{className:"attribute",begin:a+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const b=c.concat({begin:/\{/,end:/\}/,contains:u}),E={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(c)},T={begin:o+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+M$.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:c}}]},w={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:p,returnEnd:!0,contains:c,relevance:0}},A={className:"variable",variants:[{begin:"@"+a+"\\s*:",relevance:15},{begin:"@"+a}],starts:{end:"[;}]",returnEnd:!0,contains:b}},O={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:o,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,E,f("keyword","all\\b"),f("variable","@\\{"+a+"\\}"),{begin:"\\b("+k$.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,f("selector-tag",o,0),f("selector-id","#"+o),f("selector-class","\\."+o,0),f("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+ex.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+tx.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:b},{begin:"!important"},e.FUNCTION_DISPATCH]},k={begin:a+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[O]};return u.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,w,A,k,T,O,E,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:u}}function P$(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},a=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:a.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:a}].concat(a)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function U$(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},a={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},u={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,a,o,u]}}function B$(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},o={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},u={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},c=/[A-Za-z][A-Za-z0-9+.-]*/,d={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,c,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},f={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},p={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},m=t.inherit(f,{contains:[]}),b=t.inherit(p,{contains:[]});f.contains.push(b),p.contains.push(m);let E=[n,d];return[f,p,m,b].forEach(O=>{O.contains=O.contains.concat(E)}),E=E.concat(f,p),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:E},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:E}]}]},n,o,f,p,{className:"quote",begin:"^>\\s+",contains:E,end:"$"},a,r,d,u,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function F$(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,c={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},d={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:c,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+d.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:d,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function $$(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,a={$pattern:/[\w.]+/,keyword:n.join(" ")},o={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:a},u={begin:/->\{/,end:/\}/},c={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},d={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[c]},f={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},p=[t.BACKSLASH_ESCAPE,o,d],m=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],b=(w,A,O="\\1")=>{const k=O==="\\1"?O:e.concat(O,A);return e.concat(e.concat("(?:",w,")"),A,/(?:\\.|[^\\\/])*?/,k,/(?:\\.|[^\\\/])*?/,O,r)},E=(w,A,O)=>e.concat(e.concat("(?:",w,")"),A,/(?:\\.|[^\\\/])*?/,O,r),T=[d,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),u,{className:"string",contains:p,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},f,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:b("s|tr|y",e.either(...m,{capture:!0}))},{begin:b("s|tr|y","\\(","\\)")},{begin:b("s|tr|y","\\[","\\]")},{begin:b("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:E("(?:m|qr)?",/\//,/\//)},{begin:E("m|qr",e.either(...m,{capture:!0}),/\1/)},{begin:E("m|qr",/\(/,/\)/)},{begin:E("m|qr",/\[/,/\]/)},{begin:E("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,c]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,c,f]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return o.contains=T,u.contains=T,{name:"Perl",aliases:["pl","pm"],keywords:a,contains:T}}function H$(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),a=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o=e.concat(/[A-Z]+/,n),u={scope:"variable",match:"\\$+"+r},c={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},d={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},f=t.inherit(t.APOS_STRING_MODE,{illegal:null}),p=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(d)}),m={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(d),"on:begin":(X,K)=>{K.data._beginMatch=X[1]||X[2]},"on:end":(X,K)=>{K.data._beginMatch!==X[1]&&K.ignoreMatch()}},b=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),E=`[ 	
]`,T={scope:"string",variants:[p,f,m,b]},w={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},A=["false","null","true"],O=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],k=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],$={keyword:O,literal:(X=>{const K=[];return X.forEach(U=>{K.push(U),U.toLowerCase()===U?K.push(U.toUpperCase()):K.push(U.toLowerCase())}),K})(A),built_in:k},P=X=>X.map(K=>K.replace(/\|\d+$/,"")),M={variants:[{match:[/new/,e.concat(E,"+"),e.concat("(?!",P(k).join("\\b|"),"\\b)"),a],scope:{1:"keyword",4:"title.class"}}]},se=e.concat(r,"\\b(?!\\()"),q={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),se],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[a,e.concat(/::/,e.lookahead(/(?!class\b)/)),se],scope:{1:"title.class",3:"variable.constant"}},{match:[a,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[a,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},me={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},V={relevance:0,begin:/\(/,end:/\)/,keywords:$,contains:[me,u,q,t.C_BLOCK_COMMENT_MODE,T,w,M]},ce={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",P(O).join("\\b|"),"|",P(k).join("\\b|"),"\\b)"),r,e.concat(E,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[V]};V.contains.push(ce);const he=[me,q,t.C_BLOCK_COMMENT_MODE,T,w,M],ve={begin:e.concat(/#\[\s*\\?/,e.either(a,o)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:A,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:A,keyword:["new","array"]},contains:["self",...he]},...he,{scope:"meta",variants:[{match:a},{match:o}]}]};return{case_insensitive:!1,keywords:$,contains:[ve,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},c,{scope:"variable.language",match:/\$this\b/},u,ce,q,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},M,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:$,contains:["self",ve,u,q,t.C_BLOCK_COMMENT_MODE,T,w]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},T,w]}}function z$(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function j$(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function q$(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],c={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},d={className:"meta",begin:/^(>>>|\.\.\.) /},f={className:"subst",begin:/\{/,end:/\}/,keywords:c,illegal:/#/},p={begin:/\{\{/,relevance:0},m={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,d,p,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,d,p,f]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,p,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,p,f]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},b="[0-9](_?[0-9])*",E=`(\\b(${b}))?\\.(${b})|\\b(${b})\\.`,T=`\\b|${r.join("|")}`,w={className:"number",relevance:0,variants:[{begin:`(\\b(${b})|(${E}))[eE][+-]?(${b})[jJ]?(?=${T})`},{begin:`(${E})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${T})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${T})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${T})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${T})`},{begin:`\\b(${b})[jJ](?=${T})`}]},A={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:c,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},O={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:["self",d,w,m,t.HASH_COMMENT_MODE]}]};return f.contains=[m,w,d],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:c,illegal:/(<\/|\?)|=>/,contains:[d,w,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},m,A,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[O]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[w,O,m]}]}}function G$(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function Y$(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),a=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[a,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[o,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:a},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function V$(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),a=e.concat(r,/(::\w+)*/),u={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},c={className:"doctag",begin:"@[A-Za-z]+"},d={begin:"#<",end:">"},f=[t.COMMENT("#","$",{contains:[c]}),t.COMMENT("^=begin","^=end",{contains:[c],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],p={className:"subst",begin:/#\{/,end:/\}/,keywords:u},m={className:"string",contains:[t.BACKSLASH_ESCAPE,p],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,p]})]}]},b="[1-9](_?[0-9])*|0",E="[0-9](_?[0-9])*",T={className:"number",relevance:0,variants:[{begin:`\\b(${b})(\\.(${E}))?([eE][+-]?(${E})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},w={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:u}]},M=[m,{variants:[{match:[/class\s+/,a,/\s+<\s+/,a]},{match:[/\b(class|module)\s+/,a]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:u},{match:[/(include|extend)\s+/,a],scope:{2:"title.class"},keywords:u},{relevance:0,match:[a,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[w]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[m,{begin:n}],relevance:0},T,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:u},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,p],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(d,f),relevance:0}].concat(d,f);p.contains=M,w.contains=M;const V=[{begin:/^\s*=>/,starts:{end:"$",contains:M}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:u,contains:M}}];return f.unshift(d),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:u,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(V).concat(f).concat(M)}}function K$(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),a=e.concat(n,t.IDENT_RE),o={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,a,e.lookahead(/\s*\(/))},u="([ui](8|16|32|64|128|size)|f(32|64))?",c=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],d=["true","false","Some","None","Ok","Err"],f=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],p=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:p,keyword:c,literal:d,built_in:f},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+u},{begin:"\\b0o([0-7_]+)"+u},{begin:"\\b0x([A-Fa-f0-9_]+)"+u},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+u}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:f,type:p}},{className:"punctuation",begin:"->"},o]}}const Z$=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),X$=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Q$=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],W$=[...X$,...Q$],J$=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),eH=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),tH=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),nH=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function rH(t){const e=Z$(t),n=tH,r=eH,a="@[a-z-]+",o="and or not only",c={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+W$.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},c,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+nH.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,c,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:a,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:J$.join(" ")},contains:[{begin:a,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},c,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function aH(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function iH(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},a={begin:/"/,end:/"/,contains:[{match:/""/}]},o=["true","false","unknown"],u=["double precision","large object","with timezone","without timezone"],c=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],d=["add","asc","collation","desc","final","first","last","view"],f=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],p=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],m=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],b=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],E=p,T=[...f,...d].filter(P=>!p.includes(P)),w={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},A={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},O={match:e.concat(/\b/,e.either(...E),/\s*\(/),relevance:0,keywords:{built_in:E}};function k(P){return e.concat(/\b/,e.either(...P.map(M=>M.replace(/\s+/,"\\s+"))),/\b/)}const C={scope:"keyword",match:k(b),relevance:0};function $(P,{exceptions:M,when:se}={}){const q=se;return M=M||[],P.map(me=>me.match(/\|\d+$/)||M.includes(me)?me:q(me)?`${me}|0`:me)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:$(T,{when:P=>P.length<3}),literal:o,type:c,built_in:m},contains:[{scope:"type",match:k(u)},C,O,w,r,a,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,A]}}function nx(t){return t?typeof t=="string"?t:t.source:null}function ql(t){return Kt("(?=",t,")")}function Kt(...t){return t.map(n=>nx(n)).join("")}function sH(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Sr(...t){return"("+(sH(t).capture?"":"?:")+t.map(r=>nx(r)).join("|")+")"}const R_=t=>Kt(/\b/,t,/\w$/.test(t)?/\b/:/\B/),oH=["Protocol","Type"].map(R_),$S=["init","self"].map(R_),uH=["Any","Self"],_b=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],HS=["false","nil","true"],lH=["assignment","associativity","higherThan","left","lowerThan","none","right"],cH=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],zS=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],rx=Sr(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),ax=Sr(rx,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),yb=Kt(rx,ax,"*"),ix=Sr(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),th=Sr(ix,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),ii=Kt(ix,th,"*"),wf=Kt(/[A-Z]/,th,"*"),dH=["attached","autoclosure",Kt(/convention\(/,Sr("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Kt(/objc\(/,ii,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],fH=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function hH(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],a={match:[/\./,Sr(...oH,...$S)],className:{2:"keyword"}},o={match:Kt(/\./,Sr(..._b)),relevance:0},u=_b.filter(lt=>typeof lt=="string").concat(["_|0"]),c=_b.filter(lt=>typeof lt!="string").concat(uH).map(R_),d={variants:[{className:"keyword",match:Sr(...c,...$S)}]},f={$pattern:Sr(/\b\w+/,/#\w+/),keyword:u.concat(cH),literal:HS},p=[a,o,d],m={match:Kt(/\./,Sr(...zS)),relevance:0},b={className:"built_in",match:Kt(/\b/,Sr(...zS),/(?=\()/)},E=[m,b],T={match:/->/,relevance:0},w={className:"operator",relevance:0,variants:[{match:yb},{match:`\\.(\\.|${ax})+`}]},A=[T,w],O="([0-9]_*)+",k="([0-9a-fA-F]_*)+",C={className:"number",relevance:0,variants:[{match:`\\b(${O})(\\.(${O}))?([eE][+-]?(${O}))?\\b`},{match:`\\b0x(${k})(\\.(${k}))?([pP][+-]?(${O}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},$=(lt="")=>({className:"subst",variants:[{match:Kt(/\\/,lt,/[0\\tnr"']/)},{match:Kt(/\\/,lt,/u\{[0-9a-fA-F]{1,8}\}/)}]}),P=(lt="")=>({className:"subst",match:Kt(/\\/,lt,/[\t ]*(?:[\r\n]|\r\n)/)}),M=(lt="")=>({className:"subst",label:"interpol",begin:Kt(/\\/,lt,/\(/),end:/\)/}),se=(lt="")=>({begin:Kt(lt,/"""/),end:Kt(/"""/,lt),contains:[$(lt),P(lt),M(lt)]}),q=(lt="")=>({begin:Kt(lt,/"/),end:Kt(/"/,lt),contains:[$(lt),M(lt)]}),me={className:"string",variants:[se(),se("#"),se("##"),se("###"),q(),q("#"),q("##"),q("###")]},V=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],ce={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:V},he=lt=>{const Dt=Kt(lt,/\//),yn=Kt(/\//,lt);return{begin:Dt,end:yn,contains:[...V,{scope:"comment",begin:`#(?!.*${yn})`,end:/$/}]}},ve={scope:"regexp",variants:[he("###"),he("##"),he("#"),ce]},X={match:Kt(/`/,ii,/`/)},K={className:"variable",match:/\$\d+/},U={className:"variable",match:`\\$${th}+`},Z=[X,K,U],z={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:fH,contains:[...A,C,me]}]}},ue={scope:"keyword",match:Kt(/@/,Sr(...dH),ql(Sr(/\(/,/\s+/)))},v={scope:"meta",match:Kt(/@/,ii)},G=[z,ue,v],re={match:ql(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Kt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,th,"+")},{className:"type",match:wf,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Kt(/\s+&\s+/,ql(wf)),relevance:0}]},x={begin:/</,end:/>/,keywords:f,contains:[...r,...p,...G,T,re]};re.contains.push(x);const ge={match:Kt(ii,/\s*:/),keywords:"_|0",relevance:0},be={begin:/\(/,end:/\)/,relevance:0,keywords:f,contains:["self",ge,...r,ve,...p,...E,...A,C,me,...Z,...G,re]},Se={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,re]},We={begin:Sr(ql(Kt(ii,/\s*:/)),ql(Kt(ii,/\s+/,ii,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:ii}]},nt={begin:/\(/,end:/\)/,keywords:f,contains:[We,...r,...p,...A,C,me,...G,re,be],endsParent:!0,illegal:/["']/},Ft={match:[/(func|macro)/,/\s+/,Sr(X.match,ii,yb)],className:{1:"keyword",3:"title.function"},contains:[Se,nt,e],illegal:[/\[/,/%/]},Nt={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Se,nt,e],illegal:/\[|%/},qt={match:[/operator/,/\s+/,yb],className:{1:"keyword",3:"title"}},Zt={begin:[/precedencegroup/,/\s+/,wf],className:{1:"keyword",3:"title"},contains:[re],keywords:[...lH,...HS],end:/}/},On={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},hn={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Xn={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,ii,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:f,contains:[Se,...p,{begin:/:/,end:/\{/,keywords:f,contains:[{scope:"title.class.inherited",match:wf},...p],relevance:0}]};for(const lt of me.variants){const Dt=lt.contains.find(sr=>sr.label==="interpol");Dt.keywords=f;const yn=[...p,...E,...A,C,me,...Z];Dt.contains=[...yn,{begin:/\(/,end:/\)/,contains:["self",...yn]}]}return{name:"Swift",keywords:f,contains:[...r,Ft,Nt,On,hn,Xn,qt,Zt,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},ve,...p,...E,...A,C,me,...Z,...G,re,be]}}const nh="[A-Za-z$_][0-9A-Za-z$_]*",sx=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ox=["true","false","null","undefined","NaN","Infinity"],ux=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],lx=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],cx=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],dx=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],fx=[].concat(cx,ux,lx);function pH(t){const e=t.regex,n=(z,{after:ue})=>{const v="</"+z[0].slice(1);return z.input.indexOf(v,ue)!==-1},r=nh,a={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,u={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(z,ue)=>{const v=z[0].length+z.index,G=z.input[v];if(G==="<"||G===","){ue.ignoreMatch();return}G===">"&&(n(z,{after:v})||ue.ignoreMatch());let re;const x=z.input.substring(v);if(re=x.match(/^\s*=/)){ue.ignoreMatch();return}if((re=x.match(/^\s+extends\s+/))&&re.index===0){ue.ignoreMatch();return}}},c={$pattern:nh,keyword:sx,literal:ox,built_in:fx,"variable.language":dx},d="[0-9](_?[0-9])*",f=`\\.(${d})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${p})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${p})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},b={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},E={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"xml"}},T={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"css"}},w={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,b],subLanguage:"graphql"}},A={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,b]},k={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},C=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,E,T,w,A,{match:/\$\d+/},m];b.contains=C.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(C)});const $=[].concat(k,b.contains),P=$.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat($)}]),M={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:P},se={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},q={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ux,...lx]}},me={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},V={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[M],illegal:/%/},ce={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function he(z){return e.concat("(?!",z.join("|"),")")}const ve={match:e.concat(/\b/,he([...cx,"super","import"].map(z=>`${z}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},X={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},K={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},M]},U="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",Z={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(U)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[M]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:P,CLASS_REFERENCE:q},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),me,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,E,T,w,A,k,{match:/\$\d+/},m,q,{scope:"attr",match:r+e.lookahead(":"),relevance:0},Z,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[k,t.REGEXP_MODE,{className:"function",begin:U,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:P}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:o},{begin:u.begin,"on:begin":u.isTrulyOpeningTag,end:u.end}],subLanguage:"xml",contains:[{begin:u.begin,end:u.end,skip:!0,contains:["self"]}]}]},V,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[M,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},X,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[M]},ve,ce,se,K,{match:/\$[(.]/}]}}function mH(t){const e=t.regex,n=pH(t),r=nh,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],o={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},u={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[n.exports.CLASS_REFERENCE]},c={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},d=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],f={$pattern:nh,keyword:sx.concat(d),literal:ox,built_in:fx.concat(a),"variable.language":dx},p={className:"meta",begin:"@"+r},m=(w,A,O)=>{const k=w.contains.findIndex(C=>C.label===A);if(k===-1)throw new Error("can not find mode to replace");w.contains.splice(k,1,O)};Object.assign(n.keywords,f),n.exports.PARAMS_CONTAINS.push(p);const b=n.contains.find(w=>w.scope==="attr"),E=Object.assign({},b,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,b,E]),n.contains=n.contains.concat([p,o,u,E]),m(n,"shebang",t.SHEBANG()),m(n,"use_strict",c);const T=n.contains.find(w=>w.label==="func.def");return T.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function gH(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},a=/\d{1,2}\/\d{1,2}\/\d{4}/,o=/\d{4}-\d{1,2}-\d{1,2}/,u=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,c=/\d{1,2}(:\d{1,2}){1,2}/,d={className:"literal",variants:[{begin:e.concat(/# */,e.either(o,a),/ *#/)},{begin:e.concat(/# */,c,/ *#/)},{begin:e.concat(/# */,u,/ *#/)},{begin:e.concat(/# */,e.either(o,a),/ +/,e.either(u,c),/ *#/)}]},f={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},p={className:"label",begin:/^\w+:/},m=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),b=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,d,f,p,m,b,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[b]}]}}function bH(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],a={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},o={className:"variable",begin:/\$[\w_]+/},u={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},c={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},d={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},f={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},o,u,a,t.QUOTE_STRING_MODE,d,f,c]}}function _H(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},u=t.inherit(o,{begin:/\(/,end:/\)/}),c=t.inherit(t.APOS_STRING_MODE,{className:"string"}),d=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),f={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,d,c,u,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,u,d,c]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[d]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[f],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[f],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:f}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function yH(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},o={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},u={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,a]},c=t.inherit(u,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),b={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},E={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},T={begin:/\{/,end:/\}/,contains:[E],illegal:"\\n",relevance:0},w={begin:"\\[",end:"\\]",contains:[E],illegal:"\\n",relevance:0},A=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},b,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},T,w,o,u],O=[...A];return O.pop(),O.push(c),E.contains=O,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:A}}const EH={arduino:t$,bash:n$,c:r$,cpp:a$,csharp:i$,css:p$,diff:m$,go:g$,graphql:b$,ini:_$,java:y$,javascript:S$,json:A$,kotlin:N$,less:D$,lua:P$,makefile:U$,markdown:B$,objectivec:F$,perl:$$,php:H$,"php-template":z$,plaintext:j$,python:q$,"python-repl":G$,r:Y$,ruby:V$,rust:K$,scss:rH,shell:aH,sql:iH,swift:hH,typescript:mH,vbnet:gH,wasm:bH,xml:_H,yaml:yH};var Eb,jS;function TH(){if(jS)return Eb;jS=1;function t(B){return B instanceof Map?B.clear=B.delete=B.set=function(){throw new Error("map is read-only")}:B instanceof Set&&(B.add=B.clear=B.delete=function(){throw new Error("set is read-only")}),Object.freeze(B),Object.getOwnPropertyNames(B).forEach(ae=>{const Oe=B[ae],Je=typeof Oe;(Je==="object"||Je==="function")&&!Object.isFrozen(Oe)&&t(Oe)}),B}class e{constructor(ae){ae.data===void 0&&(ae.data={}),this.data=ae.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(B){return B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(B,...ae){const Oe=Object.create(null);for(const Je in B)Oe[Je]=B[Je];return ae.forEach(function(Je){for(const Xt in Je)Oe[Xt]=Je[Xt]}),Oe}const a="</span>",o=B=>!!B.scope,u=(B,{prefix:ae})=>{if(B.startsWith("language:"))return B.replace("language:","language-");if(B.includes(".")){const Oe=B.split(".");return[`${ae}${Oe.shift()}`,...Oe.map((Je,Xt)=>`${Je}${"_".repeat(Xt+1)}`)].join(" ")}return`${ae}${B}`};class c{constructor(ae,Oe){this.buffer="",this.classPrefix=Oe.classPrefix,ae.walk(this)}addText(ae){this.buffer+=n(ae)}openNode(ae){if(!o(ae))return;const Oe=u(ae.scope,{prefix:this.classPrefix});this.span(Oe)}closeNode(ae){o(ae)&&(this.buffer+=a)}value(){return this.buffer}span(ae){this.buffer+=`<span class="${ae}">`}}const d=(B={})=>{const ae={children:[]};return Object.assign(ae,B),ae};class f{constructor(){this.rootNode=d(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(ae){this.top.children.push(ae)}openNode(ae){const Oe=d({scope:ae});this.add(Oe),this.stack.push(Oe)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(ae){return this.constructor._walk(ae,this.rootNode)}static _walk(ae,Oe){return typeof Oe=="string"?ae.addText(Oe):Oe.children&&(ae.openNode(Oe),Oe.children.forEach(Je=>this._walk(ae,Je)),ae.closeNode(Oe)),ae}static _collapse(ae){typeof ae!="string"&&ae.children&&(ae.children.every(Oe=>typeof Oe=="string")?ae.children=[ae.children.join("")]:ae.children.forEach(Oe=>{f._collapse(Oe)}))}}class p extends f{constructor(ae){super(),this.options=ae}addText(ae){ae!==""&&this.add(ae)}startScope(ae){this.openNode(ae)}endScope(){this.closeNode()}__addSublanguage(ae,Oe){const Je=ae.root;Oe&&(Je.scope=`language:${Oe}`),this.add(Je)}toHTML(){return new c(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function m(B){return B?typeof B=="string"?B:B.source:null}function b(B){return w("(?=",B,")")}function E(B){return w("(?:",B,")*")}function T(B){return w("(?:",B,")?")}function w(...B){return B.map(Oe=>m(Oe)).join("")}function A(B){const ae=B[B.length-1];return typeof ae=="object"&&ae.constructor===Object?(B.splice(B.length-1,1),ae):{}}function O(...B){return"("+(A(B).capture?"":"?:")+B.map(Je=>m(Je)).join("|")+")"}function k(B){return new RegExp(B.toString()+"|").exec("").length-1}function C(B,ae){const Oe=B&&B.exec(ae);return Oe&&Oe.index===0}const $=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function P(B,{joinWith:ae}){let Oe=0;return B.map(Je=>{Oe+=1;const Xt=Oe;let Qt=m(Je),Me="";for(;Qt.length>0;){const xe=$.exec(Qt);if(!xe){Me+=Qt;break}Me+=Qt.substring(0,xe.index),Qt=Qt.substring(xe.index+xe[0].length),xe[0][0]==="\\"&&xe[1]?Me+="\\"+String(Number(xe[1])+Xt):(Me+=xe[0],xe[0]==="("&&Oe++)}return Me}).map(Je=>`(${Je})`).join(ae)}const M=/\b\B/,se="[a-zA-Z]\\w*",q="[a-zA-Z_]\\w*",me="\\b\\d+(\\.\\d+)?",V="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ce="\\b(0b[01]+)",he="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ve=(B={})=>{const ae=/^#![ ]*\//;return B.binary&&(B.begin=w(ae,/.*\b/,B.binary,/\b.*/)),r({scope:"meta",begin:ae,end:/$/,relevance:0,"on:begin":(Oe,Je)=>{Oe.index!==0&&Je.ignoreMatch()}},B)},X={begin:"\\\\[\\s\\S]",relevance:0},K={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[X]},U={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[X]},Z={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},z=function(B,ae,Oe={}){const Je=r({scope:"comment",begin:B,end:ae,contains:[]},Oe);Je.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Xt=O("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Je.contains.push({begin:w(/[ ]+/,"(",Xt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Je},ue=z("//","$"),v=z("/\\*","\\*/"),G=z("#","$"),re={scope:"number",begin:me,relevance:0},x={scope:"number",begin:V,relevance:0},ge={scope:"number",begin:ce,relevance:0},be={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[X,{begin:/\[/,end:/\]/,relevance:0,contains:[X]}]},Se={scope:"title",begin:se,relevance:0},We={scope:"title",begin:q,relevance:0},nt={begin:"\\.\\s*"+q,relevance:0};var Nt=Object.freeze({__proto__:null,APOS_STRING_MODE:K,BACKSLASH_ESCAPE:X,BINARY_NUMBER_MODE:ge,BINARY_NUMBER_RE:ce,COMMENT:z,C_BLOCK_COMMENT_MODE:v,C_LINE_COMMENT_MODE:ue,C_NUMBER_MODE:x,C_NUMBER_RE:V,END_SAME_AS_BEGIN:function(B){return Object.assign(B,{"on:begin":(ae,Oe)=>{Oe.data._beginMatch=ae[1]},"on:end":(ae,Oe)=>{Oe.data._beginMatch!==ae[1]&&Oe.ignoreMatch()}})},HASH_COMMENT_MODE:G,IDENT_RE:se,MATCH_NOTHING_RE:M,METHOD_GUARD:nt,NUMBER_MODE:re,NUMBER_RE:me,PHRASAL_WORDS_MODE:Z,QUOTE_STRING_MODE:U,REGEXP_MODE:be,RE_STARTERS_RE:he,SHEBANG:ve,TITLE_MODE:Se,UNDERSCORE_IDENT_RE:q,UNDERSCORE_TITLE_MODE:We});function qt(B,ae){B.input[B.index-1]==="."&&ae.ignoreMatch()}function Zt(B,ae){B.className!==void 0&&(B.scope=B.className,delete B.className)}function On(B,ae){ae&&B.beginKeywords&&(B.begin="\\b("+B.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",B.__beforeBegin=qt,B.keywords=B.keywords||B.beginKeywords,delete B.beginKeywords,B.relevance===void 0&&(B.relevance=0))}function hn(B,ae){Array.isArray(B.illegal)&&(B.illegal=O(...B.illegal))}function Xn(B,ae){if(B.match){if(B.begin||B.end)throw new Error("begin & end are not supported with match");B.begin=B.match,delete B.match}}function lt(B,ae){B.relevance===void 0&&(B.relevance=1)}const Dt=(B,ae)=>{if(!B.beforeMatch)return;if(B.starts)throw new Error("beforeMatch cannot be used with starts");const Oe=Object.assign({},B);Object.keys(B).forEach(Je=>{delete B[Je]}),B.keywords=Oe.keywords,B.begin=w(Oe.beforeMatch,b(Oe.begin)),B.starts={relevance:0,contains:[Object.assign(Oe,{endsParent:!0})]},B.relevance=0,delete Oe.beforeMatch},yn=["of","and","for","in","not","or","if","then","parent","list","value"],sr="keyword";function Ce(B,ae,Oe=sr){const Je=Object.create(null);return typeof B=="string"?Xt(Oe,B.split(" ")):Array.isArray(B)?Xt(Oe,B):Object.keys(B).forEach(function(Qt){Object.assign(Je,Ce(B[Qt],ae,Qt))}),Je;function Xt(Qt,Me){ae&&(Me=Me.map(xe=>xe.toLowerCase())),Me.forEach(function(xe){const ze=xe.split("|");Je[ze[0]]=[Qt,or(ze[0],ze[1])]})}}function or(B,ae){return ae?Number(ae):Ze(B)?0:1}function Ze(B){return yn.includes(B.toLowerCase())}const Pe={},He=B=>{console.error(B)},Re=(B,...ae)=>{console.log(`WARN: ${B}`,...ae)},F=(B,ae)=>{Pe[`${B}/${ae}`]||(console.log(`Deprecated as of ${B}. ${ae}`),Pe[`${B}/${ae}`]=!0)},te=new Error;function pe(B,ae,{key:Oe}){let Je=0;const Xt=B[Oe],Qt={},Me={};for(let xe=1;xe<=ae.length;xe++)Me[xe+Je]=Xt[xe],Qt[xe+Je]=!0,Je+=k(ae[xe-1]);B[Oe]=Me,B[Oe]._emit=Qt,B[Oe]._multi=!0}function De(B){if(Array.isArray(B.begin)){if(B.skip||B.excludeBegin||B.returnBegin)throw He("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),te;if(typeof B.beginScope!="object"||B.beginScope===null)throw He("beginScope must be object"),te;pe(B,B.begin,{key:"beginScope"}),B.begin=P(B.begin,{joinWith:""})}}function gt(B){if(Array.isArray(B.end)){if(B.skip||B.excludeEnd||B.returnEnd)throw He("skip, excludeEnd, returnEnd not compatible with endScope: {}"),te;if(typeof B.endScope!="object"||B.endScope===null)throw He("endScope must be object"),te;pe(B,B.end,{key:"endScope"}),B.end=P(B.end,{joinWith:""})}}function En(B){B.scope&&typeof B.scope=="object"&&B.scope!==null&&(B.beginScope=B.scope,delete B.scope)}function ur(B){En(B),typeof B.beginScope=="string"&&(B.beginScope={_wrap:B.beginScope}),typeof B.endScope=="string"&&(B.endScope={_wrap:B.endScope}),De(B),gt(B)}function Tn(B){function ae(Me,xe){return new RegExp(m(Me),"m"+(B.case_insensitive?"i":"")+(B.unicodeRegex?"u":"")+(xe?"g":""))}class Oe{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(xe,ze){ze.position=this.position++,this.matchIndexes[this.matchAt]=ze,this.regexes.push([ze,xe]),this.matchAt+=k(xe)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const xe=this.regexes.map(ze=>ze[1]);this.matcherRe=ae(P(xe,{joinWith:"|"}),!0),this.lastIndex=0}exec(xe){this.matcherRe.lastIndex=this.lastIndex;const ze=this.matcherRe.exec(xe);if(!ze)return null;const St=ze.findIndex((Va,$i)=>$i>0&&Va!==void 0),Mt=this.matchIndexes[St];return ze.splice(0,St),Object.assign(ze,Mt)}}class Je{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(xe){if(this.multiRegexes[xe])return this.multiRegexes[xe];const ze=new Oe;return this.rules.slice(xe).forEach(([St,Mt])=>ze.addRule(St,Mt)),ze.compile(),this.multiRegexes[xe]=ze,ze}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(xe,ze){this.rules.push([xe,ze]),ze.type==="begin"&&this.count++}exec(xe){const ze=this.getMatcher(this.regexIndex);ze.lastIndex=this.lastIndex;let St=ze.exec(xe);if(this.resumingScanAtSamePosition()&&!(St&&St.index===this.lastIndex)){const Mt=this.getMatcher(0);Mt.lastIndex=this.lastIndex+1,St=Mt.exec(xe)}return St&&(this.regexIndex+=St.position+1,this.regexIndex===this.count&&this.considerAll()),St}}function Xt(Me){const xe=new Je;return Me.contains.forEach(ze=>xe.addRule(ze.begin,{rule:ze,type:"begin"})),Me.terminatorEnd&&xe.addRule(Me.terminatorEnd,{type:"end"}),Me.illegal&&xe.addRule(Me.illegal,{type:"illegal"}),xe}function Qt(Me,xe){const ze=Me;if(Me.isCompiled)return ze;[Zt,Xn,ur,Dt].forEach(Mt=>Mt(Me,xe)),B.compilerExtensions.forEach(Mt=>Mt(Me,xe)),Me.__beforeBegin=null,[On,hn,lt].forEach(Mt=>Mt(Me,xe)),Me.isCompiled=!0;let St=null;return typeof Me.keywords=="object"&&Me.keywords.$pattern&&(Me.keywords=Object.assign({},Me.keywords),St=Me.keywords.$pattern,delete Me.keywords.$pattern),St=St||/\w+/,Me.keywords&&(Me.keywords=Ce(Me.keywords,B.case_insensitive)),ze.keywordPatternRe=ae(St,!0),xe&&(Me.begin||(Me.begin=/\B|\b/),ze.beginRe=ae(ze.begin),!Me.end&&!Me.endsWithParent&&(Me.end=/\B|\b/),Me.end&&(ze.endRe=ae(ze.end)),ze.terminatorEnd=m(ze.end)||"",Me.endsWithParent&&xe.terminatorEnd&&(ze.terminatorEnd+=(Me.end?"|":"")+xe.terminatorEnd)),Me.illegal&&(ze.illegalRe=ae(Me.illegal)),Me.contains||(Me.contains=[]),Me.contains=[].concat(...Me.contains.map(function(Mt){return pn(Mt==="self"?Me:Mt)})),Me.contains.forEach(function(Mt){Qt(Mt,ze)}),Me.starts&&Qt(Me.starts,xe),ze.matcher=Xt(ze),ze}if(B.compilerExtensions||(B.compilerExtensions=[]),B.contains&&B.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return B.classNameAliases=r(B.classNameAliases||{}),Qt(B)}function ln(B){return B?B.endsWithParent||ln(B.starts):!1}function pn(B){return B.variants&&!B.cachedVariants&&(B.cachedVariants=B.variants.map(function(ae){return r(B,{variants:null},ae)})),B.cachedVariants?B.cachedVariants:ln(B)?r(B,{starts:B.starts?r(B.starts):null}):Object.isFrozen(B)?r(B):B}var an="11.11.1";class Hn extends Error{constructor(ae,Oe){super(ae),this.name="HTMLInjectionError",this.html=Oe}}const Qn=n,qa=r,Ga=Symbol("nomatch"),Ps=7,Rr=function(B){const ae=Object.create(null),Oe=Object.create(null),Je=[];let Xt=!0;const Qt="Could not find the language '{}', did you forget to load/include a language module?",Me={disableAutodetect:!0,name:"Plain text",contains:[]};let xe={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:p};function ze(fe){return xe.noHighlightRe.test(fe)}function St(fe){let Ge=fe.className+" ";Ge+=fe.parentNode?fe.parentNode.className:"";const it=xe.languageDetectRe.exec(Ge);if(it){const Pt=Ie(it[1]);return Pt||(Re(Qt.replace("{}",it[1])),Re("Falling back to no-highlight mode for this block.",fe)),Pt?it[1]:"no-highlight"}return Ge.split(/\s+/).find(Pt=>ze(Pt)||Ie(Pt))}function Mt(fe,Ge,it){let Pt="",cn="";typeof Ge=="object"?(Pt=fe,it=Ge.ignoreIllegals,cn=Ge.language):(F("10.7.0","highlight(lang, code, ...args) has been deprecated."),F("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),cn=fe,Pt=Ge),it===void 0&&(it=!0);const qr={code:Pt,language:cn};br("before:highlight",qr);const Oa=qr.result?qr.result:Va(qr.language,qr.code,it);return Oa.code=qr.code,br("after:highlight",Oa),Oa}function Va(fe,Ge,it,Pt){const cn=Object.create(null);function qr(ke,Ue){return ke.keywords[Ue]}function Oa(){if(!st.keywords){Nn.addText(Ut);return}let ke=0;st.keywordPatternRe.lastIndex=0;let Ue=st.keywordPatternRe.exec(Ut),at="";for(;Ue;){at+=Ut.substring(ke,Ue.index);const Ct=Gr.case_insensitive?Ue[0].toLowerCase():Ue[0],xn=qr(st,Ct);if(xn){const[ua,$s]=xn;if(Nn.addText(at),at="",cn[Ct]=(cn[Ct]||0)+1,cn[Ct]<=Ps&&(_o+=$s),ua.startsWith("_"))at+=Ue[0];else{const Na=Gr.classNameAliases[ua]||ua;oa(Ue[0],Na)}}else at+=Ue[0];ke=st.keywordPatternRe.lastIndex,Ue=st.keywordPatternRe.exec(Ut)}at+=Ut.substring(ke),Nn.addText(at)}function Jn(){if(Ut==="")return;let ke=null;if(typeof st.subLanguage=="string"){if(!ae[st.subLanguage]){Nn.addText(Ut);return}ke=Va(st.subLanguage,Ut,!0,$u[st.subLanguage]),$u[st.subLanguage]=ke._top}else ke=Ka(Ut,st.subLanguage.length?st.subLanguage:null);st.relevance>0&&(_o+=ke.relevance),Nn.__addSublanguage(ke._emitter,ke.language)}function cr(){st.subLanguage!=null?Jn():Oa(),Ut=""}function oa(ke,Ue){ke!==""&&(Nn.startScope(Ue),Nn.addText(ke),Nn.endScope())}function Us(ke,Ue){let at=1;const Ct=Ue.length-1;for(;at<=Ct;){if(!ke._emit[at]){at++;continue}const xn=Gr.classNameAliases[ke[at]]||ke[at],ua=Ue[at];xn?oa(ua,xn):(Ut=ua,Oa(),Ut=""),at++}}function Bu(ke,Ue){return ke.scope&&typeof ke.scope=="string"&&Nn.openNode(Gr.classNameAliases[ke.scope]||ke.scope),ke.beginScope&&(ke.beginScope._wrap?(oa(Ut,Gr.classNameAliases[ke.beginScope._wrap]||ke.beginScope._wrap),Ut=""):ke.beginScope._multi&&(Us(ke.beginScope,Ue),Ut="")),st=Object.create(ke,{parent:{value:st}}),st}function Bs(ke,Ue,at){let Ct=C(ke.endRe,at);if(Ct){if(ke["on:end"]){const xn=new e(ke);ke["on:end"](Ue,xn),xn.isMatchIgnored&&(Ct=!1)}if(Ct){for(;ke.endsParent&&ke.parent;)ke=ke.parent;return ke}}if(ke.endsWithParent)return Bs(ke.parent,Ue,at)}function Nh(ke){return st.matcher.regexIndex===0?(Ut+=ke[0],1):(Fs=!0,0)}function kr(ke){const Ue=ke[0],at=ke.rule,Ct=new e(at),xn=[at.__beforeBegin,at["on:begin"]];for(const ua of xn)if(ua&&(ua(ke,Ct),Ct.isMatchIgnored))return Nh(Ue);return at.skip?Ut+=Ue:(at.excludeBegin&&(Ut+=Ue),cr(),!at.returnBegin&&!at.excludeBegin&&(Ut=Ue)),Bu(at,ke),at.returnBegin?0:Ue.length}function Fu(ke){const Ue=ke[0],at=Ge.substring(ke.index),Ct=Bs(st,ke,at);if(!Ct)return Ga;const xn=st;st.endScope&&st.endScope._wrap?(cr(),oa(Ue,st.endScope._wrap)):st.endScope&&st.endScope._multi?(cr(),Us(st.endScope,ke)):xn.skip?Ut+=Ue:(xn.returnEnd||xn.excludeEnd||(Ut+=Ue),cr(),xn.excludeEnd&&(Ut=Ue));do st.scope&&Nn.closeNode(),!st.skip&&!st.subLanguage&&(_o+=st.relevance),st=st.parent;while(st!==Ct.parent);return Ct.starts&&Bu(Ct.starts,ke),xn.returnEnd?0:Ue.length}function Vc(){const ke=[];for(let Ue=st;Ue!==Gr;Ue=Ue.parent)Ue.scope&&ke.unshift(Ue.scope);ke.forEach(Ue=>Nn.openNode(Ue))}let Hi={};function _i(ke,Ue){const at=Ue&&Ue[0];if(Ut+=ke,at==null)return cr(),0;if(Hi.type==="begin"&&Ue.type==="end"&&Hi.index===Ue.index&&at===""){if(Ut+=Ge.slice(Ue.index,Ue.index+1),!Xt){const Ct=new Error(`0 width match regex (${fe})`);throw Ct.languageName=fe,Ct.badRule=Hi.rule,Ct}return 1}if(Hi=Ue,Ue.type==="begin")return kr(Ue);if(Ue.type==="illegal"&&!it){const Ct=new Error('Illegal lexeme "'+at+'" for mode "'+(st.scope||"<unnamed>")+'"');throw Ct.mode=st,Ct}else if(Ue.type==="end"){const Ct=Fu(Ue);if(Ct!==Ga)return Ct}if(Ue.type==="illegal"&&at==="")return Ut+=`
`,1;if(zi>1e5&&zi>Ue.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Ut+=at,at.length}const Gr=Ie(fe);if(!Gr)throw He(Qt.replace("{}",fe)),new Error('Unknown language: "'+fe+'"');const Kc=Tn(Gr);let Qa="",st=Pt||Kc;const $u={},Nn=new xe.__emitter(xe);Vc();let Ut="",_o=0,yi=0,zi=0,Fs=!1;try{if(Gr.__emitTokens)Gr.__emitTokens(Ge,Nn);else{for(st.matcher.considerAll();;){zi++,Fs?Fs=!1:st.matcher.considerAll(),st.matcher.lastIndex=yi;const ke=st.matcher.exec(Ge);if(!ke)break;const Ue=Ge.substring(yi,ke.index),at=_i(Ue,ke);yi=ke.index+at}_i(Ge.substring(yi))}return Nn.finalize(),Qa=Nn.toHTML(),{language:fe,value:Qa,relevance:_o,illegal:!1,_emitter:Nn,_top:st}}catch(ke){if(ke.message&&ke.message.includes("Illegal"))return{language:fe,value:Qn(Ge),illegal:!0,relevance:0,_illegalBy:{message:ke.message,index:yi,context:Ge.slice(yi-100,yi+100),mode:ke.mode,resultSoFar:Qa},_emitter:Nn};if(Xt)return{language:fe,value:Qn(Ge),illegal:!1,relevance:0,errorRaised:ke,_emitter:Nn,_top:st};throw ke}}function $i(fe){const Ge={value:Qn(fe),illegal:!1,relevance:0,_top:Me,_emitter:new xe.__emitter(xe)};return Ge._emitter.addText(fe),Ge}function Ka(fe,Ge){Ge=Ge||xe.languages||Object.keys(ae);const it=$i(fe),Pt=Ge.filter(Ie).filter(mn).map(cr=>Va(cr,fe,!1));Pt.unshift(it);const cn=Pt.sort((cr,oa)=>{if(cr.relevance!==oa.relevance)return oa.relevance-cr.relevance;if(cr.language&&oa.language){if(Ie(cr.language).supersetOf===oa.language)return 1;if(Ie(oa.language).supersetOf===cr.language)return-1}return 0}),[qr,Oa]=cn,Jn=qr;return Jn.secondBest=Oa,Jn}function Za(fe,Ge,it){const Pt=Ge&&Oe[Ge]||it;fe.classList.add("hljs"),fe.classList.add(`language-${Pt}`)}function Wn(fe){let Ge=null;const it=St(fe);if(ze(it))return;if(br("before:highlightElement",{el:fe,language:it}),fe.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",fe);return}if(fe.children.length>0&&(xe.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(fe)),xe.throwUnescapedHTML))throw new Hn("One of your code blocks includes unescaped HTML.",fe.innerHTML);Ge=fe;const Pt=Ge.textContent,cn=it?Mt(Pt,{language:it,ignoreIllegals:!0}):Ka(Pt);fe.innerHTML=cn.value,fe.dataset.highlighted="yes",Za(fe,it,cn.language),fe.result={language:cn.language,re:cn.relevance,relevance:cn.relevance},cn.secondBest&&(fe.secondBest={language:cn.secondBest.language,relevance:cn.secondBest.relevance}),br("after:highlightElement",{el:fe,result:cn,text:Pt})}function Sa(fe){xe=qa(xe,fe)}const Aa=()=>{rn(),F("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Xa(){rn(),F("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let sa=!1;function rn(){function fe(){rn()}if(document.readyState==="loading"){sa||window.addEventListener("DOMContentLoaded",fe,!1),sa=!0;return}document.querySelectorAll(xe.cssSelector).forEach(Wn)}function qe(fe,Ge){let it=null;try{it=Ge(B)}catch(Pt){if(He("Language definition for '{}' could not be registered.".replace("{}",fe)),Xt)He(Pt);else throw Pt;it=Me}it.name||(it.name=fe),ae[fe]=it,it.rawDefinition=Ge.bind(null,B),it.aliases&&$t(it.aliases,{languageName:fe})}function j(fe){delete ae[fe];for(const Ge of Object.keys(Oe))Oe[Ge]===fe&&delete Oe[Ge]}function ye(){return Object.keys(ae)}function Ie(fe){return fe=(fe||"").toLowerCase(),ae[fe]||ae[Oe[fe]]}function $t(fe,{languageName:Ge}){typeof fe=="string"&&(fe=[fe]),fe.forEach(it=>{Oe[it.toLowerCase()]=Ge})}function mn(fe){const Ge=Ie(fe);return Ge&&!Ge.disableAutodetect}function sn(fe){fe["before:highlightBlock"]&&!fe["before:highlightElement"]&&(fe["before:highlightElement"]=Ge=>{fe["before:highlightBlock"](Object.assign({block:Ge.el},Ge))}),fe["after:highlightBlock"]&&!fe["after:highlightElement"]&&(fe["after:highlightElement"]=Ge=>{fe["after:highlightBlock"](Object.assign({block:Ge.el},Ge))})}function zn(fe){sn(fe),Je.push(fe)}function lr(fe){const Ge=Je.indexOf(fe);Ge!==-1&&Je.splice(Ge,1)}function br(fe,Ge){const it=fe;Je.forEach(function(Pt){Pt[it]&&Pt[it](Ge)})}function _r(fe){return F("10.7.0","highlightBlock will be removed entirely in v12.0"),F("10.7.0","Please use highlightElement now."),Wn(fe)}Object.assign(B,{highlight:Mt,highlightAuto:Ka,highlightAll:rn,highlightElement:Wn,highlightBlock:_r,configure:Sa,initHighlighting:Aa,initHighlightingOnLoad:Xa,registerLanguage:qe,unregisterLanguage:j,listLanguages:ye,getLanguage:Ie,registerAliases:$t,autoDetection:mn,inherit:qa,addPlugin:zn,removePlugin:lr}),B.debugMode=function(){Xt=!1},B.safeMode=function(){Xt=!0},B.versionString=an,B.regex={concat:w,lookahead:b,either:O,optional:T,anyNumberOfTimes:E};for(const fe in Nt)typeof Nt[fe]=="object"&&t(Nt[fe]);return Object.assign(B,Nt),B},Ya=Rr({});return Ya.newInstance=()=>Rr({}),Eb=Ya,Ya.HighlightJS=Ya,Ya.default=Ya,Eb}var wH=TH();const vH=Is(wH),qS={},SH="hljs-";function AH(t){const e=vH.newInstance();return t&&o(t),{highlight:n,highlightAuto:r,listLanguages:a,register:o,registerAlias:u,registered:c};function n(d,f,p){const m=p||qS,b=typeof m.prefix=="string"?m.prefix:SH;if(!e.getLanguage(d))throw new Error("Unknown language: `"+d+"` is not registered");e.configure({__emitter:OH,classPrefix:b});const E=e.highlight(f,{ignoreIllegals:!0,language:d});if(E.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:E.errorRaised});const T=E._emitter.root,w=T.data;return w.language=E.language,w.relevance=E.relevance,T}function r(d,f){const m=(f||qS).subset||a();let b=-1,E=0,T;for(;++b<m.length;){const w=m[b];if(!e.getLanguage(w))continue;const A=n(w,d,f);A.data&&A.data.relevance!==void 0&&A.data.relevance>E&&(E=A.data.relevance,T=A)}return T||{type:"root",children:[],data:{language:void 0,relevance:E}}}function a(){return e.listLanguages()}function o(d,f){if(typeof d=="string")e.registerLanguage(d,f);else{let p;for(p in d)Object.hasOwn(d,p)&&e.registerLanguage(p,d[p])}}function u(d,f){if(typeof d=="string")e.registerAliases(typeof f=="string"?f:[...f],{languageName:d});else{let p;for(p in d)if(Object.hasOwn(d,p)){const m=d[p];e.registerAliases(typeof m=="string"?m:[...m],{languageName:p})}}}function c(d){return!!e.getLanguage(d)}}class OH{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],a=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:a}):r.children.push(...a)}openNode(e){const n=this,r=e.split(".").map(function(u,c){return c?u+"_".repeat(c):n.options.classPrefix+u}),a=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:r},children:[]};a.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const NH={};function xH(t){const e=t||NH,n=e.aliases,r=e.detect||!1,a=e.languages||EH,o=e.plainText,u=e.prefix,c=e.subset;let d="hljs";const f=AH(a);if(n&&f.registerAlias(n),u){const p=u.indexOf("-");d=p===-1?u:u.slice(0,p)}return function(p,m){zc(p,"element",function(b,E,T){if(b.tagName!=="code"||!T||T.type!=="element"||T.tagName!=="pre")return;const w=CH(b);if(w===!1||!w&&!r||w&&o&&o.includes(w))return;Array.isArray(b.properties.className)||(b.properties.className=[]),b.properties.className.includes(d)||b.properties.className.unshift(d);const A=VF(b,{whitespace:"pre"});let O;try{O=w?f.highlight(w,A,{prefix:u}):f.highlightAuto(A,{prefix:u,subset:c})}catch(k){const C=k;if(w&&/Unknown language/.test(C.message)){m.message("Cannot highlight as `"+w+"`, its not registered",{ancestors:[T,b],cause:C,place:b.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw C}!w&&O.data&&O.data.language&&b.properties.className.push("language-"+O.data.language),O.children.length>0&&(b.children=O.children)})}}function CH(t){const e=t.properties.className;let n=-1;if(!Array.isArray(e))return;let r;for(;++n<e.length;){const a=String(e[n]);if(a==="no-highlight"||a==="nohighlight")return!1;!r&&a.slice(0,5)==="lang-"&&(r=a.slice(5)),!r&&a.slice(0,9)==="language-"&&(r=a.slice(9))}return r}const GS=/[#.]/g;function RH(t,e){const n=t||"",r={};let a=0,o,u;for(;a<n.length;){GS.lastIndex=a;const c=GS.exec(n),d=n.slice(a,c?c.index:n.length);d&&(o?o==="#"?r.id=d:Array.isArray(r.className)?r.className.push(d):r.className=[d]:u=d,a+=d.length),c&&(o=c[0],a++)}return{type:"element",tagName:u||e||"div",properties:r,children:[]}}function hx(t,e,n){const r=n?LH(n):void 0;function a(o,u,...c){let d;if(o==null){d={type:"root",children:[]};const f=u;c.unshift(f)}else{d=RH(o,e);const f=d.tagName.toLowerCase(),p=r?r.get(f):void 0;if(d.tagName=p||f,kH(u))c.unshift(u);else for(const[m,b]of Object.entries(u))IH(t,d.properties,m,b)}for(const f of c)b0(d.children,f);return d.type==="element"&&d.tagName==="template"&&(d.content={type:"root",children:d.children},d.children=[]),d}return a}function kH(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const a=e[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const o=a;for(const u of o)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function IH(t,e,n,r){const a=p_(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?a.spaceSeparated?o=Yv(r):a.commaSeparated?o=Hv(r):a.commaOrSpaceSeparated?o=Yv(Hv(r).join(" ")):o=YS(a,a.property,r):Array.isArray(r)?o=[...r]:o=a.property==="style"?MH(r):String(r);if(Array.isArray(o)){const u=[];for(const c of o)u.push(YS(a,a.property,c));o=u}a.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[a.property]=o}}function b0(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)b0(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?b0(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function YS(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Oc(n)===Oc(e)))return!0}return n}function MH(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function LH(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const DH=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],PH=hx(bh,"div"),UH=hx(Iu,"g",DH);function BH(t){const e=String(t),n=[];return{toOffset:a,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=e.length){let u=0;for(;;){let c=n[u];if(c===void 0){const d=VS(e,n[u-1]);c=d===-1?e.length+1:d+1,n[u]=c}if(c>o)return{line:u+1,column:o-(u>0?n[u-1]:0)+1,offset:o};u++}}}function a(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const c=n[n.length-1],d=VS(e,c),f=d===-1?e.length+1:d+1;if(c===f)break;n.push(f)}const u=(o.line>1?n[o.line-2]:0)+o.column-1;if(u<n[o.line-1])return u}}}function VS(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const oo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},px={}.hasOwnProperty,FH=Object.prototype;function $H(t,e){const n=e||{};return k_({file:n.file||void 0,location:!1,schema:n.space==="svg"?Iu:bh,verbose:n.verbose||!1},t)}function k_(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},Rf(t,r,n),n}case"#document":case"#document-fragment":{const r=e,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:mx(t,e.childNodes),data:{quirksMode:a}},t.file&&t.location){const o=String(t.file),u=BH(o),c=u.toPoint(0),d=u.toPoint(o.length);n.position={start:c,end:d}}return n}case"#documentType":{const r=e;return n={type:"doctype"},Rf(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},Rf(t,r,n),n}default:return n=HH(t,e),n}}function mx(t,e){let n=-1;const r=[];for(;++n<e.length;){const a=k_(t,e[n]);r.push(a)}return r}function HH(t,e){const n=t.schema;t.schema=e.namespaceURI===oo.svg?Iu:bh;let r=-1;const a={};for(;++r<e.attrs.length;){const c=e.attrs[r],d=(c.prefix?c.prefix+":":"")+c.name;px.call(FH,d)||(a[d]=c.value)}const u=(t.schema.space==="svg"?UH:PH)(e.tagName,a,mx(t,e.childNodes));if(Rf(t,e,u),u.tagName==="template"){const c=e,d=c.sourceCodeLocation,f=d&&d.startTag&&su(d.startTag),p=d&&d.endTag&&su(d.endTag),m=k_(t,c.content);f&&p&&t.file&&(m.position={start:f.end,end:p.start}),u.content=m}return t.schema=n,u}function Rf(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=zH(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function zH(t,e,n){const r=su(n);if(e.type==="element"){const a=e.children[e.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),t.verbose){const o={};let u;if(n.attrs)for(u in n.attrs)px.call(n.attrs,u)&&(o[p_(t.schema,u).property]=su(n.attrs[u]));n.startTag;const c=su(n.startTag),d=n.endTag?su(n.endTag):void 0,f={opening:c};d&&(f.closing=d),f.properties=o,e.data={position:f}}}return r}function su(t){const e=KS({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=KS({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function KS(t){return t.line&&t.column?t:void 0}class qc{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}qc.prototype.property={};qc.prototype.normal={};qc.prototype.space=null;function gx(t,e){const n={},r={};let a=-1;for(;++a<t.length;)Object.assign(n,t[a].property),Object.assign(r,t[a].normal);return new qc(n,r,e)}function _0(t){return t.toLowerCase()}class va{constructor(e,n){this.property=e,this.attribute=n}}va.prototype.space=null;va.prototype.boolean=!1;va.prototype.booleanish=!1;va.prototype.overloadedBoolean=!1;va.prototype.number=!1;va.prototype.commaSeparated=!1;va.prototype.spaceSeparated=!1;va.prototype.commaOrSpaceSeparated=!1;va.prototype.mustUseProperty=!1;va.prototype.defined=!1;let jH=0;const ct=go(),In=go(),bx=go(),we=go(),nn=go(),cu=go(),ta=go();function go(){return 2**++jH}const y0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ct,booleanish:In,commaOrSpaceSeparated:ta,commaSeparated:cu,number:we,overloadedBoolean:bx,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),Tb=Object.keys(y0);class I_ extends va{constructor(e,n,r,a){let o=-1;if(super(e,n),ZS(this,"space",a),typeof r=="number")for(;++o<Tb.length;){const u=Tb[o];ZS(this,Tb[o],(r&y0[u])===y0[u])}}}I_.prototype.defined=!0;function ZS(t,e,n){n&&(t[e]=n)}const qH={}.hasOwnProperty;function Lu(t){const e={},n={};let r;for(r in t.properties)if(qH.call(t.properties,r)){const a=t.properties[r],o=new I_(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[_0(r)]=r,n[_0(o.attribute)]=r}return new qc(e,n,t.space)}const _x=Lu({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),yx=Lu({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Ex(t,e){return e in t?t[e]:e}function Tx(t,e){return Ex(t,e.toLowerCase())}const wx=Lu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Tx,properties:{xmlns:null,xmlnsXLink:null}}),vx=Lu({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:In,ariaAutoComplete:null,ariaBusy:In,ariaChecked:In,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:In,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:In,ariaFlowTo:nn,ariaGrabbed:In,ariaHasPopup:null,ariaHidden:In,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:we,ariaLive:null,ariaModal:In,ariaMultiLine:In,ariaMultiSelectable:In,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:In,ariaReadOnly:In,ariaRelevant:null,ariaRequired:In,ariaRoleDescription:nn,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:In,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null}}),GH=Lu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Tx,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cu,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:ct,allowPaymentRequest:ct,allowUserMedia:ct,alt:null,as:null,async:ct,autoCapitalize:null,autoComplete:nn,autoFocus:ct,autoPlay:ct,blocking:nn,capture:null,charSet:null,checked:ct,cite:null,className:nn,cols:we,colSpan:null,content:null,contentEditable:In,controls:ct,controlsList:nn,coords:we|cu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ct,defer:ct,dir:null,dirName:null,disabled:ct,download:bx,draggable:In,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ct,formTarget:null,headers:nn,height:we,hidden:ct,high:we,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inert:ct,inputMode:null,integrity:null,is:null,isMap:ct,itemId:null,itemProp:nn,itemRef:nn,itemScope:ct,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ct,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:ct,muted:ct,name:null,nonce:null,noModule:ct,noValidate:ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ct,optimum:we,pattern:null,ping:nn,placeholder:null,playsInline:ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ct,referrerPolicy:null,rel:nn,required:ct,reversed:ct,rows:we,rowSpan:we,sandbox:nn,scope:null,scoped:ct,seamless:ct,selected:ct,shadowRootClonable:ct,shadowRootDelegatesFocus:ct,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:In,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:ct,useMap:null,value:In,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ct,declare:ct,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:ct,noHref:ct,noShade:ct,noWrap:ct,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:In,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ct,disableRemotePlayback:ct,prefix:null,property:null,results:we,security:null,unselectable:null}}),YH=Lu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Ex,properties:{about:ta,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cu,g2:cu,glyphName:cu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:ta,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ta,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ta,rev:ta,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ta,requiredFeatures:ta,requiredFonts:ta,requiredFormats:ta,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:ta,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ta,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ta,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),VH=/^data[-\w.:]+$/i,XS=/-[a-z]/g,KH=/[A-Z]/g;function ZH(t,e){const n=_0(e);let r=e,a=va;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&VH.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(XS,QH);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!XS.test(o)){let u=o.replace(KH,XH);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=I_}return new a(r,e)}function XH(t){return"-"+t.toLowerCase()}function QH(t){return t.charAt(1).toUpperCase()}const WH=gx([yx,_x,wx,vx,GH],"html"),Sx=gx([yx,_x,wx,vx,YH],"svg"),JH={},ez={}.hasOwnProperty,Ax=ON("type",{handlers:{root:nz,element:oz,text:iz,comment:sz,doctype:az}});function tz(t,e){const r=(e||JH).space;return Ax(t,r==="svg"?Sx:WH)}function nz(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=M_(t.children,n,e),Du(t,n),n}function rz(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=M_(t.children,n,e),Du(t,n),n}function az(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Du(t,e),e}function iz(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Du(t,e),e}function sz(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Du(t,e),e}function oz(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Sx);const a=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&ez.call(t.properties,o)){const d=uz(r,o,t.properties[o]);d&&a.push(d)}}const u=r.space,c={nodeName:t.tagName,tagName:t.tagName,attrs:a,namespaceURI:oo[u],childNodes:[],parentNode:null};return c.childNodes=M_(t.children,c,r),Du(t,c),t.tagName==="template"&&t.content&&(c.content=rz(t.content,r)),c}function uz(t,e,n){const r=ZH(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?$O(n):KO(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=a.name.indexOf(":");o<0?a.prefix="":(a.name=a.name.slice(o+1),a.prefix=r.attribute.slice(0,o)),a.namespace=oo[r.space]}return a}function M_(t,e,n){let r=-1;const a=[];if(t)for(;++r<t.length;){const o=Ax(t[r],n);o.parentNode=e,a.push(o)}return a}function Du(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const lz=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],cz=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),un="";var R;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(R||(R={}));const Ur={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Ox(t){return t>=55296&&t<=57343}function dz(t){return t>=56320&&t<=57343}function fz(t,e){return(t-55296)*1024+9216+e}function Nx(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function xx(t){return t>=64976&&t<=65007||cz.has(t)}var ie;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ie||(ie={}));const hz=65536;class pz{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=hz,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:a,offset:o}=this,u=a+n,c=o+n;return{code:e,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:c,endOffset:c}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(dz(n))return this.pos++,this._addGap(),fz(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,R.EOF;return this._err(ie.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,R.EOF;const r=this.html.charCodeAt(n);return r===R.CARRIAGE_RETURN?R.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,R.EOF;let e=this.html.charCodeAt(this.pos);return e===R.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,R.LINE_FEED):e===R.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Ox(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===R.LINE_FEED||e===R.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){Nx(e)?this._err(ie.controlCharacterInInputStream):xx(e)&&this._err(ie.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var _t;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(_t||(_t={}));function Cx(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const mz=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),gz=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function bz(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=gz.get(t))!==null&&e!==void 0?e:t}var Zn;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Zn||(Zn={}));const _z=32;var Ss;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ss||(Ss={}));function E0(t){return t>=Zn.ZERO&&t<=Zn.NINE}function yz(t){return t>=Zn.UPPER_A&&t<=Zn.UPPER_F||t>=Zn.LOWER_A&&t<=Zn.LOWER_F}function Ez(t){return t>=Zn.UPPER_A&&t<=Zn.UPPER_Z||t>=Zn.LOWER_A&&t<=Zn.LOWER_Z||E0(t)}function Tz(t){return t===Zn.EQUALS||Ez(t)}var Vn;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Vn||(Vn={}));var Di;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Di||(Di={}));class wz{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Vn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Di.Strict}startEntity(e){this.decodeMode=e,this.state=Vn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Vn.EntityStart:return e.charCodeAt(n)===Zn.NUM?(this.state=Vn.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Vn.NamedEntity,this.stateNamedEntity(e,n));case Vn.NumericStart:return this.stateNumericStart(e,n);case Vn.NumericDecimal:return this.stateNumericDecimal(e,n);case Vn.NumericHex:return this.stateNumericHex(e,n);case Vn.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|_z)===Zn.LOWER_X?(this.state=Vn.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Vn.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,a){if(n!==r){const o=r-n;this.result=this.result*Math.pow(a,o)+Number.parseInt(e.substr(n,o),a),this.consumed+=o}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(E0(a)||yz(a))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(E0(a))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Zn.SEMI)this.consumed+=1;else if(this.decodeMode===Di.Strict)return 0;return this.emitCodePoint(bz(this.result),this.consumed),this.errors&&(e!==Zn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let a=r[this.treeIndex],o=(a&Ss.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const u=e.charCodeAt(n);if(this.treeIndex=vz(r,a,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===Di.Attribute&&(o===0||Tz(u))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],o=(a&Ss.VALUE_LENGTH)>>14,o!==0){if(u===Zn.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Di.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,a=(r[n]&Ss.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[e]&~Ss.VALUE_LENGTH:a[e+1],r),n===3&&this.emitCodePoint(a[e+2],r),r}end(){var e;switch(this.state){case Vn.NamedEntity:return this.result!==0&&(this.decodeMode!==Di.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Vn.NumericDecimal:return this.emitNumericEntity(0,2);case Vn.NumericHex:return this.emitNumericEntity(0,3);case Vn.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Vn.EntityStart:return 0}}}function vz(t,e,n,r){const a=(e&Ss.BRANCH_LENGTH)>>7,o=e&Ss.JUMP_TABLE;if(a===0)return o!==0&&r===o?n:-1;if(o){const d=r-o;return d<0||d>=a?-1:t[n+d]-1}let u=n,c=u+a-1;for(;u<=c;){const d=u+c>>>1,f=t[d];if(f<r)u=d+1;else if(f>r)c=d-1;else return t[d+a]}return-1}var _e;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(_e||(_e={}));var uo;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(uo||(uo={}));var _a;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(_a||(_a={}));var W;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(W||(W={}));var y;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(y||(y={}));const Sz=new Map([[W.A,y.A],[W.ADDRESS,y.ADDRESS],[W.ANNOTATION_XML,y.ANNOTATION_XML],[W.APPLET,y.APPLET],[W.AREA,y.AREA],[W.ARTICLE,y.ARTICLE],[W.ASIDE,y.ASIDE],[W.B,y.B],[W.BASE,y.BASE],[W.BASEFONT,y.BASEFONT],[W.BGSOUND,y.BGSOUND],[W.BIG,y.BIG],[W.BLOCKQUOTE,y.BLOCKQUOTE],[W.BODY,y.BODY],[W.BR,y.BR],[W.BUTTON,y.BUTTON],[W.CAPTION,y.CAPTION],[W.CENTER,y.CENTER],[W.CODE,y.CODE],[W.COL,y.COL],[W.COLGROUP,y.COLGROUP],[W.DD,y.DD],[W.DESC,y.DESC],[W.DETAILS,y.DETAILS],[W.DIALOG,y.DIALOG],[W.DIR,y.DIR],[W.DIV,y.DIV],[W.DL,y.DL],[W.DT,y.DT],[W.EM,y.EM],[W.EMBED,y.EMBED],[W.FIELDSET,y.FIELDSET],[W.FIGCAPTION,y.FIGCAPTION],[W.FIGURE,y.FIGURE],[W.FONT,y.FONT],[W.FOOTER,y.FOOTER],[W.FOREIGN_OBJECT,y.FOREIGN_OBJECT],[W.FORM,y.FORM],[W.FRAME,y.FRAME],[W.FRAMESET,y.FRAMESET],[W.H1,y.H1],[W.H2,y.H2],[W.H3,y.H3],[W.H4,y.H4],[W.H5,y.H5],[W.H6,y.H6],[W.HEAD,y.HEAD],[W.HEADER,y.HEADER],[W.HGROUP,y.HGROUP],[W.HR,y.HR],[W.HTML,y.HTML],[W.I,y.I],[W.IMG,y.IMG],[W.IMAGE,y.IMAGE],[W.INPUT,y.INPUT],[W.IFRAME,y.IFRAME],[W.KEYGEN,y.KEYGEN],[W.LABEL,y.LABEL],[W.LI,y.LI],[W.LINK,y.LINK],[W.LISTING,y.LISTING],[W.MAIN,y.MAIN],[W.MALIGNMARK,y.MALIGNMARK],[W.MARQUEE,y.MARQUEE],[W.MATH,y.MATH],[W.MENU,y.MENU],[W.META,y.META],[W.MGLYPH,y.MGLYPH],[W.MI,y.MI],[W.MO,y.MO],[W.MN,y.MN],[W.MS,y.MS],[W.MTEXT,y.MTEXT],[W.NAV,y.NAV],[W.NOBR,y.NOBR],[W.NOFRAMES,y.NOFRAMES],[W.NOEMBED,y.NOEMBED],[W.NOSCRIPT,y.NOSCRIPT],[W.OBJECT,y.OBJECT],[W.OL,y.OL],[W.OPTGROUP,y.OPTGROUP],[W.OPTION,y.OPTION],[W.P,y.P],[W.PARAM,y.PARAM],[W.PLAINTEXT,y.PLAINTEXT],[W.PRE,y.PRE],[W.RB,y.RB],[W.RP,y.RP],[W.RT,y.RT],[W.RTC,y.RTC],[W.RUBY,y.RUBY],[W.S,y.S],[W.SCRIPT,y.SCRIPT],[W.SEARCH,y.SEARCH],[W.SECTION,y.SECTION],[W.SELECT,y.SELECT],[W.SOURCE,y.SOURCE],[W.SMALL,y.SMALL],[W.SPAN,y.SPAN],[W.STRIKE,y.STRIKE],[W.STRONG,y.STRONG],[W.STYLE,y.STYLE],[W.SUB,y.SUB],[W.SUMMARY,y.SUMMARY],[W.SUP,y.SUP],[W.TABLE,y.TABLE],[W.TBODY,y.TBODY],[W.TEMPLATE,y.TEMPLATE],[W.TEXTAREA,y.TEXTAREA],[W.TFOOT,y.TFOOT],[W.TD,y.TD],[W.TH,y.TH],[W.THEAD,y.THEAD],[W.TITLE,y.TITLE],[W.TR,y.TR],[W.TRACK,y.TRACK],[W.TT,y.TT],[W.U,y.U],[W.UL,y.UL],[W.SVG,y.SVG],[W.VAR,y.VAR],[W.WBR,y.WBR],[W.XMP,y.XMP]]);function Pu(t){var e;return(e=Sz.get(t))!==null&&e!==void 0?e:y.UNKNOWN}const Ee=y,Az={[_e.HTML]:new Set([Ee.ADDRESS,Ee.APPLET,Ee.AREA,Ee.ARTICLE,Ee.ASIDE,Ee.BASE,Ee.BASEFONT,Ee.BGSOUND,Ee.BLOCKQUOTE,Ee.BODY,Ee.BR,Ee.BUTTON,Ee.CAPTION,Ee.CENTER,Ee.COL,Ee.COLGROUP,Ee.DD,Ee.DETAILS,Ee.DIR,Ee.DIV,Ee.DL,Ee.DT,Ee.EMBED,Ee.FIELDSET,Ee.FIGCAPTION,Ee.FIGURE,Ee.FOOTER,Ee.FORM,Ee.FRAME,Ee.FRAMESET,Ee.H1,Ee.H2,Ee.H3,Ee.H4,Ee.H5,Ee.H6,Ee.HEAD,Ee.HEADER,Ee.HGROUP,Ee.HR,Ee.HTML,Ee.IFRAME,Ee.IMG,Ee.INPUT,Ee.LI,Ee.LINK,Ee.LISTING,Ee.MAIN,Ee.MARQUEE,Ee.MENU,Ee.META,Ee.NAV,Ee.NOEMBED,Ee.NOFRAMES,Ee.NOSCRIPT,Ee.OBJECT,Ee.OL,Ee.P,Ee.PARAM,Ee.PLAINTEXT,Ee.PRE,Ee.SCRIPT,Ee.SECTION,Ee.SELECT,Ee.SOURCE,Ee.STYLE,Ee.SUMMARY,Ee.TABLE,Ee.TBODY,Ee.TD,Ee.TEMPLATE,Ee.TEXTAREA,Ee.TFOOT,Ee.TH,Ee.THEAD,Ee.TITLE,Ee.TR,Ee.TRACK,Ee.UL,Ee.WBR,Ee.XMP]),[_e.MATHML]:new Set([Ee.MI,Ee.MO,Ee.MN,Ee.MS,Ee.MTEXT,Ee.ANNOTATION_XML]),[_e.SVG]:new Set([Ee.TITLE,Ee.FOREIGN_OBJECT,Ee.DESC]),[_e.XLINK]:new Set,[_e.XML]:new Set,[_e.XMLNS]:new Set},T0=new Set([Ee.H1,Ee.H2,Ee.H3,Ee.H4,Ee.H5,Ee.H6]);W.STYLE,W.SCRIPT,W.XMP,W.IFRAME,W.NOEMBED,W.NOFRAMES,W.PLAINTEXT;var I;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(I||(I={}));const An={DATA:I.DATA,RCDATA:I.RCDATA,RAWTEXT:I.RAWTEXT,SCRIPT_DATA:I.SCRIPT_DATA,PLAINTEXT:I.PLAINTEXT,CDATA_SECTION:I.CDATA_SECTION};function Oz(t){return t>=R.DIGIT_0&&t<=R.DIGIT_9}function ec(t){return t>=R.LATIN_CAPITAL_A&&t<=R.LATIN_CAPITAL_Z}function Nz(t){return t>=R.LATIN_SMALL_A&&t<=R.LATIN_SMALL_Z}function ms(t){return Nz(t)||ec(t)}function QS(t){return ms(t)||Oz(t)}function vf(t){return t+32}function Rx(t){return t===R.SPACE||t===R.LINE_FEED||t===R.TABULATION||t===R.FORM_FEED}function WS(t){return Rx(t)||t===R.SOLIDUS||t===R.GREATER_THAN_SIGN}function xz(t){return t===R.NULL?ie.nullCharacterReference:t>1114111?ie.characterReferenceOutsideUnicodeRange:Ox(t)?ie.surrogateCharacterReference:xx(t)?ie.noncharacterCharacterReference:Nx(t)||t===R.CARRIAGE_RETURN?ie.controlCharacterReference:null}class Cz{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=I.DATA,this.returnState=I.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new pz(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new wz(mz,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ie.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ie.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=xz(r);a&&this._err(a,1)}}:void 0)}_err(e,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:_t.START_TAG,tagName:"",tagID:y.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:_t.END_TAG,tagName:"",tagID:y.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:_t.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:_t.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(Cx(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ie.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Pu(e.tagName),e.type===_t.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ie.endTagWithAttributes),e.selfClosing&&this._err(ie.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case _t.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case _t.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case _t.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:_t.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=Rx(e)?_t.WHITESPACE_CHARACTER:e===R.NULL?_t.NULL_CHARACTER:_t.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(_t.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=I.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Di.Attribute:Di.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===I.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===I.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===I.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case I.DATA:{this._stateData(e);break}case I.RCDATA:{this._stateRcdata(e);break}case I.RAWTEXT:{this._stateRawtext(e);break}case I.SCRIPT_DATA:{this._stateScriptData(e);break}case I.PLAINTEXT:{this._statePlaintext(e);break}case I.TAG_OPEN:{this._stateTagOpen(e);break}case I.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case I.TAG_NAME:{this._stateTagName(e);break}case I.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case I.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case I.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case I.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case I.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case I.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case I.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case I.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case I.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case I.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case I.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case I.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case I.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case I.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case I.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case I.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case I.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case I.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case I.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case I.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case I.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case I.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case I.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case I.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case I.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case I.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case I.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case I.BOGUS_COMMENT:{this._stateBogusComment(e);break}case I.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case I.COMMENT_START:{this._stateCommentStart(e);break}case I.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case I.COMMENT:{this._stateComment(e);break}case I.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case I.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case I.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case I.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case I.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case I.COMMENT_END:{this._stateCommentEnd(e);break}case I.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case I.DOCTYPE:{this._stateDoctype(e);break}case I.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case I.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case I.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case I.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case I.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case I.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case I.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case I.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case I.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case I.CDATA_SECTION:{this._stateCdataSection(e);break}case I.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case I.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case I.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case I.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case R.LESS_THAN_SIGN:{this.state=I.TAG_OPEN;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this._emitCodePoint(e);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case R.AMPERSAND:{this._startCharacterReference();break}case R.LESS_THAN_SIGN:{this.state=I.RCDATA_LESS_THAN_SIGN;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(un);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case R.LESS_THAN_SIGN:{this.state=I.RAWTEXT_LESS_THAN_SIGN;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(un);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case R.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_LESS_THAN_SIGN;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(un);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case R.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(un);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(ms(e))this._createStartTagToken(),this.state=I.TAG_NAME,this._stateTagName(e);else switch(e){case R.EXCLAMATION_MARK:{this.state=I.MARKUP_DECLARATION_OPEN;break}case R.SOLIDUS:{this.state=I.END_TAG_OPEN;break}case R.QUESTION_MARK:{this._err(ie.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=I.BOGUS_COMMENT,this._stateBogusComment(e);break}case R.EOF:{this._err(ie.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ie.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=I.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(ms(e))this._createEndTagToken(),this.state=I.TAG_NAME,this._stateTagName(e);else switch(e){case R.GREATER_THAN_SIGN:{this._err(ie.missingEndTagName),this.state=I.DATA;break}case R.EOF:{this._err(ie.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ie.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=I.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=I.BEFORE_ATTRIBUTE_NAME;break}case R.SOLIDUS:{this.state=I.SELF_CLOSING_START_TAG;break}case R.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentTagToken();break}case R.NULL:{this._err(ie.unexpectedNullCharacter),n.tagName+=un;break}case R.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ec(e)?vf(e):e)}}_stateRcdataLessThanSign(e){e===R.SOLIDUS?this.state=I.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=I.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){ms(e)?(this.state=I.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=I.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=I.BEFORE_ATTRIBUTE_NAME,!1;case R.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=I.SELF_CLOSING_START_TAG,!1;case R.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=I.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=I.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===R.SOLIDUS?this.state=I.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=I.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){ms(e)?(this.state=I.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=I.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=I.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case R.SOLIDUS:{this.state=I.SCRIPT_DATA_END_TAG_OPEN;break}case R.EXCLAMATION_MARK:{this.state=I.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=I.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){ms(e)?(this.state=I.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=I.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=I.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===R.HYPHEN_MINUS?(this.state=I.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=I.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===R.HYPHEN_MINUS?(this.state=I.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=I.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case R.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(un);break}case R.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case R.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_ESCAPED,this._emitChars(un);break}case R.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case R.HYPHEN_MINUS:{this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.GREATER_THAN_SIGN:{this.state=I.SCRIPT_DATA,this._emitChars(">");break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_ESCAPED,this._emitChars(un);break}case R.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===R.SOLIDUS?this.state=I.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ms(e)?(this._emitChars("<"),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){ms(e)?(this.state=I.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Ur.SCRIPT,!1)&&WS(this.preprocessor.peek(Ur.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Ur.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case R.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this._emitChars(un);break}case R.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case R.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(un);break}case R.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case R.HYPHEN_MINUS:{this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.GREATER_THAN_SIGN:{this.state=I.SCRIPT_DATA,this._emitChars(">");break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(un);break}case R.EOF:{this._err(ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===R.SOLIDUS?(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Ur.SCRIPT,!1)&&WS(this.preprocessor.peek(Ur.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Ur.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=I.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.SOLIDUS:case R.GREATER_THAN_SIGN:case R.EOF:{this.state=I.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case R.EQUALS_SIGN:{this._err(ie.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=I.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=I.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:case R.SOLIDUS:case R.GREATER_THAN_SIGN:case R.EOF:{this._leaveAttrName(),this.state=I.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case R.EQUALS_SIGN:{this._leaveAttrName(),this.state=I.BEFORE_ATTRIBUTE_VALUE;break}case R.QUOTATION_MARK:case R.APOSTROPHE:case R.LESS_THAN_SIGN:{this._err(ie.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this.currentAttr.name+=un;break}default:this.currentAttr.name+=String.fromCodePoint(ec(e)?vf(e):e)}}_stateAfterAttributeName(e){switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.SOLIDUS:{this.state=I.SELF_CLOSING_START_TAG;break}case R.EQUALS_SIGN:{this.state=I.BEFORE_ATTRIBUTE_VALUE;break}case R.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=I.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{this.state=I.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this.state=I.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(ie.missingAttributeValue),this.state=I.DATA,this.emitCurrentTagToken();break}default:this.state=I.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case R.QUOTATION_MARK:{this.state=I.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this.currentAttr.value+=un;break}case R.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case R.APOSTROPHE:{this.state=I.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this.currentAttr.value+=un;break}case R.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this._leaveAttrValue(),this.state=I.BEFORE_ATTRIBUTE_NAME;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=I.DATA,this.emitCurrentTagToken();break}case R.NULL:{this._err(ie.unexpectedNullCharacter),this.currentAttr.value+=un;break}case R.QUOTATION_MARK:case R.APOSTROPHE:case R.LESS_THAN_SIGN:case R.EQUALS_SIGN:case R.GRAVE_ACCENT:{this._err(ie.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case R.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this._leaveAttrValue(),this.state=I.BEFORE_ATTRIBUTE_NAME;break}case R.SOLIDUS:{this._leaveAttrValue(),this.state=I.SELF_CLOSING_START_TAG;break}case R.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=I.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this._err(ie.missingWhitespaceBetweenAttributes),this.state=I.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case R.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=I.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(ie.eofInTag),this._emitEOFToken();break}default:this._err(ie.unexpectedSolidusInTag),this.state=I.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case R.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentComment(n);break}case R.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case R.NULL:{this._err(ie.unexpectedNullCharacter),n.data+=un;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Ur.DASH_DASH,!0)?(this._createCommentToken(Ur.DASH_DASH.length+1),this.state=I.COMMENT_START):this._consumeSequenceIfMatch(Ur.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ur.DOCTYPE.length+1),this.state=I.DOCTYPE):this._consumeSequenceIfMatch(Ur.CDATA_START,!0)?this.inForeignNode?this.state=I.CDATA_SECTION:(this._err(ie.cdataInHtmlContent),this._createCommentToken(Ur.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=I.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ie.incorrectlyOpenedComment),this._createCommentToken(2),this.state=I.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case R.HYPHEN_MINUS:{this.state=I.COMMENT_START_DASH;break}case R.GREATER_THAN_SIGN:{this._err(ie.abruptClosingOfEmptyComment),this.state=I.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=I.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case R.HYPHEN_MINUS:{this.state=I.COMMENT_END;break}case R.GREATER_THAN_SIGN:{this._err(ie.abruptClosingOfEmptyComment),this.state=I.DATA,this.emitCurrentComment(n);break}case R.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=I.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case R.HYPHEN_MINUS:{this.state=I.COMMENT_END_DASH;break}case R.LESS_THAN_SIGN:{n.data+="<",this.state=I.COMMENT_LESS_THAN_SIGN;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),n.data+=un;break}case R.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case R.EXCLAMATION_MARK:{n.data+="!",this.state=I.COMMENT_LESS_THAN_SIGN_BANG;break}case R.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=I.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===R.HYPHEN_MINUS?this.state=I.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=I.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===R.HYPHEN_MINUS?this.state=I.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=I.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==R.GREATER_THAN_SIGN&&e!==R.EOF&&this._err(ie.nestedComment),this.state=I.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case R.HYPHEN_MINUS:{this.state=I.COMMENT_END;break}case R.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=I.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case R.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentComment(n);break}case R.EXCLAMATION_MARK:{this.state=I.COMMENT_END_BANG;break}case R.HYPHEN_MINUS:{n.data+="-";break}case R.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=I.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case R.HYPHEN_MINUS:{n.data+="--!",this.state=I.COMMENT_END_DASH;break}case R.GREATER_THAN_SIGN:{this._err(ie.incorrectlyClosedComment),this.state=I.DATA,this.emitCurrentComment(n);break}case R.EOF:{this._err(ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=I.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this.state=I.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case R.EOF:{this._err(ie.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingWhitespaceBeforeDoctypeName),this.state=I.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(ec(e))this._createDoctypeToken(String.fromCharCode(vf(e))),this.state=I.DOCTYPE_NAME;else switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.NULL:{this._err(ie.unexpectedNullCharacter),this._createDoctypeToken(un),this.state=I.DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this._err(ie.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case R.EOF:{this._err(ie.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=I.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=I.AFTER_DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case R.NULL:{this._err(ie.unexpectedNullCharacter),n.name+=un;break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ec(e)?vf(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ur.PUBLIC,!1)?this.state=I.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ur.SYSTEM,!1)?this.state=I.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ie.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.QUOTATION_MARK:{this._err(ie.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(ie.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(ie.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(ie.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case R.QUOTATION_MARK:{this.state=I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),n.publicId+=un;break}case R.GREATER_THAN_SIGN:{this._err(ie.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case R.APOSTROPHE:{this.state=I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),n.publicId+=un;break}case R.GREATER_THAN_SIGN:{this._err(ie.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=I.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case R.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case R.QUOTATION_MARK:{this._err(ie.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(ie.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case R.QUOTATION_MARK:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.QUOTATION_MARK:{this._err(ie.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(ie.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(ie.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(ie.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case R.QUOTATION_MARK:{this.state=I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),n.systemId+=un;break}case R.GREATER_THAN_SIGN:{this._err(ie.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case R.APOSTROPHE:{this.state=I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.NULL:{this._err(ie.unexpectedNullCharacter),n.systemId+=un;break}case R.GREATER_THAN_SIGN:{this._err(ie.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case R.EOF:{this._err(ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ie.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case R.NULL:{this._err(ie.unexpectedNullCharacter);break}case R.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case R.RIGHT_SQUARE_BRACKET:{this.state=I.CDATA_SECTION_BRACKET;break}case R.EOF:{this._err(ie.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===R.RIGHT_SQUARE_BRACKET?this.state=I.CDATA_SECTION_END:(this._emitChars("]"),this.state=I.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case R.GREATER_THAN_SIGN:{this.state=I.DATA;break}case R.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=I.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(R.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&QS(this.preprocessor.peek(1))?I.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){QS(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===R.SEMICOLON&&this._err(ie.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const kx=new Set([y.DD,y.DT,y.LI,y.OPTGROUP,y.OPTION,y.P,y.RB,y.RP,y.RT,y.RTC]),JS=new Set([...kx,y.CAPTION,y.COLGROUP,y.TBODY,y.TD,y.TFOOT,y.TH,y.THEAD,y.TR]),rh=new Set([y.APPLET,y.CAPTION,y.HTML,y.MARQUEE,y.OBJECT,y.TABLE,y.TD,y.TEMPLATE,y.TH]),Rz=new Set([...rh,y.OL,y.UL]),kz=new Set([...rh,y.BUTTON]),eA=new Set([y.ANNOTATION_XML,y.MI,y.MN,y.MO,y.MS,y.MTEXT]),tA=new Set([y.DESC,y.FOREIGN_OBJECT,y.TITLE]),Iz=new Set([y.TR,y.TEMPLATE,y.HTML]),Mz=new Set([y.TBODY,y.TFOOT,y.THEAD,y.TEMPLATE,y.HTML]),Lz=new Set([y.TABLE,y.TEMPLATE,y.HTML]),Dz=new Set([y.TD,y.TH]);class Pz{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=y.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===y.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===_e.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const a=this._indexOf(e)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==_e.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(T0,_e.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Dz,_e.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Lz,_e.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Mz,_e.HTML)}clearBackToTableRowContext(){this.clearBackTo(Iz,_e.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===y.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===y.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case _e.HTML:{if(a===e)return!0;if(n.has(a))return!1;break}case _e.SVG:{if(tA.has(a))return!1;break}case _e.MATHML:{if(eA.has(a))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,rh)}hasInListItemScope(e){return this.hasInDynamicScope(e,Rz)}hasInButtonScope(e){return this.hasInDynamicScope(e,kz)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case _e.HTML:{if(T0.has(n))return!0;if(rh.has(n))return!1;break}case _e.SVG:{if(tA.has(n))return!1;break}case _e.MATHML:{if(eA.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===_e.HTML)switch(this.tagIDs[n]){case e:return!0;case y.TABLE:case y.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===_e.HTML)switch(this.tagIDs[e]){case y.TBODY:case y.THEAD:case y.TFOOT:return!0;case y.TABLE:case y.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===_e.HTML)switch(this.tagIDs[n]){case e:return!0;case y.OPTION:case y.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&kx.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&JS.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&JS.has(this.currentTagId);)this.pop()}}const wb=3;var oi;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(oi||(oi={}));const nA={type:oi.Marker};class Uz{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],a=n.length,o=this.treeAdapter.getTagName(e),u=this.treeAdapter.getNamespaceURI(e);for(let c=0;c<this.entries.length;c++){const d=this.entries[c];if(d.type===oi.Marker)break;const{element:f}=d;if(this.treeAdapter.getTagName(f)===o&&this.treeAdapter.getNamespaceURI(f)===u){const p=this.treeAdapter.getAttrList(f);p.length===a&&r.push({idx:c,attrs:p})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<wb)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<wb)return;const a=new Map(n.map(u=>[u.name,u.value]));let o=0;for(let u=0;u<r.length;u++){const c=r[u];c.attrs.every(d=>a.get(d.name)===d.value)&&(o+=1,o>=wb&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(nA)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:oi.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:oi.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(nA);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===oi.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===oi.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===oi.Element&&n.element===e)}}const gs={createDocument(){return{nodeName:"#document",mode:_a.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const a=t.childNodes.find(o=>o.nodeName==="#documentType");if(a)a.name=e,a.publicId=n,a.systemId=r;else{const o={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};gs.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(gs.isTextNode(n)){n.value+=e;return}}gs.appendChild(t,gs.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&gs.isTextNode(r)?r.value+=e:gs.insertBefore(t,gs.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},Ix="html",Bz="about:legacy-compat",Fz="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Mx=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],$z=[...Mx,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Hz=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Lx=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],zz=[...Lx,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function rA(t,e){return e.some(n=>t.startsWith(n))}function jz(t){return t.name===Ix&&t.publicId===null&&(t.systemId===null||t.systemId===Bz)}function qz(t){if(t.name!==Ix)return _a.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===Fz)return _a.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),Hz.has(n))return _a.QUIRKS;let r=e===null?$z:Mx;if(rA(n,r))return _a.QUIRKS;if(r=e===null?Lx:zz,rA(n,r))return _a.LIMITED_QUIRKS}return _a.NO_QUIRKS}const aA={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Gz="definitionurl",Yz="definitionURL",Vz=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Kz=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:_e.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:_e.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:_e.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:_e.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:_e.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:_e.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:_e.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:_e.XML}],["xml:space",{prefix:"xml",name:"space",namespace:_e.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:_e.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:_e.XMLNS}]]),Zz=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),Xz=new Set([y.B,y.BIG,y.BLOCKQUOTE,y.BODY,y.BR,y.CENTER,y.CODE,y.DD,y.DIV,y.DL,y.DT,y.EM,y.EMBED,y.H1,y.H2,y.H3,y.H4,y.H5,y.H6,y.HEAD,y.HR,y.I,y.IMG,y.LI,y.LISTING,y.MENU,y.META,y.NOBR,y.OL,y.P,y.PRE,y.RUBY,y.S,y.SMALL,y.SPAN,y.STRONG,y.STRIKE,y.SUB,y.SUP,y.TABLE,y.TT,y.U,y.UL,y.VAR]);function Qz(t){const e=t.tagID;return e===y.FONT&&t.attrs.some(({name:r})=>r===uo.COLOR||r===uo.SIZE||r===uo.FACE)||Xz.has(e)}function Dx(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===Gz){t.attrs[e].name=Yz;break}}function Px(t){for(let e=0;e<t.attrs.length;e++){const n=Vz.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function L_(t){for(let e=0;e<t.attrs.length;e++){const n=Kz.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function Wz(t){const e=Zz.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Pu(t.tagName))}function Jz(t,e){return e===_e.MATHML&&(t===y.MI||t===y.MO||t===y.MN||t===y.MS||t===y.MTEXT)}function e7(t,e,n){if(e===_e.MATHML&&t===y.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===uo.ENCODING){const a=n[r].value.toLowerCase();return a===aA.TEXT_HTML||a===aA.APPLICATION_XML}}return e===_e.SVG&&(t===y.FOREIGN_OBJECT||t===y.DESC||t===y.TITLE)}function t7(t,e,n,r){return(!r||r===_e.HTML)&&e7(t,e,n)||(!r||r===_e.MATHML)&&Jz(t,e)}const n7="hidden",r7=8,a7=3;var L;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(L||(L={}));const i7={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Ux=new Set([y.TABLE,y.TBODY,y.TFOOT,y.THEAD,y.TR]),iA={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:gs,onParseError:null};class sA{constructor(e,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=L.INITIAL,this.originalInsertionMode=L.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...iA,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Cz(this.options,this),this.activeFormattingElements=new Uz(this.treeAdapter),this.fragmentContextID=r?Pu(this.treeAdapter.getTagName(r)):y.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Pz(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...iA,...n};e??(e=r.treeAdapter.createElement(W.TEMPLATE,_e.HTML,[]));const a=r.treeAdapter.createElement("documentmock",_e.HTML,[]),o=new this(r,a,e);return o.fragmentContextID===y.TEMPLATE&&o.tmplInsertionModeStack.unshift(L.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var a;if(!this.onParseError)return;const o=(a=e.location)!==null&&a!==void 0?a:i7,u={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(u)}onItemPush(e,n,r){var a,o;(o=(a=this.treeAdapter).onItemPush)===null||o===void 0||o.call(a,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,e,this.openElements.current),n){let o,u;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,u=this.fragmentContextID):{current:o,currentTagId:u}=this.openElements,this._setContextModes(o,u)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===_e.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,_e.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=L.TEXT}switchToPlaintextParsing(){this.insertionMode=L.TEXT,this.originalInsertionMode=L.IN_BODY,this.tokenizer.state=An.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===W.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==_e.HTML))switch(this.fragmentContextID){case y.TITLE:case y.TEXTAREA:{this.tokenizer.state=An.RCDATA;break}case y.STYLE:case y.XMP:case y.IFRAME:case y.NOEMBED:case y.NOFRAMES:case y.NOSCRIPT:{this.tokenizer.state=An.RAWTEXT;break}case y.SCRIPT:{this.tokenizer.state=An.SCRIPT_DATA;break}case y.PLAINTEXT:{this.tokenizer.state=An.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",a=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),e.location){const u=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));u&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,_e.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,_e.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(W.HTML,_e.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,y.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const a=this.treeAdapter.getChildNodes(n),o=r?a.lastIndexOf(r):a.length,u=a[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:d,endCol:f,endOffset:p}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:d,endCol:f,endOffset:p})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(e),o=n.type===_t.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===y.SVG&&this.treeAdapter.getTagName(n)===W.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===_e.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===y.MGLYPH||e.tagID===y.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,_e.HTML)}_processToken(e){switch(e.type){case _t.CHARACTER:{this.onCharacter(e);break}case _t.NULL_CHARACTER:{this.onNullCharacter(e);break}case _t.COMMENT:{this.onComment(e);break}case _t.DOCTYPE:{this.onDoctype(e);break}case _t.START_TAG:{this._processStartTag(e);break}case _t.END_TAG:{this.onEndTag(e);break}case _t.EOF:{this.onEof(e);break}case _t.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const a=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return t7(e,a,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===oi.Marker||this.openElements.contains(a.element)),r=n===-1?e-1:n-1;for(let a=r;a>=0;a--){const o=this.activeFormattingElements.entries[a];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=L.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(y.P),this.openElements.popUntilTagNamePopped(y.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case y.TR:{this.insertionMode=L.IN_ROW;return}case y.TBODY:case y.THEAD:case y.TFOOT:{this.insertionMode=L.IN_TABLE_BODY;return}case y.CAPTION:{this.insertionMode=L.IN_CAPTION;return}case y.COLGROUP:{this.insertionMode=L.IN_COLUMN_GROUP;return}case y.TABLE:{this.insertionMode=L.IN_TABLE;return}case y.BODY:{this.insertionMode=L.IN_BODY;return}case y.FRAMESET:{this.insertionMode=L.IN_FRAMESET;return}case y.SELECT:{this._resetInsertionModeForSelect(e);return}case y.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case y.HTML:{this.insertionMode=this.headElement?L.AFTER_HEAD:L.BEFORE_HEAD;return}case y.TD:case y.TH:{if(e>0){this.insertionMode=L.IN_CELL;return}break}case y.HEAD:{if(e>0){this.insertionMode=L.IN_HEAD;return}break}}this.insertionMode=L.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===y.TEMPLATE)break;if(r===y.TABLE){this.insertionMode=L.IN_SELECT_IN_TABLE;return}}this.insertionMode=L.IN_SELECT}_isElementCausesFosterParenting(e){return Ux.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case y.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===_e.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case y.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return Az[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Dj(this,e);return}switch(this.insertionMode){case L.INITIAL:{Gl(this,e);break}case L.BEFORE_HTML:{fc(this,e);break}case L.BEFORE_HEAD:{hc(this,e);break}case L.IN_HEAD:{pc(this,e);break}case L.IN_HEAD_NO_SCRIPT:{mc(this,e);break}case L.AFTER_HEAD:{gc(this,e);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:{Fx(this,e);break}case L.TEXT:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{vb(this,e);break}case L.IN_TABLE_TEXT:{Gx(this,e);break}case L.IN_COLUMN_GROUP:{ah(this,e);break}case L.AFTER_BODY:{ih(this,e);break}case L.AFTER_AFTER_BODY:{kf(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Lj(this,e);return}switch(this.insertionMode){case L.INITIAL:{Gl(this,e);break}case L.BEFORE_HTML:{fc(this,e);break}case L.BEFORE_HEAD:{hc(this,e);break}case L.IN_HEAD:{pc(this,e);break}case L.IN_HEAD_NO_SCRIPT:{mc(this,e);break}case L.AFTER_HEAD:{gc(this,e);break}case L.TEXT:{this._insertCharacters(e);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{vb(this,e);break}case L.IN_COLUMN_GROUP:{ah(this,e);break}case L.AFTER_BODY:{ih(this,e);break}case L.AFTER_AFTER_BODY:{kf(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){w0(this,e);return}switch(this.insertionMode){case L.INITIAL:case L.BEFORE_HTML:case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_TEMPLATE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{w0(this,e);break}case L.IN_TABLE_TEXT:{Yl(this,e);break}case L.AFTER_BODY:{f7(this,e);break}case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{h7(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case L.INITIAL:{p7(this,e);break}case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:{this._err(e,ie.misplacedDoctype);break}case L.IN_TABLE_TEXT:{Yl(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ie.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?Pj(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case L.INITIAL:{Gl(this,e);break}case L.BEFORE_HTML:{m7(this,e);break}case L.BEFORE_HEAD:{b7(this,e);break}case L.IN_HEAD:{ja(this,e);break}case L.IN_HEAD_NO_SCRIPT:{E7(this,e);break}case L.AFTER_HEAD:{w7(this,e);break}case L.IN_BODY:{gr(this,e);break}case L.IN_TABLE:{wu(this,e);break}case L.IN_TABLE_TEXT:{Yl(this,e);break}case L.IN_CAPTION:{_j(this,e);break}case L.IN_COLUMN_GROUP:{U_(this,e);break}case L.IN_TABLE_BODY:{Ah(this,e);break}case L.IN_ROW:{Oh(this,e);break}case L.IN_CELL:{Tj(this,e);break}case L.IN_SELECT:{Kx(this,e);break}case L.IN_SELECT_IN_TABLE:{vj(this,e);break}case L.IN_TEMPLATE:{Aj(this,e);break}case L.AFTER_BODY:{Nj(this,e);break}case L.IN_FRAMESET:{xj(this,e);break}case L.AFTER_FRAMESET:{Rj(this,e);break}case L.AFTER_AFTER_BODY:{Ij(this,e);break}case L.AFTER_AFTER_FRAMESET:{Mj(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?Uj(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case L.INITIAL:{Gl(this,e);break}case L.BEFORE_HTML:{g7(this,e);break}case L.BEFORE_HEAD:{_7(this,e);break}case L.IN_HEAD:{y7(this,e);break}case L.IN_HEAD_NO_SCRIPT:{T7(this,e);break}case L.AFTER_HEAD:{v7(this,e);break}case L.IN_BODY:{Sh(this,e);break}case L.TEXT:{uj(this,e);break}case L.IN_TABLE:{Cc(this,e);break}case L.IN_TABLE_TEXT:{Yl(this,e);break}case L.IN_CAPTION:{yj(this,e);break}case L.IN_COLUMN_GROUP:{Ej(this,e);break}case L.IN_TABLE_BODY:{v0(this,e);break}case L.IN_ROW:{Vx(this,e);break}case L.IN_CELL:{wj(this,e);break}case L.IN_SELECT:{Zx(this,e);break}case L.IN_SELECT_IN_TABLE:{Sj(this,e);break}case L.IN_TEMPLATE:{Oj(this,e);break}case L.AFTER_BODY:{Qx(this,e);break}case L.IN_FRAMESET:{Cj(this,e);break}case L.AFTER_FRAMESET:{kj(this,e);break}case L.AFTER_AFTER_BODY:{kf(this,e);break}}}onEof(e){switch(this.insertionMode){case L.INITIAL:{Gl(this,e);break}case L.BEFORE_HTML:{fc(this,e);break}case L.BEFORE_HEAD:{hc(this,e);break}case L.IN_HEAD:{pc(this,e);break}case L.IN_HEAD_NO_SCRIPT:{mc(this,e);break}case L.AFTER_HEAD:{gc(this,e);break}case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{jx(this,e);break}case L.TEXT:{lj(this,e);break}case L.IN_TABLE_TEXT:{Yl(this,e);break}case L.IN_TEMPLATE:{Xx(this,e);break}case L.AFTER_BODY:case L.IN_FRAMESET:case L.AFTER_FRAMESET:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{P_(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===R.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.TEXT:case L.IN_COLUMN_GROUP:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{this._insertCharacters(e);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:case L.AFTER_BODY:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{Bx(this,e);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{vb(this,e);break}case L.IN_TABLE_TEXT:{qx(this,e);break}}}}function s7(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):zx(t,e),n}function o7(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const a=t.openElements.items[r];if(a===e.element)break;t._isSpecialElement(a,t.openElements.tagIDs[r])&&(n=a)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function u7(t,e,n){let r=e,a=t.openElements.getCommonAncestor(e);for(let o=0,u=a;u!==n;o++,u=a){a=t.openElements.getCommonAncestor(u);const c=t.activeFormattingElements.getElementEntry(u),d=c&&o>=a7;!c||d?(d&&t.activeFormattingElements.removeEntry(c),t.openElements.remove(u)):(u=l7(t,c),r===e&&(t.activeFormattingElements.bookmark=c),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(u,r),r=u)}return r}function l7(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function c7(t,e,n){const r=t.treeAdapter.getTagName(e),a=Pu(r);if(t._isElementCausesFosterParenting(a))t._fosterParentElement(n);else{const o=t.treeAdapter.getNamespaceURI(e);a===y.TEMPLATE&&o===_e.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function d7(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:a}=n,o=t.treeAdapter.createElement(a.tagName,r,a.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,a),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,o,a.tagID)}function D_(t,e){for(let n=0;n<r7;n++){const r=s7(t,e);if(!r)break;const a=o7(t,r);if(!a)break;t.activeFormattingElements.bookmark=r;const o=u7(t,a,r.element),u=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),u&&c7(t,u,o),d7(t,a,r)}}function w0(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function f7(t,e){t._appendCommentNode(e,t.openElements.items[0])}function h7(t,e){t._appendCommentNode(e,t.document)}function P_(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],a=t.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const o=t.openElements.items[1],u=t.treeAdapter.getNodeSourceCodeLocation(o);u&&!u.endTag&&t._setEndLocation(o,e)}}}}function p7(t,e){t._setDocumentType(e);const n=e.forceQuirks?_a.QUIRKS:qz(e);jz(e)||t._err(e,ie.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=L.BEFORE_HTML}function Gl(t,e){t._err(e,ie.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,_a.QUIRKS),t.insertionMode=L.BEFORE_HTML,t._processToken(e)}function m7(t,e){e.tagID===y.HTML?(t._insertElement(e,_e.HTML),t.insertionMode=L.BEFORE_HEAD):fc(t,e)}function g7(t,e){const n=e.tagID;(n===y.HTML||n===y.HEAD||n===y.BODY||n===y.BR)&&fc(t,e)}function fc(t,e){t._insertFakeRootElement(),t.insertionMode=L.BEFORE_HEAD,t._processToken(e)}function b7(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.HEAD:{t._insertElement(e,_e.HTML),t.headElement=t.openElements.current,t.insertionMode=L.IN_HEAD;break}default:hc(t,e)}}function _7(t,e){const n=e.tagID;n===y.HEAD||n===y.BODY||n===y.HTML||n===y.BR?hc(t,e):t._err(e,ie.endTagWithoutMatchingOpenElement)}function hc(t,e){t._insertFakeElement(W.HEAD,y.HEAD),t.headElement=t.openElements.current,t.insertionMode=L.IN_HEAD,t._processToken(e)}function ja(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:{t._appendElement(e,_e.HTML),e.ackSelfClosing=!0;break}case y.TITLE:{t._switchToTextParsing(e,An.RCDATA);break}case y.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,An.RAWTEXT):(t._insertElement(e,_e.HTML),t.insertionMode=L.IN_HEAD_NO_SCRIPT);break}case y.NOFRAMES:case y.STYLE:{t._switchToTextParsing(e,An.RAWTEXT);break}case y.SCRIPT:{t._switchToTextParsing(e,An.SCRIPT_DATA);break}case y.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=L.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(L.IN_TEMPLATE);break}case y.HEAD:{t._err(e,ie.misplacedStartTagForHeadElement);break}default:pc(t,e)}}function y7(t,e){switch(e.tagID){case y.HEAD:{t.openElements.pop(),t.insertionMode=L.AFTER_HEAD;break}case y.BODY:case y.BR:case y.HTML:{pc(t,e);break}case y.TEMPLATE:{bo(t,e);break}default:t._err(e,ie.endTagWithoutMatchingOpenElement)}}function bo(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==y.TEMPLATE&&t._err(e,ie.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(y.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,ie.endTagWithoutMatchingOpenElement)}function pc(t,e){t.openElements.pop(),t.insertionMode=L.AFTER_HEAD,t._processToken(e)}function E7(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.BASEFONT:case y.BGSOUND:case y.HEAD:case y.LINK:case y.META:case y.NOFRAMES:case y.STYLE:{ja(t,e);break}case y.NOSCRIPT:{t._err(e,ie.nestedNoscriptInHead);break}default:mc(t,e)}}function T7(t,e){switch(e.tagID){case y.NOSCRIPT:{t.openElements.pop(),t.insertionMode=L.IN_HEAD;break}case y.BR:{mc(t,e);break}default:t._err(e,ie.endTagWithoutMatchingOpenElement)}}function mc(t,e){const n=e.type===_t.EOF?ie.openElementsLeftAfterEof:ie.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=L.IN_HEAD,t._processToken(e)}function w7(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.BODY:{t._insertElement(e,_e.HTML),t.framesetOk=!1,t.insertionMode=L.IN_BODY;break}case y.FRAMESET:{t._insertElement(e,_e.HTML),t.insertionMode=L.IN_FRAMESET;break}case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:case y.NOFRAMES:case y.SCRIPT:case y.STYLE:case y.TEMPLATE:case y.TITLE:{t._err(e,ie.abandonedHeadElementChild),t.openElements.push(t.headElement,y.HEAD),ja(t,e),t.openElements.remove(t.headElement);break}case y.HEAD:{t._err(e,ie.misplacedStartTagForHeadElement);break}default:gc(t,e)}}function v7(t,e){switch(e.tagID){case y.BODY:case y.HTML:case y.BR:{gc(t,e);break}case y.TEMPLATE:{bo(t,e);break}default:t._err(e,ie.endTagWithoutMatchingOpenElement)}}function gc(t,e){t._insertFakeElement(W.BODY,y.BODY),t.insertionMode=L.IN_BODY,vh(t,e)}function vh(t,e){switch(e.type){case _t.CHARACTER:{Fx(t,e);break}case _t.WHITESPACE_CHARACTER:{Bx(t,e);break}case _t.COMMENT:{w0(t,e);break}case _t.START_TAG:{gr(t,e);break}case _t.END_TAG:{Sh(t,e);break}case _t.EOF:{jx(t,e);break}}}function Bx(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function Fx(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function S7(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function A7(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function O7(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,_e.HTML),t.insertionMode=L.IN_FRAMESET)}function N7(t,e){t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t._insertElement(e,_e.HTML)}function x7(t,e){t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&T0.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,_e.HTML)}function C7(t,e){t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t._insertElement(e,_e.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function R7(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t._insertElement(e,_e.HTML),n||(t.formElement=t.openElements.current))}function k7(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const a=t.openElements.tagIDs[r];if(n===y.LI&&a===y.LI||(n===y.DD||n===y.DT)&&(a===y.DD||a===y.DT)){t.openElements.generateImpliedEndTagsWithExclusion(a),t.openElements.popUntilTagNamePopped(a);break}if(a!==y.ADDRESS&&a!==y.DIV&&a!==y.P&&t._isSpecialElement(t.openElements.items[r],a))break}t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t._insertElement(e,_e.HTML)}function I7(t,e){t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t._insertElement(e,_e.HTML),t.tokenizer.state=An.PLAINTEXT}function M7(t,e){t.openElements.hasInScope(y.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(y.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,_e.HTML),t.framesetOk=!1}function L7(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(W.A);n&&(D_(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,_e.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function D7(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,_e.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function P7(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(y.NOBR)&&(D_(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,_e.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function U7(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,_e.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function B7(t,e){t.treeAdapter.getDocumentMode(t.document)!==_a.QUIRKS&&t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t._insertElement(e,_e.HTML),t.framesetOk=!1,t.insertionMode=L.IN_TABLE}function $x(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,_e.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Hx(t){const e=Cx(t,uo.TYPE);return e!=null&&e.toLowerCase()===n7}function F7(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,_e.HTML),Hx(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function $7(t,e){t._appendElement(e,_e.HTML),e.ackSelfClosing=!0}function H7(t,e){t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t._appendElement(e,_e.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function z7(t,e){e.tagName=W.IMG,e.tagID=y.IMG,$x(t,e)}function j7(t,e){t._insertElement(e,_e.HTML),t.skipNextNewLine=!0,t.tokenizer.state=An.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=L.TEXT}function q7(t,e){t.openElements.hasInButtonScope(y.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,An.RAWTEXT)}function G7(t,e){t.framesetOk=!1,t._switchToTextParsing(e,An.RAWTEXT)}function oA(t,e){t._switchToTextParsing(e,An.RAWTEXT)}function Y7(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,_e.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===L.IN_TABLE||t.insertionMode===L.IN_CAPTION||t.insertionMode===L.IN_TABLE_BODY||t.insertionMode===L.IN_ROW||t.insertionMode===L.IN_CELL?L.IN_SELECT_IN_TABLE:L.IN_SELECT}function V7(t,e){t.openElements.currentTagId===y.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,_e.HTML)}function K7(t,e){t.openElements.hasInScope(y.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,_e.HTML)}function Z7(t,e){t.openElements.hasInScope(y.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(y.RTC),t._insertElement(e,_e.HTML)}function X7(t,e){t._reconstructActiveFormattingElements(),Dx(e),L_(e),e.selfClosing?t._appendElement(e,_e.MATHML):t._insertElement(e,_e.MATHML),e.ackSelfClosing=!0}function Q7(t,e){t._reconstructActiveFormattingElements(),Px(e),L_(e),e.selfClosing?t._appendElement(e,_e.SVG):t._insertElement(e,_e.SVG),e.ackSelfClosing=!0}function uA(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,_e.HTML)}function gr(t,e){switch(e.tagID){case y.I:case y.S:case y.B:case y.U:case y.EM:case y.TT:case y.BIG:case y.CODE:case y.FONT:case y.SMALL:case y.STRIKE:case y.STRONG:{D7(t,e);break}case y.A:{L7(t,e);break}case y.H1:case y.H2:case y.H3:case y.H4:case y.H5:case y.H6:{x7(t,e);break}case y.P:case y.DL:case y.OL:case y.UL:case y.DIV:case y.DIR:case y.NAV:case y.MAIN:case y.MENU:case y.ASIDE:case y.CENTER:case y.FIGURE:case y.FOOTER:case y.HEADER:case y.HGROUP:case y.DIALOG:case y.DETAILS:case y.ADDRESS:case y.ARTICLE:case y.SEARCH:case y.SECTION:case y.SUMMARY:case y.FIELDSET:case y.BLOCKQUOTE:case y.FIGCAPTION:{N7(t,e);break}case y.LI:case y.DD:case y.DT:{k7(t,e);break}case y.BR:case y.IMG:case y.WBR:case y.AREA:case y.EMBED:case y.KEYGEN:{$x(t,e);break}case y.HR:{H7(t,e);break}case y.RB:case y.RTC:{K7(t,e);break}case y.RT:case y.RP:{Z7(t,e);break}case y.PRE:case y.LISTING:{C7(t,e);break}case y.XMP:{q7(t,e);break}case y.SVG:{Q7(t,e);break}case y.HTML:{S7(t,e);break}case y.BASE:case y.LINK:case y.META:case y.STYLE:case y.TITLE:case y.SCRIPT:case y.BGSOUND:case y.BASEFONT:case y.TEMPLATE:{ja(t,e);break}case y.BODY:{A7(t,e);break}case y.FORM:{R7(t,e);break}case y.NOBR:{P7(t,e);break}case y.MATH:{X7(t,e);break}case y.TABLE:{B7(t,e);break}case y.INPUT:{F7(t,e);break}case y.PARAM:case y.TRACK:case y.SOURCE:{$7(t,e);break}case y.IMAGE:{z7(t,e);break}case y.BUTTON:{M7(t,e);break}case y.APPLET:case y.OBJECT:case y.MARQUEE:{U7(t,e);break}case y.IFRAME:{G7(t,e);break}case y.SELECT:{Y7(t,e);break}case y.OPTION:case y.OPTGROUP:{V7(t,e);break}case y.NOEMBED:case y.NOFRAMES:{oA(t,e);break}case y.FRAMESET:{O7(t,e);break}case y.TEXTAREA:{j7(t,e);break}case y.NOSCRIPT:{t.options.scriptingEnabled?oA(t,e):uA(t,e);break}case y.PLAINTEXT:{I7(t,e);break}case y.COL:case y.TH:case y.TD:case y.TR:case y.HEAD:case y.FRAME:case y.TBODY:case y.TFOOT:case y.THEAD:case y.CAPTION:case y.COLGROUP:break;default:uA(t,e)}}function W7(t,e){if(t.openElements.hasInScope(y.BODY)&&(t.insertionMode=L.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function J7(t,e){t.openElements.hasInScope(y.BODY)&&(t.insertionMode=L.AFTER_BODY,Qx(t,e))}function ej(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function tj(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(y.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(y.FORM):n&&t.openElements.remove(n))}function nj(t){t.openElements.hasInButtonScope(y.P)||t._insertFakeElement(W.P,y.P),t._closePElement()}function rj(t){t.openElements.hasInListItemScope(y.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(y.LI),t.openElements.popUntilTagNamePopped(y.LI))}function aj(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function ij(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function sj(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function oj(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(W.BR,y.BR),t.openElements.pop(),t.framesetOk=!1}function zx(t,e){const n=e.tagName,r=e.tagID;for(let a=t.openElements.stackTop;a>0;a--){const o=t.openElements.items[a],u=t.openElements.tagIDs[a];if(r===u&&(r!==y.UNKNOWN||t.treeAdapter.getTagName(o)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=a&&t.openElements.shortenToLength(a);break}if(t._isSpecialElement(o,u))break}}function Sh(t,e){switch(e.tagID){case y.A:case y.B:case y.I:case y.S:case y.U:case y.EM:case y.TT:case y.BIG:case y.CODE:case y.FONT:case y.NOBR:case y.SMALL:case y.STRIKE:case y.STRONG:{D_(t,e);break}case y.P:{nj(t);break}case y.DL:case y.UL:case y.OL:case y.DIR:case y.DIV:case y.NAV:case y.PRE:case y.MAIN:case y.MENU:case y.ASIDE:case y.BUTTON:case y.CENTER:case y.FIGURE:case y.FOOTER:case y.HEADER:case y.HGROUP:case y.DIALOG:case y.ADDRESS:case y.ARTICLE:case y.DETAILS:case y.SEARCH:case y.SECTION:case y.SUMMARY:case y.LISTING:case y.FIELDSET:case y.BLOCKQUOTE:case y.FIGCAPTION:{ej(t,e);break}case y.LI:{rj(t);break}case y.DD:case y.DT:{aj(t,e);break}case y.H1:case y.H2:case y.H3:case y.H4:case y.H5:case y.H6:{ij(t);break}case y.BR:{oj(t);break}case y.BODY:{W7(t,e);break}case y.HTML:{J7(t,e);break}case y.FORM:{tj(t);break}case y.APPLET:case y.OBJECT:case y.MARQUEE:{sj(t,e);break}case y.TEMPLATE:{bo(t,e);break}default:zx(t,e)}}function jx(t,e){t.tmplInsertionModeStack.length>0?Xx(t,e):P_(t,e)}function uj(t,e){var n;e.tagID===y.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function lj(t,e){t._err(e,ie.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function vb(t,e){if(t.openElements.currentTagId!==void 0&&Ux.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=L.IN_TABLE_TEXT,e.type){case _t.CHARACTER:{Gx(t,e);break}case _t.WHITESPACE_CHARACTER:{qx(t,e);break}}else Gc(t,e)}function cj(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,_e.HTML),t.insertionMode=L.IN_CAPTION}function dj(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,_e.HTML),t.insertionMode=L.IN_COLUMN_GROUP}function fj(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(W.COLGROUP,y.COLGROUP),t.insertionMode=L.IN_COLUMN_GROUP,U_(t,e)}function hj(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,_e.HTML),t.insertionMode=L.IN_TABLE_BODY}function pj(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(W.TBODY,y.TBODY),t.insertionMode=L.IN_TABLE_BODY,Ah(t,e)}function mj(t,e){t.openElements.hasInTableScope(y.TABLE)&&(t.openElements.popUntilTagNamePopped(y.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function gj(t,e){Hx(e)?t._appendElement(e,_e.HTML):Gc(t,e),e.ackSelfClosing=!0}function bj(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,_e.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function wu(t,e){switch(e.tagID){case y.TD:case y.TH:case y.TR:{pj(t,e);break}case y.STYLE:case y.SCRIPT:case y.TEMPLATE:{ja(t,e);break}case y.COL:{fj(t,e);break}case y.FORM:{bj(t,e);break}case y.TABLE:{mj(t,e);break}case y.TBODY:case y.TFOOT:case y.THEAD:{hj(t,e);break}case y.INPUT:{gj(t,e);break}case y.CAPTION:{cj(t,e);break}case y.COLGROUP:{dj(t,e);break}default:Gc(t,e)}}function Cc(t,e){switch(e.tagID){case y.TABLE:{t.openElements.hasInTableScope(y.TABLE)&&(t.openElements.popUntilTagNamePopped(y.TABLE),t._resetInsertionMode());break}case y.TEMPLATE:{bo(t,e);break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TBODY:case y.TD:case y.TFOOT:case y.TH:case y.THEAD:case y.TR:break;default:Gc(t,e)}}function Gc(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,vh(t,e),t.fosterParentingEnabled=n}function qx(t,e){t.pendingCharacterTokens.push(e)}function Gx(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Yl(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Gc(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Yx=new Set([y.CAPTION,y.COL,y.COLGROUP,y.TBODY,y.TD,y.TFOOT,y.TH,y.THEAD,y.TR]);function _j(t,e){const n=e.tagID;Yx.has(n)?t.openElements.hasInTableScope(y.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(y.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=L.IN_TABLE,wu(t,e)):gr(t,e)}function yj(t,e){const n=e.tagID;switch(n){case y.CAPTION:case y.TABLE:{t.openElements.hasInTableScope(y.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(y.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=L.IN_TABLE,n===y.TABLE&&Cc(t,e));break}case y.BODY:case y.COL:case y.COLGROUP:case y.HTML:case y.TBODY:case y.TD:case y.TFOOT:case y.TH:case y.THEAD:case y.TR:break;default:Sh(t,e)}}function U_(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.COL:{t._appendElement(e,_e.HTML),e.ackSelfClosing=!0;break}case y.TEMPLATE:{ja(t,e);break}default:ah(t,e)}}function Ej(t,e){switch(e.tagID){case y.COLGROUP:{t.openElements.currentTagId===y.COLGROUP&&(t.openElements.pop(),t.insertionMode=L.IN_TABLE);break}case y.TEMPLATE:{bo(t,e);break}case y.COL:break;default:ah(t,e)}}function ah(t,e){t.openElements.currentTagId===y.COLGROUP&&(t.openElements.pop(),t.insertionMode=L.IN_TABLE,t._processToken(e))}function Ah(t,e){switch(e.tagID){case y.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,_e.HTML),t.insertionMode=L.IN_ROW;break}case y.TH:case y.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(W.TR,y.TR),t.insertionMode=L.IN_ROW,Oh(t,e);break}case y.CAPTION:case y.COL:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=L.IN_TABLE,wu(t,e));break}default:wu(t,e)}}function v0(t,e){const n=e.tagID;switch(e.tagID){case y.TBODY:case y.TFOOT:case y.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=L.IN_TABLE);break}case y.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=L.IN_TABLE,Cc(t,e));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TD:case y.TH:case y.TR:break;default:Cc(t,e)}}function Oh(t,e){switch(e.tagID){case y.TH:case y.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,_e.HTML),t.insertionMode=L.IN_CELL,t.activeFormattingElements.insertMarker();break}case y.CAPTION:case y.COL:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:case y.TR:{t.openElements.hasInTableScope(y.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=L.IN_TABLE_BODY,Ah(t,e));break}default:wu(t,e)}}function Vx(t,e){switch(e.tagID){case y.TR:{t.openElements.hasInTableScope(y.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=L.IN_TABLE_BODY);break}case y.TABLE:{t.openElements.hasInTableScope(y.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=L.IN_TABLE_BODY,v0(t,e));break}case y.TBODY:case y.TFOOT:case y.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(y.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=L.IN_TABLE_BODY,v0(t,e));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TD:case y.TH:break;default:Cc(t,e)}}function Tj(t,e){const n=e.tagID;Yx.has(n)?(t.openElements.hasInTableScope(y.TD)||t.openElements.hasInTableScope(y.TH))&&(t._closeTableCell(),Oh(t,e)):gr(t,e)}function wj(t,e){const n=e.tagID;switch(n){case y.TD:case y.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=L.IN_ROW);break}case y.TABLE:case y.TBODY:case y.TFOOT:case y.THEAD:case y.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),Vx(t,e));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:break;default:Sh(t,e)}}function Kx(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.OPTION:{t.openElements.currentTagId===y.OPTION&&t.openElements.pop(),t._insertElement(e,_e.HTML);break}case y.OPTGROUP:{t.openElements.currentTagId===y.OPTION&&t.openElements.pop(),t.openElements.currentTagId===y.OPTGROUP&&t.openElements.pop(),t._insertElement(e,_e.HTML);break}case y.HR:{t.openElements.currentTagId===y.OPTION&&t.openElements.pop(),t.openElements.currentTagId===y.OPTGROUP&&t.openElements.pop(),t._appendElement(e,_e.HTML),e.ackSelfClosing=!0;break}case y.INPUT:case y.KEYGEN:case y.TEXTAREA:case y.SELECT:{t.openElements.hasInSelectScope(y.SELECT)&&(t.openElements.popUntilTagNamePopped(y.SELECT),t._resetInsertionMode(),e.tagID!==y.SELECT&&t._processStartTag(e));break}case y.SCRIPT:case y.TEMPLATE:{ja(t,e);break}}}function Zx(t,e){switch(e.tagID){case y.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===y.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===y.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===y.OPTGROUP&&t.openElements.pop();break}case y.OPTION:{t.openElements.currentTagId===y.OPTION&&t.openElements.pop();break}case y.SELECT:{t.openElements.hasInSelectScope(y.SELECT)&&(t.openElements.popUntilTagNamePopped(y.SELECT),t._resetInsertionMode());break}case y.TEMPLATE:{bo(t,e);break}}}function vj(t,e){const n=e.tagID;n===y.CAPTION||n===y.TABLE||n===y.TBODY||n===y.TFOOT||n===y.THEAD||n===y.TR||n===y.TD||n===y.TH?(t.openElements.popUntilTagNamePopped(y.SELECT),t._resetInsertionMode(),t._processStartTag(e)):Kx(t,e)}function Sj(t,e){const n=e.tagID;n===y.CAPTION||n===y.TABLE||n===y.TBODY||n===y.TFOOT||n===y.THEAD||n===y.TR||n===y.TD||n===y.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(y.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Zx(t,e)}function Aj(t,e){switch(e.tagID){case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:case y.NOFRAMES:case y.SCRIPT:case y.STYLE:case y.TEMPLATE:case y.TITLE:{ja(t,e);break}case y.CAPTION:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:{t.tmplInsertionModeStack[0]=L.IN_TABLE,t.insertionMode=L.IN_TABLE,wu(t,e);break}case y.COL:{t.tmplInsertionModeStack[0]=L.IN_COLUMN_GROUP,t.insertionMode=L.IN_COLUMN_GROUP,U_(t,e);break}case y.TR:{t.tmplInsertionModeStack[0]=L.IN_TABLE_BODY,t.insertionMode=L.IN_TABLE_BODY,Ah(t,e);break}case y.TD:case y.TH:{t.tmplInsertionModeStack[0]=L.IN_ROW,t.insertionMode=L.IN_ROW,Oh(t,e);break}default:t.tmplInsertionModeStack[0]=L.IN_BODY,t.insertionMode=L.IN_BODY,gr(t,e)}}function Oj(t,e){e.tagID===y.TEMPLATE&&bo(t,e)}function Xx(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(y.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):P_(t,e)}function Nj(t,e){e.tagID===y.HTML?gr(t,e):ih(t,e)}function Qx(t,e){var n;if(e.tagID===y.HTML){if(t.fragmentContext||(t.insertionMode=L.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===y.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else ih(t,e)}function ih(t,e){t.insertionMode=L.IN_BODY,vh(t,e)}function xj(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.FRAMESET:{t._insertElement(e,_e.HTML);break}case y.FRAME:{t._appendElement(e,_e.HTML),e.ackSelfClosing=!0;break}case y.NOFRAMES:{ja(t,e);break}}}function Cj(t,e){e.tagID===y.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==y.FRAMESET&&(t.insertionMode=L.AFTER_FRAMESET))}function Rj(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.NOFRAMES:{ja(t,e);break}}}function kj(t,e){e.tagID===y.HTML&&(t.insertionMode=L.AFTER_AFTER_FRAMESET)}function Ij(t,e){e.tagID===y.HTML?gr(t,e):kf(t,e)}function kf(t,e){t.insertionMode=L.IN_BODY,vh(t,e)}function Mj(t,e){switch(e.tagID){case y.HTML:{gr(t,e);break}case y.NOFRAMES:{ja(t,e);break}}}function Lj(t,e){e.chars=un,t._insertCharacters(e)}function Dj(t,e){t._insertCharacters(e),t.framesetOk=!1}function Wx(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==_e.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function Pj(t,e){if(Qz(e))Wx(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===_e.MATHML?Dx(e):r===_e.SVG&&(Wz(e),Px(e)),L_(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function Uj(t,e){if(e.tagID===y.P||e.tagID===y.BR){Wx(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===_e.HTML){t._endTagOutsideForeignContent(e);break}const a=t.treeAdapter.getTagName(r);if(a.toLowerCase()===e.tagName){e.tagName=a,t.openElements.shortenToLength(n);break}}}W.AREA,W.BASE,W.BASEFONT,W.BGSOUND,W.BR,W.COL,W.EMBED,W.FRAME,W.HR,W.IMG,W.INPUT,W.KEYGEN,W.LINK,W.META,W.PARAM,W.SOURCE,W.TRACK,W.WBR;const Bj=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Fj=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),lA={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Jx(t,e){const n=Zj(t),r=ON("type",{handlers:{root:$j,element:Hj,text:zj,comment:tC,doctype:jj,raw:Gj},unknown:Yj}),a={parser:n?new sA(lA):sA.getFragmentParser(void 0,lA),handle(c){r(c,a)},stitches:!1,options:e||{}};r(t,a),Uu(a,gi());const o=n?a.parser.document:a.parser.getFragment(),u=$H(o,{file:a.options.file});return a.stitches&&zc(u,"comment",function(c,d,f){const p=c;if(p.value.stitch&&f&&d!==void 0){const m=f.children;return m[d]=p.value.stitch,d}}),u.type==="root"&&u.children.length===1&&u.children[0].type===t.type?u.children[0]:u}function eC(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function $j(t,e){eC(t.children,e)}function Hj(t,e){Vj(t,e),eC(t.children,e),Kj(t,e)}function zj(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:_t.CHARACTER,chars:t.value,location:Yc(t)};Uu(e,gi(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function jj(t,e){const n={type:_t.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Yc(t)};Uu(e,gi(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function qj(t,e){e.stitches=!0;const n=Xj(t);if("children"in t&&"children"in n){const r=Jx({type:"root",children:t.children},e.options);n.children=r.children}tC({type:"comment",value:{stitch:n}},e)}function tC(t,e){const n=t.value,r={type:_t.COMMENT,data:n,location:Yc(t)};Uu(e,gi(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function Gj(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,nC(e,gi(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(Bj,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function Yj(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))qj(n,e);else{let r="";throw Fj.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Uu(t,e){nC(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=An.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function nC(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function Vj(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===An.PLAINTEXT)return;Uu(e,gi(t));const r=e.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:oo.html;a===oo.html&&n==="svg"&&(a=oo.svg);const o=tz({...t,children:[]},{space:a===oo.svg?"svg":"html"}),u={type:_t.START_TAG,tagName:n,tagID:Pu(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:Yc(t)};e.parser.currentToken=u,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function Kj(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&lz.includes(n)||e.parser.tokenizer.state===An.PLAINTEXT)return;Uu(e,_h(t));const r={type:_t.END_TAG,tagName:n,tagID:Pu(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Yc(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===An.RCDATA||e.parser.tokenizer.state===An.RAWTEXT||e.parser.tokenizer.state===An.SCRIPT_DATA)&&(e.parser.tokenizer.state=An.DATA)}function Zj(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Yc(t){const e=gi(t)||{line:void 0,column:void 0,offset:void 0},n=_h(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function Xj(t){return"children"in t?Tu({...t,children:[]}):Tu(t)}function Qj(t){return function(e,n){return Jx(e,{...t,file:n})}}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:rC,setPrototypeOf:cA,isFrozen:Wj,getPrototypeOf:Jj,getOwnPropertyDescriptor:eq}=Object;let{freeze:Or,seal:Ta,create:aC}=Object,{apply:S0,construct:A0}=typeof Reflect<"u"&&Reflect;Or||(Or=function(e){return e});Ta||(Ta=function(e){return e});S0||(S0=function(e,n,r){return e.apply(n,r)});A0||(A0=function(e,n){return new e(...n)});const Sf=Nr(Array.prototype.forEach),tq=Nr(Array.prototype.lastIndexOf),dA=Nr(Array.prototype.pop),Vl=Nr(Array.prototype.push),nq=Nr(Array.prototype.splice),If=Nr(String.prototype.toLowerCase),Sb=Nr(String.prototype.toString),fA=Nr(String.prototype.match),Kl=Nr(String.prototype.replace),rq=Nr(String.prototype.indexOf),aq=Nr(String.prototype.trim),Da=Nr(Object.prototype.hasOwnProperty),wr=Nr(RegExp.prototype.test),Zl=iq(TypeError);function Nr(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return S0(t,e,r)}}function iq(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return A0(t,n)}}function wt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:If;cA&&cA(t,null);let r=e.length;for(;r--;){let a=e[r];if(typeof a=="string"){const o=n(a);o!==a&&(Wj(e)||(e[r]=o),a=o)}t[a]=!0}return t}function sq(t){for(let e=0;e<t.length;e++)Da(t,e)||(t[e]=null);return t}function Li(t){const e=aC(null);for(const[n,r]of rC(t))Da(t,n)&&(Array.isArray(r)?e[n]=sq(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Li(r):e[n]=r);return e}function Xl(t,e){for(;t!==null;){const r=eq(t,e);if(r){if(r.get)return Nr(r.get);if(typeof r.value=="function")return Nr(r.value)}t=Jj(t)}function n(){return null}return n}const hA=Or(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ab=Or(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ob=Or(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oq=Or(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Nb=Or(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uq=Or(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pA=Or(["#text"]),mA=Or(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),xb=Or(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gA=Or(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Af=Or(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lq=Ta(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cq=Ta(/<%[\w\W]*|[\w\W]*%>/gm),dq=Ta(/\$\{[\w\W]*/gm),fq=Ta(/^data-[\-\w.\u00B7-\uFFFF]+$/),hq=Ta(/^aria-[\-\w]+$/),iC=Ta(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pq=Ta(/^(?:\w+script|data):/i),mq=Ta(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sC=Ta(/^html$/i),gq=Ta(/^[a-z][.\w]*(-[.\w]+)+$/i);var bA=Object.freeze({__proto__:null,ARIA_ATTR:hq,ATTR_WHITESPACE:mq,CUSTOM_ELEMENT:gq,DATA_ATTR:fq,DOCTYPE_NAME:sC,ERB_EXPR:cq,IS_ALLOWED_URI:iC,IS_SCRIPT_OR_DATA:pq,MUSTACHE_EXPR:lq,TMPLIT_EXPR:dq});const Ql={element:1,text:3,progressingInstruction:7,comment:8,document:9},bq=function(){return typeof window>"u"?null:window},_q=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},_A=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function oC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bq();const e=qe=>oC(qe);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==Ql.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,a=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:u,Node:c,Element:d,NodeFilter:f,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:b,trustedTypes:E}=t,T=d.prototype,w=Xl(T,"cloneNode"),A=Xl(T,"remove"),O=Xl(T,"nextSibling"),k=Xl(T,"childNodes"),C=Xl(T,"parentNode");if(typeof u=="function"){const qe=n.createElement("template");qe.content&&qe.content.ownerDocument&&(n=qe.content.ownerDocument)}let $,P="";const{implementation:M,createNodeIterator:se,createDocumentFragment:q,getElementsByTagName:me}=n,{importNode:V}=r;let ce=_A();e.isSupported=typeof rC=="function"&&typeof C=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:he,ERB_EXPR:ve,TMPLIT_EXPR:X,DATA_ATTR:K,ARIA_ATTR:U,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:ue}=bA;let{IS_ALLOWED_URI:v}=bA,G=null;const re=wt({},[...hA,...Ab,...Ob,...Nb,...pA]);let x=null;const ge=wt({},[...mA,...xb,...gA,...Af]);let be=Object.seal(aC(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Se=null,We=null,nt=!0,Ft=!0,Nt=!1,qt=!0,Zt=!1,On=!0,hn=!1,Xn=!1,lt=!1,Dt=!1,yn=!1,sr=!1,Ce=!0,or=!1;const Ze="user-content-";let Pe=!0,He=!1,Re={},F=null;const te=wt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let pe=null;const De=wt({},["audio","video","img","source","image","track"]);let gt=null;const En=wt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ur="http://www.w3.org/1998/Math/MathML",Tn="http://www.w3.org/2000/svg",ln="http://www.w3.org/1999/xhtml";let pn=ln,an=!1,Hn=null;const Qn=wt({},[ur,Tn,ln],Sb);let qa=wt({},["mi","mo","mn","ms","mtext"]),Ga=wt({},["annotation-xml"]);const Ps=wt({},["title","style","font","a","script"]);let Rr=null;const Ya=["application/xhtml+xml","text/html"],B="text/html";let ae=null,Oe=null;const Je=n.createElement("form"),Xt=function(j){return j instanceof RegExp||j instanceof Function},Qt=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Oe&&Oe===j)){if((!j||typeof j!="object")&&(j={}),j=Li(j),Rr=Ya.indexOf(j.PARSER_MEDIA_TYPE)===-1?B:j.PARSER_MEDIA_TYPE,ae=Rr==="application/xhtml+xml"?Sb:If,G=Da(j,"ALLOWED_TAGS")?wt({},j.ALLOWED_TAGS,ae):re,x=Da(j,"ALLOWED_ATTR")?wt({},j.ALLOWED_ATTR,ae):ge,Hn=Da(j,"ALLOWED_NAMESPACES")?wt({},j.ALLOWED_NAMESPACES,Sb):Qn,gt=Da(j,"ADD_URI_SAFE_ATTR")?wt(Li(En),j.ADD_URI_SAFE_ATTR,ae):En,pe=Da(j,"ADD_DATA_URI_TAGS")?wt(Li(De),j.ADD_DATA_URI_TAGS,ae):De,F=Da(j,"FORBID_CONTENTS")?wt({},j.FORBID_CONTENTS,ae):te,Se=Da(j,"FORBID_TAGS")?wt({},j.FORBID_TAGS,ae):Li({}),We=Da(j,"FORBID_ATTR")?wt({},j.FORBID_ATTR,ae):Li({}),Re=Da(j,"USE_PROFILES")?j.USE_PROFILES:!1,nt=j.ALLOW_ARIA_ATTR!==!1,Ft=j.ALLOW_DATA_ATTR!==!1,Nt=j.ALLOW_UNKNOWN_PROTOCOLS||!1,qt=j.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Zt=j.SAFE_FOR_TEMPLATES||!1,On=j.SAFE_FOR_XML!==!1,hn=j.WHOLE_DOCUMENT||!1,Dt=j.RETURN_DOM||!1,yn=j.RETURN_DOM_FRAGMENT||!1,sr=j.RETURN_TRUSTED_TYPE||!1,lt=j.FORCE_BODY||!1,Ce=j.SANITIZE_DOM!==!1,or=j.SANITIZE_NAMED_PROPS||!1,Pe=j.KEEP_CONTENT!==!1,He=j.IN_PLACE||!1,v=j.ALLOWED_URI_REGEXP||iC,pn=j.NAMESPACE||ln,qa=j.MATHML_TEXT_INTEGRATION_POINTS||qa,Ga=j.HTML_INTEGRATION_POINTS||Ga,be=j.CUSTOM_ELEMENT_HANDLING||{},j.CUSTOM_ELEMENT_HANDLING&&Xt(j.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(be.tagNameCheck=j.CUSTOM_ELEMENT_HANDLING.tagNameCheck),j.CUSTOM_ELEMENT_HANDLING&&Xt(j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(be.attributeNameCheck=j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),j.CUSTOM_ELEMENT_HANDLING&&typeof j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(be.allowCustomizedBuiltInElements=j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Zt&&(Ft=!1),yn&&(Dt=!0),Re&&(G=wt({},pA),x=[],Re.html===!0&&(wt(G,hA),wt(x,mA)),Re.svg===!0&&(wt(G,Ab),wt(x,xb),wt(x,Af)),Re.svgFilters===!0&&(wt(G,Ob),wt(x,xb),wt(x,Af)),Re.mathMl===!0&&(wt(G,Nb),wt(x,gA),wt(x,Af))),j.ADD_TAGS&&(G===re&&(G=Li(G)),wt(G,j.ADD_TAGS,ae)),j.ADD_ATTR&&(x===ge&&(x=Li(x)),wt(x,j.ADD_ATTR,ae)),j.ADD_URI_SAFE_ATTR&&wt(gt,j.ADD_URI_SAFE_ATTR,ae),j.FORBID_CONTENTS&&(F===te&&(F=Li(F)),wt(F,j.FORBID_CONTENTS,ae)),Pe&&(G["#text"]=!0),hn&&wt(G,["html","head","body"]),G.table&&(wt(G,["tbody"]),delete Se.tbody),j.TRUSTED_TYPES_POLICY){if(typeof j.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof j.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$=j.TRUSTED_TYPES_POLICY,P=$.createHTML("")}else $===void 0&&($=_q(E,a)),$!==null&&typeof P=="string"&&(P=$.createHTML(""));Or&&Or(j),Oe=j}},Me=wt({},[...Ab,...Ob,...oq]),xe=wt({},[...Nb,...uq]),ze=function(j){let ye=C(j);(!ye||!ye.tagName)&&(ye={namespaceURI:pn,tagName:"template"});const Ie=If(j.tagName),$t=If(ye.tagName);return Hn[j.namespaceURI]?j.namespaceURI===Tn?ye.namespaceURI===ln?Ie==="svg":ye.namespaceURI===ur?Ie==="svg"&&($t==="annotation-xml"||qa[$t]):!!Me[Ie]:j.namespaceURI===ur?ye.namespaceURI===ln?Ie==="math":ye.namespaceURI===Tn?Ie==="math"&&Ga[$t]:!!xe[Ie]:j.namespaceURI===ln?ye.namespaceURI===Tn&&!Ga[$t]||ye.namespaceURI===ur&&!qa[$t]?!1:!xe[Ie]&&(Ps[Ie]||!Me[Ie]):!!(Rr==="application/xhtml+xml"&&Hn[j.namespaceURI]):!1},St=function(j){Vl(e.removed,{element:j});try{C(j).removeChild(j)}catch{A(j)}},Mt=function(j,ye){try{Vl(e.removed,{attribute:ye.getAttributeNode(j),from:ye})}catch{Vl(e.removed,{attribute:null,from:ye})}if(ye.removeAttribute(j),j==="is")if(Dt||yn)try{St(ye)}catch{}else try{ye.setAttribute(j,"")}catch{}},Va=function(j){let ye=null,Ie=null;if(lt)j="<remove></remove>"+j;else{const sn=fA(j,/^[\r\n\t ]+/);Ie=sn&&sn[0]}Rr==="application/xhtml+xml"&&pn===ln&&(j='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+j+"</body></html>");const $t=$?$.createHTML(j):j;if(pn===ln)try{ye=new b().parseFromString($t,Rr)}catch{}if(!ye||!ye.documentElement){ye=M.createDocument(pn,"template",null);try{ye.documentElement.innerHTML=an?P:$t}catch{}}const mn=ye.body||ye.documentElement;return j&&Ie&&mn.insertBefore(n.createTextNode(Ie),mn.childNodes[0]||null),pn===ln?me.call(ye,hn?"html":"body")[0]:hn?ye.documentElement:mn},$i=function(j){return se.call(j.ownerDocument||j,j,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},Ka=function(j){return j instanceof m&&(typeof j.nodeName!="string"||typeof j.textContent!="string"||typeof j.removeChild!="function"||!(j.attributes instanceof p)||typeof j.removeAttribute!="function"||typeof j.setAttribute!="function"||typeof j.namespaceURI!="string"||typeof j.insertBefore!="function"||typeof j.hasChildNodes!="function")},Za=function(j){return typeof c=="function"&&j instanceof c};function Wn(qe,j,ye){Sf(qe,Ie=>{Ie.call(e,j,ye,Oe)})}const Sa=function(j){let ye=null;if(Wn(ce.beforeSanitizeElements,j,null),Ka(j))return St(j),!0;const Ie=ae(j.nodeName);if(Wn(ce.uponSanitizeElement,j,{tagName:Ie,allowedTags:G}),On&&j.hasChildNodes()&&!Za(j.firstElementChild)&&wr(/<[/\w!]/g,j.innerHTML)&&wr(/<[/\w!]/g,j.textContent)||j.nodeType===Ql.progressingInstruction||On&&j.nodeType===Ql.comment&&wr(/<[/\w]/g,j.data))return St(j),!0;if(!G[Ie]||Se[Ie]){if(!Se[Ie]&&Xa(Ie)&&(be.tagNameCheck instanceof RegExp&&wr(be.tagNameCheck,Ie)||be.tagNameCheck instanceof Function&&be.tagNameCheck(Ie)))return!1;if(Pe&&!F[Ie]){const $t=C(j)||j.parentNode,mn=k(j)||j.childNodes;if(mn&&$t){const sn=mn.length;for(let zn=sn-1;zn>=0;--zn){const lr=w(mn[zn],!0);lr.__removalCount=(j.__removalCount||0)+1,$t.insertBefore(lr,O(j))}}}return St(j),!0}return j instanceof d&&!ze(j)||(Ie==="noscript"||Ie==="noembed"||Ie==="noframes")&&wr(/<\/no(script|embed|frames)/i,j.innerHTML)?(St(j),!0):(Zt&&j.nodeType===Ql.text&&(ye=j.textContent,Sf([he,ve,X],$t=>{ye=Kl(ye,$t," ")}),j.textContent!==ye&&(Vl(e.removed,{element:j.cloneNode()}),j.textContent=ye)),Wn(ce.afterSanitizeElements,j,null),!1)},Aa=function(j,ye,Ie){if(Ce&&(ye==="id"||ye==="name")&&(Ie in n||Ie in Je))return!1;if(!(Ft&&!We[ye]&&wr(K,ye))){if(!(nt&&wr(U,ye))){if(!x[ye]||We[ye]){if(!(Xa(j)&&(be.tagNameCheck instanceof RegExp&&wr(be.tagNameCheck,j)||be.tagNameCheck instanceof Function&&be.tagNameCheck(j))&&(be.attributeNameCheck instanceof RegExp&&wr(be.attributeNameCheck,ye)||be.attributeNameCheck instanceof Function&&be.attributeNameCheck(ye))||ye==="is"&&be.allowCustomizedBuiltInElements&&(be.tagNameCheck instanceof RegExp&&wr(be.tagNameCheck,Ie)||be.tagNameCheck instanceof Function&&be.tagNameCheck(Ie))))return!1}else if(!gt[ye]){if(!wr(v,Kl(Ie,z,""))){if(!((ye==="src"||ye==="xlink:href"||ye==="href")&&j!=="script"&&rq(Ie,"data:")===0&&pe[j])){if(!(Nt&&!wr(Z,Kl(Ie,z,"")))){if(Ie)return!1}}}}}}return!0},Xa=function(j){return j!=="annotation-xml"&&fA(j,ue)},sa=function(j){Wn(ce.beforeSanitizeAttributes,j,null);const{attributes:ye}=j;if(!ye||Ka(j))return;const Ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:x,forceKeepAttr:void 0};let $t=ye.length;for(;$t--;){const mn=ye[$t],{name:sn,namespaceURI:zn,value:lr}=mn,br=ae(sn),_r=lr;let fe=sn==="value"?_r:aq(_r);if(Ie.attrName=br,Ie.attrValue=fe,Ie.keepAttr=!0,Ie.forceKeepAttr=void 0,Wn(ce.uponSanitizeAttribute,j,Ie),fe=Ie.attrValue,or&&(br==="id"||br==="name")&&(Mt(sn,j),fe=Ze+fe),On&&wr(/((--!?|])>)|<\/(style|title)/i,fe)){Mt(sn,j);continue}if(Ie.forceKeepAttr)continue;if(!Ie.keepAttr){Mt(sn,j);continue}if(!qt&&wr(/\/>/i,fe)){Mt(sn,j);continue}Zt&&Sf([he,ve,X],it=>{fe=Kl(fe,it," ")});const Ge=ae(j.nodeName);if(!Aa(Ge,br,fe)){Mt(sn,j);continue}if($&&typeof E=="object"&&typeof E.getAttributeType=="function"&&!zn)switch(E.getAttributeType(Ge,br)){case"TrustedHTML":{fe=$.createHTML(fe);break}case"TrustedScriptURL":{fe=$.createScriptURL(fe);break}}if(fe!==_r)try{zn?j.setAttributeNS(zn,sn,fe):j.setAttribute(sn,fe),Ka(j)?St(j):dA(e.removed)}catch{Mt(sn,j)}}Wn(ce.afterSanitizeAttributes,j,null)},rn=function qe(j){let ye=null;const Ie=$i(j);for(Wn(ce.beforeSanitizeShadowDOM,j,null);ye=Ie.nextNode();)Wn(ce.uponSanitizeShadowNode,ye,null),Sa(ye),sa(ye),ye.content instanceof o&&qe(ye.content);Wn(ce.afterSanitizeShadowDOM,j,null)};return e.sanitize=function(qe){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=null,Ie=null,$t=null,mn=null;if(an=!qe,an&&(qe="<!-->"),typeof qe!="string"&&!Za(qe))if(typeof qe.toString=="function"){if(qe=qe.toString(),typeof qe!="string")throw Zl("dirty is not a string, aborting")}else throw Zl("toString is not a function");if(!e.isSupported)return qe;if(Xn||Qt(j),e.removed=[],typeof qe=="string"&&(He=!1),He){if(qe.nodeName){const lr=ae(qe.nodeName);if(!G[lr]||Se[lr])throw Zl("root node is forbidden and cannot be sanitized in-place")}}else if(qe instanceof c)ye=Va("<!---->"),Ie=ye.ownerDocument.importNode(qe,!0),Ie.nodeType===Ql.element&&Ie.nodeName==="BODY"||Ie.nodeName==="HTML"?ye=Ie:ye.appendChild(Ie);else{if(!Dt&&!Zt&&!hn&&qe.indexOf("<")===-1)return $&&sr?$.createHTML(qe):qe;if(ye=Va(qe),!ye)return Dt?null:sr?P:""}ye&&lt&&St(ye.firstChild);const sn=$i(He?qe:ye);for(;$t=sn.nextNode();)Sa($t),sa($t),$t.content instanceof o&&rn($t.content);if(He)return qe;if(Dt){if(yn)for(mn=q.call(ye.ownerDocument);ye.firstChild;)mn.appendChild(ye.firstChild);else mn=ye;return(x.shadowroot||x.shadowrootmode)&&(mn=V.call(r,mn,!0)),mn}let zn=hn?ye.outerHTML:ye.innerHTML;return hn&&G["!doctype"]&&ye.ownerDocument&&ye.ownerDocument.doctype&&ye.ownerDocument.doctype.name&&wr(sC,ye.ownerDocument.doctype.name)&&(zn="<!DOCTYPE "+ye.ownerDocument.doctype.name+`>
`+zn),Zt&&Sf([he,ve,X],lr=>{zn=Kl(zn,lr," ")}),$&&sr?$.createHTML(zn):zn},e.setConfig=function(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qt(qe),Xn=!0},e.clearConfig=function(){Oe=null,Xn=!1},e.isValidAttribute=function(qe,j,ye){Oe||Qt({});const Ie=ae(qe),$t=ae(j);return Aa(Ie,$t,ye)},e.addHook=function(qe,j){typeof j=="function"&&Vl(ce[qe],j)},e.removeHook=function(qe,j){if(j!==void 0){const ye=tq(ce[qe],j);return ye===-1?void 0:nq(ce[qe],ye,1)[0]}return dA(ce[qe])},e.removeHooks=function(qe){ce[qe]=[]},e.removeAllHooks=function(){ce=_A()},e}var yq=oC();function Eq({data:t}){const e=yq.sanitize(t,{ADD_TAGS:["code"],ADD_ATTR:["class"]});return tt.jsx(tt.Fragment,{children:tt.jsx(N8,{remarkPlugins:[$F],rehypePlugins:[xH,Qj],children:e||""})})}function Tq(){const[t,e]=Hr.useState(!1),{chat:n,chatReq:r,abortChat:a}=E6();return Hr.useEffect(()=>{const o=()=>{window.innerWidth<1024?e(!0):e(!1)};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),tt.jsx(tt.Fragment,{children:tt.jsxs("div",{className:"w-screen h-screen flex bg-gray-50",children:[tt.jsx("div",{className:`layout-transition ${t?"w-0":"w-70"} h-full absolute rounded-tr-2xl rounded-br-2xl bg-gray-50 z-1 shadow-lg lg:relative`,children:tt.jsxs("div",{className:"flex flex-col p-3 pt-6 pb-6 h-full",children:[tt.jsxs("div",{className:"overflow-hidden",children:[tt.jsxs("div",{className:"flex justify-between items-center",children:[tt.jsx("img",{src:"./ai-agent.svg",className:"w-8"}),tt.jsx(w1,{className:"w-6 cursor-pointer rounded-md p-1 text-gray-500 hover:bg-gray-100",onClick:()=>e(!0)})]}),tt.jsxs("div",{className:"layout-transition flex justify-center gap-2 border-1 border-gray-300 rounded-2xl p-2 cursor-pointer mt-3 text-gray-600 hover:bg-gray-100 hover:shadow-md",children:[tt.jsx(T1,{className:"w-4  text-gray-500"}),""]}),tt.jsxs("div",{className:"flex gap-2 items-center mt-6 mb-2 text-gray-600",children:[tt.jsx(o2,{className:"w-4 text-gray-500"}),""]})]}),tt.jsx("div",{className:"scrollbar-hide overflow-auto flex-1",children:tt.jsx(_k,{data:[]})})]})}),tt.jsxs("div",{className:"layout-transition overflow-auto flex-1 flex flex-col m-3 p-3 rounded-lg bg-gradient-to-tr form-white to-blue-100",onClick:()=>{window.innerWidth<1024&&e(!0)},children:[tt.jsxs("div",{className:"flex",children:[tt.jsxs("div",{className:"flex-1 flex items-center gap-2 h-8 overflow-hidden",children:[t&&tt.jsxs(tt.Fragment,{children:[tt.jsx(w1,{className:"w-6 cursor-pointer rounded-md p-1 text-gray-500 hover:bg-gray-100",onClick:o=>{o.stopPropagation(),e(!1)}}),tt.jsx(T1,{className:"w-6 cursor-pointer rounded-md p-1 text-gray-500 hover:bg-gray-200"})]}),tt.jsx("div",{className:"truncate",children:"chatSession?.title"})]}),tt.jsx("div",{className:"flex-2"})]}),tt.jsxs("div",{className:"overflow-auto flex h-full",children:[tt.jsx("div",{className:"flex-1"}),tt.jsxs("div",{className:"flex-5 flex flex-col",children:[tt.jsx("div",{className:"scrollbar-hide flex-1 overflow-auto  mb-3",children:tt.jsx(Eq,{data:r})}),tt.jsx(f2,{chat:n,abortChat:a})]}),tt.jsx("div",{className:"flex-1"})]})]})]})})}bk.createRoot(document.getElementById("root")).render(tt.jsx(Hr.StrictMode,{children:tt.jsx(Tq,{})}));export{e0 as B,uc as C,LO as H,ya as P,_n as R,q4 as S,K4 as a,o_ as b,MO as c,u_ as d,xP as e,vs as r};
